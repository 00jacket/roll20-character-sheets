<!-- Top Row: Logo, Character info, Class & Level info -->
<div class="3colrow">
    <div class="col">
        <img src="https://raw.githubusercontent.com/RandyKnapp/roll20-character-sheets/master/Zafir/zafir-black-small.png" />
    </div>

    <div class="col">
        <label>Name:</label><input type="text" spellcheck="false" name="attr_char_name" />
        <label>Pronouns:</label><input type="text" spellcheck="false" name="attr_char_pronouns" />
        <label>Origin:</label><input type="text" spellcheck="false" name="attr_char_origin" />
    </div>

    <div class="col">
        <label>Class:</label><input type="text" spellcheck="false" name="attr_class" />
        <label>Level:</label><input type="number" name="attr_level" /><br/>
        <label>XP:</label><input type="number" name="attr_xp" />
    </div>

</div>

<hr/>
<!-- Second Row: Base Attributes, Combat Attributes, Status -->
<div class="3colrow">
    <div class="col">
        <h3>Base Attributes</h3>
        <label>Toughness:</label><input type="number" name="attr_toughness" /><br/>
        <label>Agility:</label><input type="number" name="attr_agility" /><br/>
        <label>Accuracy:</label><input type="number" name="attr_accuracy" /><br/>
        <label>Discipline:</label><input type="number" name="attr_discipline" />
    </div>

    <div class="col">
        <h3>Combat Attributes</h3>
        <label class="tooltip">Max HP:<span class="tooltiptext"><b>Max HP:</b><br/>2<br/>+&nbsp;Half&nbsp;Level<br/>+&nbsp;Toughness<br/>+&nbsp;Body&nbsp;Armor<br/>+&nbsp;Other</span></label><input type="number" name="attr_hp_max" /><br/>
        <label class="tooltip">Speed:<span class="tooltiptext"><b>Speed:</b><br/>6<br/>+&nbsp;Double&nbsp;Agility<br/>+&nbsp;Equipment<br/>+&nbsp;Abilities<br/>+&nbsp;Other</span></label><input type="number" name="attr_speed" /><br/>
        <label class="tooltip">Aim:<span class="tooltiptext"><b>Aim:</b><br/>Accuracy<br/>+&nbsp;Equipment<br/>+&nbsp;Abilities<br/>+&nbsp;Other</span></label><input type="number" name="attr_aim" /><br/>
        <label class="tooltip">Will:<span class="tooltiptext"><b>Will:</b><br/>Discipline<br/>+&nbsp;Equipment<br/>+&nbsp;Abilities<br/>+&nbsp;Other</span></label><input type="number" name="attr_will" />
    </div>

    <div class="col">
        <h3>Status</h3>
        <label>HP <span style="font-family:Pictos">k</span>:</label><input type="number" name="attr_hp" /><span class="labellike">&nbsp;/&nbsp;</span><span class="labellike" name="attr_hp_max"></span><br/>
        <label>AP <span style="font-family: 'Pictos Three'">b</span>:</label><input type="number" name="attr_ap" /><br/>
        <label>SP <span style="font-family:Pictos">L</span>:</label><input type="number" name="attr_sp" /><br/>
        <label>Focus:</label><input type="number" name="attr_focus" />
    </div>
</div>


<br />
<input type='hidden' class='tabstoggle' name='attr_sheetTab' value='atk' />
<div class="tabrow">
    <button type="action" name="act_atk" class="atkbtn">Attacks &amp; Actions</button>
    <button type="action" name="act_aab" class="aabbtn">Abilities</button>
    <button type="action" name="act_pab" class="pabbtn">Passive Abilities</button>
    <button type="action" name="act_eqp" class="eqpbtn">Equipment</button>
    <button type="action" name="act_res" class="resbtn">Responsibilities</button>
    <button type="action" name="act_inv" class="invbtn">Inventory</button>
    <button type="action" name="act_oth" class="othbtn">Misc</button>
</div>
<br />

<div class='atk'>
    <button class="btn">Initialize Combat</button>
    <h2>Attacks &amp; Actions</h2>
    <div class="3colrow">
        <div class="col">
            <h3>Weapon Attack</h3>
        </div>
        <div class="col">
            <h3>Will Attack</h3>
        </div>
        <div class="col">
            <h3>Ammo Tracker</h3>
            <div class="inset">
                <label style="width:110px"><span name="attr_wpname" value="<primary weapon>"></span>:</label><input type="number" name="attr_wpammo" /><span class="labellike">&nbsp;/&nbsp;</span><span class="labellike" name="attr_wpammo_max"></span><br/>
            </div>
            <h3>Cooldown Tracker</h3>
            <div class="inset nowrap tracker">
                <fieldset class="repeating_cooldowntracker">
                    <input style="width:80%" type="text" spellcheck="false" name="attr_cooldownname" />
                    <input style="width:18%" type="number" name="attr_cooldownvalue" />
                </fieldset>
            </div>
            <h3>Charges Tracker</h3>
            <div class="inset nowrap tracker">
                <fieldset class="repeating_chargetracker">
                    <input style="width:80%" type="text" spellcheck="false" name="attr_chargename" />
                    <input style="width:18%" type="number" name="attr_chargevalue" />
                </fieldset>
            </div>
        </div>
    </div>
</div>

<div class='aab'>
    <h2>Active Abilities</h2>
    <div class="2colrow">
        <div class="col nowrap">
            <fieldset class="repeating_activeabilities">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_aablname" /><br/>
                <label>Activation:</label>
                    <select name="attr_aablactivation">
                        <option value="Free Action">Free Action</option>
                        <option value="Action">Action</option>
                        <option value="Action + Ends Turn">Action + Ends Turn</option>
                    </select>
                    <br/>
                <label>Range:</label>
                    <select name="attr_aablrange">
                        <option value="Self">Self</option>
                        <option value="Weapon">Weapon</option>
                        <option value="Adjacent">Adjacent</option>
                        <option value="Short">Short</option>
                        <option value="Medium">Medium</option>
                        <option value="Long">Long</option>
                        <option value="-">-</option>
                    </select>
                    <br/>
                <div class="2colrow">
                    <div class="col">
                        <label>Cooldown:</label><input type="number" name="attr_aablcooldown" />
                    </div>
                    <div class="col">
                        <label>Charges:</label><input type="number" name="attr_aablcharges" /><br/>
                    </div>
                </div>
                <label>Effect:</label><textarea name="attr_aableffect"></textarea>
                <hr />
            </fieldset>
        </div>
        <div class="col">
            <fieldset class="repeating_activeabilities2">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_aablname" /><br/>
                <label>Activation:</label>
                    <select name="attr_aablactivation">
                        <option value="Free Action">Free Action</option>
                        <option value="Action">Action</option>
                        <option value="Action + Ends Turn">Action + Ends Turn</option>
                    </select>
                    <br/>
                <label>Range:</label>
                    <select name="attr_aablrange">
                        <option value="Self">Self</option>
                        <option value="Weapon">Weapon</option>
                        <option value="Adjacent">Adjacent</option>
                        <option value="Short">Short</option>
                        <option value="Medium">Medium</option>
                        <option value="Long">Long</option>
                        <option value="-">-</option>
                    </select>
                    <br/>
                <div class="2colrow">
                    <div class="col">
                        <label>Cooldown:</label><input type="number" name="attr_aablcooldown" />
                    </div>
                    <div class="col">
                        <label>Charges:</label><input type="number" name="attr_aablcharges" /><br/>
                    </div>
                </div>
                <label>Effect:</label><textarea name="attr_aableffect"></textarea>
                <hr />
            </fieldset>
        </div>
    </div> 
</div>

<div class='pab'>
    <h2>Passive Abilities</h2>
    <div class="2colrow">
        <div class="col">
            <fieldset class="repeating_passiveabilities">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_pablname" /><br/>
                <label>Effect:</label><textarea name="attr_pableffect"></textarea>
                <hr />
            </fieldset>
        </div>
        <div class="col">
            <fieldset class="repeating_passiveabilities2">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_pablname" /><br/>
                <label>Effect:</label><textarea name="attr_pableffect"></textarea>
                <hr />
            </fieldset>
        </div>
    </div>
</div>

<div class='eqp'>
    <input type='hidden' class='tabstoggle' name='attr_sheetTabEqp' value='epw' />
    <div class="tabrow">
        <h2>Equipment</h2>
        <button type="action" name="act_epw" class="epwbtn">Primary Weapon</button>
        <button type="action" name="act_esw" class="eswbtn">Secondary Weapon</button>
        <button type="action" name="act_eba" class="ebabtn">Body Armor</button>
        <button type="action" name="act_ehg" class="ehgbtn">Headgear</button>
    </div>
    <br />
    <div class='epw'>
        <h3>Primary Weapon</h3>
        <div class="2colrow">
            <div class="col nowrap">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_wpname" /><br/>
                <label>Range:</label>
                    <select name="attr_wprange">
                        <option value="Adjacent">Adjacent</option>
                        <option value="Short">Short</option>
                        <option value="Medium">Medium</option>
                        <option value="Long">Long</option>
                    </select>
                    <br/>
                <div class="2colrowx">
                    <div class="colx">
                        <label>Aim Dice:</label><input type="number" name="attr_wpaimdice" />
                    </div>
                    <div class="colx">
                        <label>Crit Dice:</label><input type="number" name="attr_wpcritdice" />
                    </div>
                </div>
                <label>Damage:</label><input type="text" spellcheck="false" name="attr_wpdamage" /><br/>
                <div class="2colrowx">
                    <div class="colx">
                        <label>Crit Dmg:</label><input type="number" name="attr_wpcritdmg" />
                    </div>
                    <div class="colx">
                        <label>Max Ammo:</label><input type="number" name="attr_wpammo_max" />
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="clearfix">
                    <label>Notes:</label><textarea name="attr_wpnotes"></textarea>
                </div>
                <label>Mod Slots:</label><input type="number" name="attr_wp_modslots" /><br/>
                <div class="clearfix">
                    <label>Mods:</label><textarea name="attr_wpmods"></textarea>
                </div>
            </div>
        </div>
    </div>
    <div class='esw'>
        <h3>Secondary Weapon</h3>
        <div class="2colrow">
            <div class="col nowrap">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_wsname" /><br/>
                <label>Range:</label>
                    <select name="attr_wsrange">
                        <option value="Adjacent">Adjacent</option>
                        <option value="Short">Short</option>
                        <option value="Medium">Medium</option>
                        <option value="Long">Long</option>
                    </select>
                    <br/>
                <div class="2colrowx">
                    <div class="colx">
                        <label>Aim Dice:</label><input type="number" name="attr_wsaimdice" />
                    </div>
                    <div class="colx">
                        <label>Crit Dice:</label><input type="number" name="attr_wscritdice" />
                    </div>
                </div>
                <label>Damage:</label><input type="text" spellcheck="false" name="attr_wsdamage" /><br/>
                <div class="2colrowx">
                    <div class="colx">
                        <label>Crit Dmg:</label><input type="number" name="attr_wscritdmg" />
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="clearfix">
                    <label>Notes:</label><textarea name="attr_wsnotes"></textarea>
                </div>
                <label>Mod Slots:</label><input type="number" name="attr_ws_modslots" /><br/>
                <div class="clearfix">
                    <label>Mods:</label><textarea name="attr_wsmods"></textarea>
                </div>
            </div>
        </div>
    </div>
    <div class='eba'>
        <h3>BodyArmor</h3>
        <div class="2colrow">
            <div class="col">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_baname" /><br/>
                <div class="3colrowx nowrap">
                    <div class="colx">
                        <label>HP:</label><input type="number" name="attr_bahp" />
                    </div>
                    <div class="colx">
                        <label style="position:relative;left:50px;">AP:</label><input type="number" name="attr_baap" />
                    </div>
                    <div class="colx">
                        <label style="position:relative;left:50px;">SP:</label><input type="number" name="attr_basp" />
                    </div>
                </div>
                <div class="clearfix">
                    <label>Notes:</label><textarea name="attr_banotes"></textarea>
                </div>
                <label>Mod Slots:</label><input type="number" name="attr_ba_modslots" /><br/>
                <div class="clearfix">
                    <label>Mods:</label><textarea name="attr_bamods"></textarea>
                </div>
            </div>
            <div class="col pockets">
                <span class="labellike help tooltip">&nbsp;<span style="font-family:Pictos">?</span><span class="tooltiptext"><b>Empty Pockets:</b><br/>To get an empty pocket to stay on the character sheet, put a dash (-) in the text field.</span></span> 
                <h3>Pockets</h3>
                <fieldset class="repeating_bapockets">
                    <select name="attr_pocketname">
                        <option value="Utility">Utility</option>
                        <option value="Grenade">Grenade</option>
                        <option value="Special Ammo">Special Ammo</option>
                        <option value="Hardpoint">Hardpoint</option>
                    </select>
                    <input type="text" spellcheck="false" name="attr_pocketitemname" />
                </fieldset>
            </div>
        </div>
    </div>
    <div class='ehg'>
        <h3>Headgear</h3>
        <div class="2colrow">
            <div class="col">
                <label>Name:</label><input type="text" spellcheck="false" name="attr_hgname" /><br/>
                <div class="clearfix">
                    <label>Effects:</label><textarea name="attr_hgeffects"></textarea>
                </div>
            </div>
            <div class="col">
            </div>
        </div>
    </div>
</div>

<div class='res'>
    <h2>Responsibilities</h2>
    <div class="3colrow">
        <div class="col">
            <label>Acquisition:</label><input type="number" name="attr_acquisition" /><br/>
            <label>Arcana:</label><input type="number" name="attr_arcana" /><br/>
            <label>Engineering:</label><input type="number" name="attr_engineering" /><br/>
            <label>Entertainment:</label><input type="number" name="attr_entertainment" /><br/>
            <label>Leadership:</label><input type="number" name="attr_leadership" />
        </div>
        <div class="col">
            <label>Medicine:</label><input type="number" name="attr_medicine" /><br/>
            <label>Navigation:</label><input type="number" name="attr_navigation" /><br/>
            <label>Security:</label><input type="number" name="attr_security" /><br/>
            <label>Spirituality:</label><input type="number" name="attr_spirituality" /><br/>
            <label>Sustenance:</label><input type="number" name="attr_sustenance" />
        </div>
        <div class="col">
        </div>
    </div>
</div>

<div class='inv'>
    <div class="3colrow">
        <div class="col">
            <h2>Money</h2>
            <label class="short money" style="font-family:Helvetica, Arial">₹</label><input type="number" class="expand" name="attr_money" /><br/>
        </div>
        <div class="col">
            <h2>Inventory</h2>
            <fieldset class="repeating_inv">
                <input type="text" class="full" spellcheck="false" name="attr_invitemname" />
            </fieldset>
        </div>
        <div class="col">
        </div>
    </div> 
</div>

<div class='oth'>
    <div class="3colrow">
        <div class="col">
            <h2>Proficiencies</h2>
            <div class="inset">
                <fieldset class="repeating_proficiencies">
                    <input type="text" class="full" spellcheck="false" name="attr_proficiencyname" />
                </fieldset>
            </div>
        </div>
        <div class="col">
            <h2>Languages</h2>
            <h3>Fluent</h3>
            <div class="inset">
                <fieldset class="repeating_fluentlangs">
                    <input type="text" class="full" spellcheck="false" name="attr_flangname" />
                </fieldset>
            </div>
            <br />
            <h3>Conversational</h3>
            <div class="inset">
                <fieldset class="repeating_convlangs">
                    <input type="text" class="full" spellcheck="false" name="attr_clangname" />
                </fieldset>
            </div>
        </div>
        <div class="col">
        </div>
    </div>
</div>

<script type="text/worker">
    // Main tab bar
    const buttonlist = ["atk", "aab", "pab", "eqp", "res", "inv", "oth"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

    // Equipment sheet tab bar
    const buttonlistEqp = ["epw", "esw", "eba", "ehg"];
    buttonlistEqp.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTabEqp: button
            });
        });
    });
</script>
