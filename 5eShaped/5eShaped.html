<div class="wrapper relative"><input type="hidden" name="attr_is_npc" class="slide-input-pc"> <input type="hidden" name="attr_psionics" class="toggle-psionics"> <input type="hidden" name="attr_custom_classes" class="toggle-custom-classes"> <input type="hidden" name="attr_show_passive_skills" class="toggle-passive-skills"> <input type="hidden" name="attr_expand" class="expand-contract"> <input type="hidden" name="attr_roll_setting" value="ignore"> <input type="hidden" name="attr_shaped_d20" value="d20"> <input type="hidden" name="attr_d20_mod"> <input type="hidden" name="attr_use_custom_saving_throws" class="toggle-use-custom-saving-throws"> <input type="hidden" name="attr_honor_toggle" class="toggle-honor"> <input type="hidden" name="attr_sanity_toggle" class="toggle-sanity"> <input type="hidden" name="attr_has_warlock_slots" class="has-warlock-slots"> <input type="hidden" name="attr_show_spells" class="toggle-spells"> <input type="hidden" name="attr_prepared_matters" class="toggle-prepared-matters"> <input type="hidden" name="attr_spells_level_0_show" class="toggle-level-0"><input type="hidden" name="attr_spells_level_1_show" class="toggle-level-1"><input type="hidden" name="attr_spells_level_2_show" class="toggle-level-2"><input type="hidden" name="attr_spells_level_3_show" class="toggle-level-3"><input type="hidden" name="attr_spells_level_4_show" class="toggle-level-4"><input type="hidden" name="attr_spells_level_5_show" class="toggle-level-5"><input type="hidden" name="attr_spells_level_6_show" class="toggle-level-6"><input type="hidden" name="attr_spells_level_7_show" class="toggle-level-7"><input type="hidden" name="attr_spells_level_8_show" class="toggle-level-8"><input type="hidden" name="attr_spells_level_9_show" class="toggle-level-9"> <input type="checkbox" name="attr_edit_mode" class="toggle-edit-mode hidden"><div class="core-header pc"><div class="shaped-row"><div class="col-40"><div class="shaped-row vert-center no-wrap space-between mar-r-sm"><div class="dnd-image-wrapper mar-r-sm"><img src="http://i.imgur.com/X44kw8b.png" alt="Dungeons & Dragons (5th edition)"></div><div class="shaped-version right mar-l-sm"><span>Shaped</span> <span>v<span name="attr_version"></span></span></div></div><div class="character-name relative"><input type="text" name="attr_character_name"><div class="wrap-box-label" data-i18n="CHARACTER_NAME"></div></div></div><div class="col-60 header-info"><div class="wrap-box"><div class="shaped-row"><div class="flex-grow"><div class="presentation"><span name="attr_class_and_level" class="pseudo-input border-bottom"></span></div><div class="edit min-height-2-em"><input type="hidden" name="attr_level"><fieldset class="repeating_class"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_name"><option value="">&#8212;</option><option value="BARBARIAN" data-i18n="BARBARIAN"></option><option value="BARD" data-i18n="BARD"></option><option value="CLERIC" data-i18n="CLERIC"></option><option value="DRUID" data-i18n="DRUID"></option><option value="FIGHTER" data-i18n="FIGHTER"></option><option value="MONK" data-i18n="MONK"></option><option value="PALADIN" data-i18n="PALADIN"></option><option value="PSION" data-i18n="PSION" class="psionics"></option><option value="RANGER" data-i18n="RANGER"></option><option value="ROGUE" data-i18n="ROGUE"></option><option value="SORCERER" data-i18n="SORCERER"></option><option value="SOULKNIFE" data-i18n="SOULKNIFE" class="psionics"></option><option value="SUMMONER" data-i18n="SUMMONER" class="custom-class"></option><option value="WARLOCK" data-i18n="WARLOCK"></option><option value="WIZARD" data-i18n="WIZARD"></option><option value="CUSTOM" data-i18n="CUSTOM"></option></select></div><input type="hidden" name="attr_custom_class_toggle" class="toggle-custom-class-name"><div class="7-rem custom-class-name pad-l-sm"><input type="text" name="attr_custom_name" data-i18n-placeholder="CUSTOM_CLASS_NAME"></div><div class="3-rem pad-l-sm"><input type="number" name="attr_level" value="1" min="1"></div><div class="2-rem pad-l-sm"><select name="attr_hd"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select></div><div class="4-rem flex-grow pad-l-sm"><select name="attr_spellcasting"><option value="none">&#8212;</option><option value="full" data-i18n="CASTERS_FULL"></option><option value="half" data-i18n="CASTERS_HALF"></option><option value="third" data-i18n="CASTERS_THIRD"></option><option value="fullPsionics" data-i18n="PSIONICS_FULL"></option><option value="halfPsionics" data-i18n="PSIONICS_HALF"></option><option value="thirdPsionics" data-i18n="PSIONICS_THIRD"></option><option value="warlock" data-i18n="WARLOCK"></option></select></div></div></fieldset></div><button type="roll" name="roll_shaped_class" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CLASS_AND_LEVEL}}} {{text_big=@{class_and_level}}}"><div class="edit border-top"></div><div class="wrap-box-label" data-i18n="CLASS_AND_LEVEL"></div></button></div><div class="edit pad-r-md"></div><div class="7-rem"><input type="text" name="attr_background" class="border-bottom"> <button type="roll" name="roll_shaped_background" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{BACKGROUND}}} {{text_big=@{background}}}"><div class="wrap-box-label" data-i18n="BACKGROUND"></div></button></div></div><div class="shaped-row"><div class="6-rem flex-grow"><input type="text" name="attr_race" class="border-bottom"> <button type="roll" name="roll_shaped_race" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{RACE}}} {{text_big=@{race}}}"><div class="wrap-box-label" data-i18n="RACE"></div></button></div><div class="4-rem"><select name="attr_size" class="border-bottom"><option value="TINY" data-i18n="TINY"></option><option value="SMALL" data-i18n="SMALL"></option><option value="MEDIUM" data-i18n="MEDIUM" selected="selected"></option><option value="LARGE" data-i18n="LARGE"></option><option value="HUGE" data-i18n="HUGE"></option><option value="GARGANTUAN" data-i18n="GARGANTUAN"></option></select><button type="roll" name="roll_shaped_size" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SIZE}}} {{text_big=@{size}}}"><div class="wrap-box-label" data-i18n="SIZE"></div></button></div><div class="6-rem flex-grow"><input type="text" name="attr_alignment" class="border-bottom"> <button type="roll" name="roll_shaped_alignment" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ALIGNMENT}}} {{text_big=@{alignment}}}"><div class="wrap-box-label" data-i18n="ALIGNMENT"></div></button></div><div class="7-rem"><div class="shaped-row flex-end no-wrap"><div class="3-rem flex-grow"><input type="number" name="attr_xp" class="no-spin border-bottom" min="0" step="1"></div><div class="border-bottom pad-l-sm pad-r-sm">&#47;</div><div class="3-rem flex-grow"><span name="attr_xp_next_level" class="pseudo-input border-bottom center"></span></div></div><button type="roll" name="roll_shaped_xp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{EXPERIENCE_POINTS}}} {{text_big=[[@{xp}]]&#47;[[@{xp_next_level}]] for level [[@{level} + 1]]}}"><div class="wrap-box-label" data-i18n="EXPERIENCE_POINTS"></div></button></div></div></div></div></div></div><input type="hidden" name="attr_tab" class="toggle-page" value="core"><div class="nav shaped-row space-between mar-t-sm mar-b-sm"><div class="shaped-row"><div><label class="pseudo-button-wrapper page"><input type="radio" name="attr_tab" value="core" checked="checked"> <span data-i18n="CORE" class="bold"></span></label></div><div class="pc"><label class="pseudo-button-wrapper page"><input type="radio" name="attr_tab" value="character"> <span data-i18n="CHARACTER" class="bold"></span></label></div><div><label class="pseudo-button-wrapper page"><input type="radio" name="attr_tab" value="settings"> <span class="pictos">y</span></label></div><div><label class="pseudo-button-wrapper page"><input type="radio" name="attr_tab" value="all"> <span data-i18n="ALL" class="bold"></span></label></div><div class="mar-l-lg"><input type="checkbox" name="attr_edit_mode" class="toggle-edit-mode negative-mar-t-six"><span class="toggle-edit-mode pictos negative-mar-t-six">p</span></div></div><div class="flex-grow center"><label class="pseudo-button-wrapper expand-contract-wrapper"><input type="checkbox" name="attr_expand" value="1" class="expand-contract"> <span data-i18n="EXPAND" class="expand"></span> <span data-i18n="CONTRACT" class="contract"></span></label></div><div><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="d20" checked="checked"> <span data-i18n="NORMAL" class="small-label"></span></label><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="2d20kh1"> <span data-i18n="ADVANTAGE" class="small-label"></span></label><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="2d20kl1"> <span data-i18n="DISADVANTAGE" class="small-label"></span></label></div></div><div class="section-core pc"><div class="shaped-row"><div class="15-rem left-column pad-r-smd"><div class="shaped-row"><div class="col-31 pad-r-sm"><input type="hidden" name="attr_finesse_mod"><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_strength_formula" value="0[strength mod]"> <input type="hidden" name="attr_strength_check_mod_formula"> <button type="roll" name="roll_shaped_strength_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{STRENGTH} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_check_mod_formula}]]}} @{hide_gm_info} @{attacher_strength_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="STRENGTH"></span> <input type="hidden" name="attr_strength_mod"> <input type="hidden" name="attr_strength_mod_with_sign" value="+0"> <span name="attr_strength_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_strength_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_strength_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_strength_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_strength" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_strength_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_dexterity_formula" value="0[dexterity mod]"> <input type="hidden" name="attr_dexterity_check_mod_formula"> <button type="roll" name="roll_shaped_dexterity_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DEXTERITY} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_check_mod_formula}]]}} @{hide_gm_info} @{attacher_dexterity_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="DEXTERITY"></span> <input type="hidden" name="attr_dexterity_mod"> <input type="hidden" name="attr_dexterity_mod_with_sign" value="+0"> <span name="attr_dexterity_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_dexterity_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_dexterity_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_dexterity_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_dexterity" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_dexterity_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_constitution_formula" value="0[constitution mod]"> <input type="hidden" name="attr_constitution_check_mod_formula"> <button type="roll" name="roll_shaped_constitution_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONSTITUTION} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_check_mod_formula}]]}} @{hide_gm_info} @{attacher_constitution_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="CONSTITUTION"></span> <input type="hidden" name="attr_constitution_mod"> <input type="hidden" name="attr_constitution_mod_with_sign" value="+0"> <span name="attr_constitution_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_constitution_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_constitution_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_constitution_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_constitution" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_constitution_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_intelligence_formula" value="0[intelligence mod]"> <input type="hidden" name="attr_intelligence_check_mod_formula"> <button type="roll" name="roll_shaped_intelligence_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INTELLIGENCE} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_check_mod_formula}]]}} @{hide_gm_info} @{attacher_intelligence_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="INTELLIGENCE"></span> <input type="hidden" name="attr_intelligence_mod"> <input type="hidden" name="attr_intelligence_mod_with_sign" value="+0"> <span name="attr_intelligence_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_intelligence_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_intelligence_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_intelligence_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_intelligence" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_intelligence_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_wisdom_formula" value="0[wisdom mod]"> <input type="hidden" name="attr_wisdom_check_mod_formula"> <button type="roll" name="roll_shaped_wisdom_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WISDOM} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_check_mod_formula}]]}} @{hide_gm_info} @{attacher_wisdom_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="WISDOM"></span> <input type="hidden" name="attr_wisdom_mod"> <input type="hidden" name="attr_wisdom_mod_with_sign" value="+0"> <span name="attr_wisdom_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_wisdom_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_wisdom_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_wisdom_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_wisdom" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_wisdom_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center"><input type="hidden" name="attr_charisma_formula" value="0[charisma mod]"> <input type="hidden" name="attr_charisma_check_mod_formula"> <button type="roll" name="roll_shaped_charisma_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CHARISMA} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_check_mod_formula}]]}} @{hide_gm_info} @{attacher_charisma_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="CHARISMA"></span> <input type="hidden" name="attr_charisma_mod"> <input type="hidden" name="attr_charisma_mod_with_sign" value="+0"> <span name="attr_charisma_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_charisma_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_charisma_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_charisma_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_charisma" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_charisma_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center honor"><input type="hidden" name="attr_honor_formula" value="0[honor mod]"> <input type="hidden" name="attr_honor_check_mod_formula"> <button type="roll" name="roll_shaped_honor_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HONOR} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_check_mod_formula}]]}} @{hide_gm_info} @{attacher_honor_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="HONOR"></span> <input type="hidden" name="attr_honor_mod"> <input type="hidden" name="attr_honor_mod_with_sign" value="+0"> <span name="attr_honor_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_honor_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_honor_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_honor_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_honor" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_honor_bonus" class="no-spin" value="0" step="1"></div></div></div><div class="ability-wrapper wrap-box center sanity"><input type="hidden" name="attr_sanity_formula" value="0[sanity mod]"> <input type="hidden" name="attr_sanity_check_mod_formula"> <button type="roll" name="roll_shaped_sanity_check" class="wrapper-button overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SANITY} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_check_mod_formula}]]}} @{hide_gm_info} @{attacher_sanity_check}" tabindex="-1"><div class="center"><span class="ability-name white-space-nowrap" data-i18n="SANITY"></span> <input type="hidden" name="attr_sanity_mod"> <input type="hidden" name="attr_sanity_mod_with_sign" value="+0"> <span name="attr_sanity_mod_with_sign" class="ability-modifier block center"></span></div></button><div class="edit shaped-row no-wrap vert-center small-label"><span data-i18n="CHECK"></span><div>+</div><div><input type="number" name="attr_sanity_check_bonus" class="no-spin" value="0" step="1"></div><div>=</div><span class="mar-l-sm" name="attr_sanity_check_mod">0</span></div><div class="ability-score-wrapper shaped-row no-wrap center vert-center"><span name="attr_sanity_calculated" class="presentation">10</span><div class="edit"><input type="number" name="attr_sanity" class="no-spin" min="1" step="1" value="10"></div><div class="edit">+</div><div class="edit"><input type="number" name="attr_sanity_bonus" class="no-spin" value="0" step="1"></div></div></div></div><div class="col-69 pad-l-sm"><div class="inspiration wrap-box relative mar-t-sm mar-b-md"><div class="shaped-row vert-center"><input type="hidden" name="attr_inspiration_multiple" class="inspiration-multiple-toggle"><label class="inspiration-label"><input type="checkbox" name="attr_inspiration" value="1"><span></span></label><div class="inspiration-multiple"><input type="number" name="attr_inspiration" value="1" class="big-font no-spin"><span></span></div><button type="roll" name="roll_shaped_inspiration" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INSPIRATION}}} {{text_big=[[@{inspiration}]]}}" tabindex="-1"><div class="wrap-box-title" data-i18n="INSPIRATION"></div></button></div></div><div class="proficiency-bonus wrap-box relative mar-t-sm mar-b-md"><button type="roll" name="roll_shaped_pb" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PROFICIENCY_BONUS}}} {{text_big=[[@{pb}]]}}" tabindex="-1"><div class="shaped-row vert-center"><div class="proficiency-bonus-wrapper center"><span name="attr_PB" class="big-font">2</span> <input type="hidden" name="attr_PB" value="2"> <input type="hidden" name="attr_exp" value="4"> <input type="hidden" name="attr_h_PB" value="1"></div><div class="wrap-box-title pad-l-sm" data-i18n="PROFICIENCY_BONUS"></div></div></button></div><div class="saving-throw wrap-box mar-b-smd"><div class="default-saving-throw"><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_strength_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_strength_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_strength_saving_throw_mod"> <input type="hidden" name="attr_strength_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_strength_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{STRENGTH} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_strength_saving_throw}" tabindex="-1"><span name="attr_strength_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="STRENGTH"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_dexterity_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_dexterity_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_dexterity_saving_throw_mod"> <input type="hidden" name="attr_dexterity_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_dexterity_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DEXTERITY} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_dexterity_saving_throw}" tabindex="-1"><span name="attr_dexterity_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="DEXTERITY"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_constitution_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_constitution_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_constitution_saving_throw_mod"> <input type="hidden" name="attr_constitution_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_constitution_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONSTITUTION} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_constitution_saving_throw}" tabindex="-1"><span name="attr_constitution_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="CONSTITUTION"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_intelligence_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_intelligence_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_intelligence_saving_throw_mod"> <input type="hidden" name="attr_intelligence_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_intelligence_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INTELLIGENCE} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_intelligence_saving_throw}" tabindex="-1"><span name="attr_intelligence_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="INTELLIGENCE"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_wisdom_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_wisdom_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_wisdom_saving_throw_mod"> <input type="hidden" name="attr_wisdom_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_wisdom_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WISDOM} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_wisdom_saving_throw}" tabindex="-1"><span name="attr_wisdom_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="WISDOM"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_charisma_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_charisma_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_charisma_saving_throw_mod"> <input type="hidden" name="attr_charisma_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_charisma_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CHARISMA} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_charisma_saving_throw}" tabindex="-1"><span name="attr_charisma_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="CHARISMA"></span></button></div><div class="shaped-row vert-center pad-b-sm honor"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_honor_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_honor_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_honor_saving_throw_mod"> <input type="hidden" name="attr_honor_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_honor_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HONOR} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_honor_saving_throw}" tabindex="-1"><span name="attr_honor_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="HONOR"></span></button></div><div class="shaped-row vert-center pad-b-sm sanity"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_sanity_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_sanity_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_sanity_saving_throw_mod"> <input type="hidden" name="attr_sanity_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_sanity_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SANITY} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_sanity_saving_throw}" tabindex="-1"><span name="attr_sanity_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="SANITY"></span></button></div></div><div class="custom-saving-throw"><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_fortitude_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_fortitude_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_fortitude_saving_throw_mod"> <input type="hidden" name="attr_fortitude_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_fortitude_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{FORTITUDE} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{fortitude_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{fortitude_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_fortitude_saving_throw}" tabindex="-1"><span name="attr_fortitude_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="FORTITUDE"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_reflex_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_reflex_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_reflex_saving_throw_mod"> <input type="hidden" name="attr_reflex_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_reflex_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{REFLEX} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{reflex_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{reflex_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_reflex_saving_throw}" tabindex="-1"><span name="attr_reflex_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="REFLEX"></span></button></div><div class="shaped-row vert-center pad-b-sm"><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_will_save_prof" value="@{PB}"> <span></span></label><div class="1-5-rem edit"><input type="number" name="attr_will_save_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_will_saving_throw_mod"> <input type="hidden" name="attr_will_saving_throw_mod_with_sign" value="+0"> <button type="roll" name="roll_shaped_will_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WILL} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{will_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{will_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_will_saving_throw}" tabindex="-1"><span name="attr_will_saving_throw_mod_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span class="ability-saving-throw-name" data-i18n="WILL"></span></button></div></div><button type="roll" name="roll_shaped_saving_throw" class="wrapper-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SAVING_THROWS}}} {{text_big=@{saving_throw_macro_var}}}"><div class="wrap-box-title center" data-i18n="SAVING_THROWS"></div></button></div><div class="skills wrap-box mar-b-smd"><fieldset class="repeating_skill"><input type="hidden" name="attr_skill_d20_wrap" value="@{skill_d20}@{d20_mod}"><div class="shaped-row no-wrap vert-center"><div class="1-rem edit pad-r-sm"><select name="attr_skill_d20" class="no-shrink"><option value="@{shaped_d20}" data-i18n="SKILL_SHEET_SETTING"></option><option value="d20" data-i18n="NORMAL"></option><option value="2d20kh1" data-i18n="ADVANTAGE"></option><option value="2d20kl1" data-i18n="DISADVANTAGE"></option><option value="?{Roll|Normal,d20|Advantage,2d20kh1|Disadvantage,2d20kl1}" data-i18n="QUERY"></option><option value="?{Disadvantaged|No,2d20kh1|Yes,d20}" data-i18n="ADVANTAGE_QUERY"></option><option value="?{Advantaged|No,2d20kl1|Yes,d20}" data-i18n="DISADVANTAGE_QUERY"></option></select></div><label class="round-checkbox-wrapper mar-r-sm"><input type="checkbox" name="attr_prof_toggle"> <input type="hidden" name="attr_proficiency" class="skill-proficiency"> <span></span></label><div class="1-rem no-shrink edit"><input type="number" name="attr_bonus" class="no-spin small-label" value="0" step="1"></div><button type="roll" name="roll_skill" class="overflow-hidden" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name} (^{@{ability_key}})}} {{@{skill_d20}=1}} {{roll1=[[@{skill_d20_wrap} + @{formula}]]}} {{@{roll_setting}=[[@{skill_d20_wrap} + @{formula}]]}} @{hide_gm_info} @{attacher_skill}" tabindex="-1"><div class="shaped-row no-wrap flex-end white-space-nowrap"><span name="attr_total_with_sign" class="1-5-rem input-like center bold border-bottom"></span> <span name="attr_name" class="presentation pad-l-sm"></span></div></button><div class="4-rem edit"><input type="text" name="attr_name"></div><input type="hidden" name="attr_formula"> <input type="hidden" name="attr_ability_key"><div class="skills-ability-selector-wrapper no-shrink pad-l-sm"><div class="shaped-row no-wrap vert-center"><span>(</span><select name="attr_ability" class="skills-ability-selector"><option value="0">&#8212;</option><option value="strength" data-i18n="STR" class=""></option><option value="dexterity" data-i18n="DEX" class=""></option><option value="constitution" data-i18n="CON" class=""></option><option value="intelligence" data-i18n="INT" class=""></option><option value="wisdom" data-i18n="WIS" class=""></option><option value="charisma" data-i18n="CHA" class=""></option><option value="honor" data-i18n="HON" class="honor"></option><option value="sanity" data-i18n="SAN" class="sanity"></option></select><span>)</span></div></div><div class="1-rem edit no-shrink passive-skill"><input type="number" name="attr_passive_bonus" class="no-spin small-label" value="0" step="1"></div><input type="hidden" name="attr_passive"> <button type="roll" name="roll_passive" class="passive-skill" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PASSIVE} @{name} (<span data-i18n=@{ability_key}>@{ability_key}<span>)}} {{roll1=[[@{passive}]]}} @{hide_gm_info} @{attacher_skill}" tabindex="-1"><div class="shaped-row no-wrap flex-end"><span name="attr_passive" class="1-rem small-label center"></span></div></button></div></fieldset><div class="edit center mar-t-sm"><label class="pseudo-button-wrapper visible-button"><input type="checkbox" name="attr_generate_skills" value="1"> <span data-i18n="GENERATE_SKILLS"></span></label></div><button type="roll" name="roll_shaped_ability_checks" class="wrapper-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ABILITY_CHECKS}}} {{@{ability_checks_text_size}=@{ability_checks_macro_var}}}"><div class="wrap-box-title center" data-i18n="SKILLS"></div></button></div><div class="resistances-immunities wrap-box mar-b-smd"><div class="damage-vulnerabilities"><input type="hidden" name="attr_damage_vulnerabilities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_vulnerabilities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_VULNERABILITIES}}} {{text=@{damage_vulnerabilities}}}"><span class="heading" data-i18n="DAMAGE_VULNERABILITIES">.</span> <span name="attr_damage_vulnerabilities" class="presentation pre-line"></span></button><textarea name="attr_damage_vulnerabilities" class="edit two-line-textarea"></textarea></div><div class="damage-resistances"><input type="hidden" name="attr_damage_resistances_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_resistances" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_RESISTANCES}}} {{text=@{damage_resistances}}}"><span class="heading" data-i18n="DAMAGE_RESISTANCES">.</span> <span name="attr_damage_resistances" class="presentation pre-line"></span></button><textarea name="attr_damage_resistances" class="edit two-line-textarea"></textarea></div><div class="damage-immunities"><input type="hidden" name="attr_damage_immunities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_immunities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_IMMUNITIES}}} {{text=@{damage_immunities}}}"><span class="heading" data-i18n="DAMAGE_IMMUNITIES">.</span> <span name="attr_damage_immunities" class="presentation pre-line"></span></button><textarea name="attr_damage_immunities" class="edit two-line-textarea"></textarea></div><div class="condition-immunities"><input type="hidden" name="attr_condition_immunities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_condition_immunities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONDITION_IMMUNITIES}}} {{text=@{condition_immunities}}}"><span class="heading" data-i18n="CONDITION_IMMUNITIES">.</span> <span name="attr_condition_immunities" class="presentation pre-line"></span></button><textarea name="attr_condition_immunities" class="edit two-line-textarea"></textarea></div><div class="wrap-box-title center" data-i18n="RESISTANCES_AND_IMMUNITIES"></div></div></div></div><div class="wrap-box mar-b-smd"><div><input type="hidden" name="attr_npc_speed" accept="Speed"> <input type="hidden" name="attr_speed_string"><div class="shaped-row"><div><button type="roll" name="roll_shaped_speed" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPEED}}} {{text_big=@{speed_string}}}"><span data-i18n="SPEED" class="heading"></span> <span name="attr_speed_string" class="presentation"></span></button></div><div class="mar-l-smd edit"></div><div class="shaped-row no-wrap edit"><div class="1-5-rem"><input type="number" name="attr_speed" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="BURROW" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_burrow" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="CLIMB" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_climb" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="FLY" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_fly" class="small-label no-spin" step="1"></div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_speed_fly_hover" value="1"> <span data-i18n="HOVER" class="small-font lowercase"></span></label><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="SWIM" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_swim" class="small-label no-spin" step="1"></div></div></div></div><input type="hidden" name="attr_senses_exist" class="item-toggle"><div class="item-to-toggle"><input type="hidden" name="attr_senses" accept="Senses"> <input type="hidden" name="attr_senses_string"><div class="shaped-row"><div><button type="roll" name="roll_shaped_senses" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SENSES}}} {{text_big=@{senses_string}}}"><span data-i18n="SENSES" class="heading"></span> <span name="attr_senses_string" class="presentation"></span></button></div><div class="mar-l-smd edit"></div><div class="shaped-row no-wrap edit"><span data-i18n="BLINDSIGHT" class="lowercase"></span><div class="1-5-rem edit"><input type="number" name="attr_blindsight" class="small-label no-spin" step="1"></div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_blindsight_blind_beyond" value="1"> <span data-i18n="BLIND_BEYOND" class="small-font lowercase"></span></label><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="DARKVISION" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_darkvision" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="TREMORSENSE" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_tremorsense" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="TRUESIGHT" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_truesight" class="small-label no-spin" step="1"></div></div></div></div></div><div class="mar-b-smd"><div class="wrap-box languages-proficiencies"><div class="proficienciess"><button type="roll" name="roll_shaped_proficiencies" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PROFICIENCIES}}} {{text=@{proficiencies}}}"><span class="heading" data-i18n="PROFICIENCIES">.</span> <span name="attr_proficiencies" class="presentation pre-line"></span></button><textarea name="attr_proficiencies" class="five-line-textarea edit"></textarea></div><div class="languages"><button type="roll" name="roll_shaped_languages" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{LANGUAGES}}} {{text_big=@{languages}}}"><span class="heading" data-i18n="LANGUAGES">.</span> <span name="attr_languages" class="presentation pre-line"></span></button><textarea name="attr_languages" class="two-line-textarea edit"></textarea></div><div class="wrap-box-title center" data-i18n="OTHER_PROFICIENCIES_AND_LANGUAGES"></div></div></div></div><div class="19-rem center-column flex-grow"><div class="shaped-row space-between flex-end mar-l-neg-smd"><div class="shaped-row flex-end no-wrap mar-l-smd mar-b-smd"><div class="heart center mar-r-sm"><div class="shaped-row heart-hp-wrapper center flex-end no-wrap"><div class="3-rem"><input type="number" name="attr_HP" class="big-text no-spin" step="1"></div><div class="heart-divider">&#47;</div><div class="3-rem"><input type="number" name="attr_HP_max" class="big-text no-spin" min="1" step="1"></div></div><button type="roll" name="roll_shaped_hp" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HIT_POINTS}}} {{text_big=[[@{HP}]]&#47;[[@{HP|max}]], [[@{temp_HP}]] ^{HIT_POINTS_TEMPORARY}, [[@{HP_max_reduced}]] ^{REDUCED_MAX_HIT_POINTS}}}"><div class="wrap-box-title center" data-i18n="HIT_POINTS"></div></button><div class="shaped-row center"><div class="2-rem"><input type="number" name="attr_temp_hp" class="no-spin" min="0" step="1"></div></div><div class="wrap-box-title center" data-i18n="TEMP"></div></div><div class="max-hp-heart center mar-b-smd"><div class="shaped-row center pad-t-lg"><div class="2-rem"><input type="number" name="attr_hp_max_reduced" class="no-spin" min="0" step="1"></div></div><button type="roll" name="roll_shaped_hp_max_reduced" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{REDUCED_MAX_HIT_POINTS}}} {{text_big=[[@{HP_max_reduced}]]}}"><div class="wrap-box-title center" data-i18n="REDUCED_MAX"></div></button></div></div><div class="ac center mar-l-smd mar-b-smd"><input type="hidden" name="attr_AC" value="10"> <button type="roll" name="roll_shaped_ac" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{AC}}} {{text_big=[[@{AC}]]}}"><div class="shield"><span name="attr_AC" class="big-text block center">10</span><div class="wrap-box-title center" data-i18n="ARMOR_CLASS"></div></div></button></div><div class="4-rem center mar-l-smd mar-b-smd"><div class="wrap-box initiative flex flex-end center"><input type="hidden" name="attr_initiative_formula" value="0[dex mod]"><div class="edit shaped-row no-wrap vert-center"><div class="2-rem"><select name="attr_initiative_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class="" selected="selected"></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div>+</div><div class="1-rem"><input type="text" name="attr_initiative_bonus" class="center" value="0"></div></div><div class="edit shaped-row no-wrap vert-center"><div>=</div><span name="attr_initiative" class="big-text block center">+0</span></div><button type="roll" name="roll_shaped_initiative" value="@{initiative_output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INITIATIVE}}} {{roll1=[[@{initiative_roll}@{d20_mod} + @{initiative_to_tracker} + @{initiative_tie_breaker}]]}} {{@{initiative_roll}=1}} @{attacher_initiative}"><span name="attr_initiative" class="presentation big-text block center initiative-total">+0</span><div class="wrap-box-title center" data-i18n="INITIATIVE"></div></button></div></div><div class="3-rem center mar-l-smd mar-b-smd"><div class="wrap-box center speed flex flex-end center"><div class="edit"><input type="number" name="attr_speed" class="big-text center no-spin" step="1"></div><button type="roll" name="roll_shaped_speed" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPEED}}} {{text_big=@{speed_string}}}"><span name="attr_speed" class="presentation big-text block center"></span><div class="wrap-box-title" data-i18n="SPEED"></div></button></div></div><div class="4-rem hit-dice wrap-box center mar-l-smd mar-b-smd"><div class="hit-dice-container"><input type="hidden" name="attr_hd_d2_toggle" class="toggle-hd-d2"><div class="shaped-row center flex-end toggle-hd-d2"><div class="1-rem"><input type="number" name="attr_hd_d2" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d2_max" class="center"></span></div><input type="hidden" name="attr_hd_d2_query"><div><button type="roll" name="roll_shaped_hd_d2" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d2_query}d2 ^{HIT_DICE}}} {{uses=@{hd_d2}}} {{uses_max=@{hd_d2|max}}} {{roll1=[[{((@{hd_d2_query})d2[d2 * hd] + ((@{hd_d2_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d2</button></div></div><input type="hidden" name="attr_hd_d4_toggle" class="toggle-hd-d4"><div class="shaped-row center flex-end toggle-hd-d4"><div class="1-rem"><input type="number" name="attr_hd_d4" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d4_max" class="center"></span></div><input type="hidden" name="attr_hd_d4_query"><div><button type="roll" name="roll_shaped_hd_d4" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d4_query}d4 ^{HIT_DICE}}} {{uses=@{hd_d4}}} {{uses_max=@{hd_d4|max}}} {{roll1=[[{((@{hd_d4_query})d4[d4 * hd] + ((@{hd_d4_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d4</button></div></div><input type="hidden" name="attr_hd_d6_toggle" class="toggle-hd-d6"><div class="shaped-row center flex-end toggle-hd-d6"><div class="1-rem"><input type="number" name="attr_hd_d6" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d6_max" class="center"></span></div><input type="hidden" name="attr_hd_d6_query"><div><button type="roll" name="roll_shaped_hd_d6" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d6_query}d6 ^{HIT_DICE}}} {{uses=@{hd_d6}}} {{uses_max=@{hd_d6|max}}} {{roll1=[[{((@{hd_d6_query})d6[d6 * hd] + ((@{hd_d6_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d6</button></div></div><input type="hidden" name="attr_hd_d8_toggle" class="toggle-hd-d8"><div class="shaped-row center flex-end toggle-hd-d8"><div class="1-rem"><input type="number" name="attr_hd_d8" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d8_max" class="center"></span></div><input type="hidden" name="attr_hd_d8_query"><div><button type="roll" name="roll_shaped_hd_d8" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d8_query}d8 ^{HIT_DICE}}} {{uses=@{hd_d8}}} {{uses_max=@{hd_d8|max}}} {{roll1=[[{((@{hd_d8_query})d8[d8 * hd] + ((@{hd_d8_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d8</button></div></div><input type="hidden" name="attr_hd_d10_toggle" class="toggle-hd-d10"><div class="shaped-row center flex-end toggle-hd-d10"><div class="1-rem"><input type="number" name="attr_hd_d10" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d10_max" class="center"></span></div><input type="hidden" name="attr_hd_d10_query"><div><button type="roll" name="roll_shaped_hd_d10" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d10_query}d10 ^{HIT_DICE}}} {{uses=@{hd_d10}}} {{uses_max=@{hd_d10|max}}} {{roll1=[[{((@{hd_d10_query})d10[d10 * hd] + ((@{hd_d10_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d10</button></div></div><input type="hidden" name="attr_hd_d12_toggle" class="toggle-hd-d12"><div class="shaped-row center flex-end toggle-hd-d12"><div class="1-rem"><input type="number" name="attr_hd_d12" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d12_max" class="center"></span></div><input type="hidden" name="attr_hd_d12_query"><div><button type="roll" name="roll_shaped_hd_d12" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d12_query}d12 ^{HIT_DICE}}} {{uses=@{hd_d12}}} {{uses_max=@{hd_d12|max}}} {{roll1=[[{((@{hd_d12_query})d12[d12 * hd] + ((@{hd_d12_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d12</button></div></div><input type="hidden" name="attr_hd_d20_toggle" class="toggle-hd-d20"><div class="shaped-row center flex-end toggle-hd-d20"><div class="1-rem"><input type="number" name="attr_hd_d20" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d20_max" class="center"></span></div><input type="hidden" name="attr_hd_d20_query"><div><button type="roll" name="roll_shaped_hd_d20" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d20_query}d20 ^{HIT_DICE}}} {{uses=@{hd_d20}}} {{uses_max=@{hd_d20|max}}} {{roll1=[[{((@{hd_d20_query})d20[d20 * hd] + ((@{hd_d20_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d20</button></div></div></div><div class="wrap-box-title" data-i18n="HIT_DICE"></div></div><div class="death-saving-throw wrap-box mar-l-smd mar-b-smd"><div class="shaped-row justify-flex-end vert-center death-success"><div class="small-label right" data-i18n="SUCCESSES"></div><div class="center relative pad-l-sm pad-r-sm"><input type="radio" name="attr_death_saving_throw_successes" value="0" checked="checked"><span>&#10006;</span> <input type="radio" name="attr_death_saving_throw_successes" value="1"><span></span> <input type="radio" name="attr_death_saving_throw_successes" value="2"><span></span> <input type="radio" name="attr_death_saving_throw_successes" value="3"><span></span><hr class="absolute death-saving-throw-hr"></div></div><div class="shaped-row justify-flex-end vert-center death-saving-throw death-fail"><div class="small-label right" data-i18n="FAILURES"></div><div class="center relative pad-l-sm pad-r-sm"><input type="radio" name="attr_death_saving_throw_failures" value="0" checked="checked"><span>&#10006;</span> <input type="radio" name="attr_death_saving_throw_failures" value="1"><span></span> <input type="radio" name="attr_death_saving_throw_failures" value="2"><span></span> <input type="radio" name="attr_death_saving_throw_failures" value="3"><span></span><hr class="absolute death-saving-throw-hr"></div></div><div class="shaped-row center"><label class="round-checkbox-wrapper edit mar-t-sm mar-r-sm"><input type="checkbox" name="attr_death_saving_throw_prof" value="@{PB}"> <span></span></label><button type="roll" name="roll_shaped_death_saving_throw" value="@{death_save_output_option} &{template:5e-shaped} {{death_saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} @{show_character_name} {{title=^{DEATH_SAVING_THROW}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{death_saving_throw_prof}[proficient] + (@{global_saving_throw_bonus})[global saving throw bonus]]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{death_saving_throw_prof}[proficient] + (@{global_saving_throw_bonus})[global saving throw bonus]]]}} {{death_saving_throw_successes=@{death_saving_throw_successes}}} {{death_saving_throw_failures=@{death_saving_throw_failures}}} @{attacher_death_saving_throw}"><div class="wrap-box-title center" data-i18n="DEATH_SAVES"></div></button></div></div><input type="hidden" name="attr_show_rests" class="show-rests"><div class="rests mar-l-smd mar-b-smd"><div class="wrap-box center"><div><button type="roll" name="roll_shaped_short_rest" class="visible-button" value="!shaped-rest --short --id @{character_id}"><span data-i18n="SHORT_REST"></span></button></div><div><button type="roll" name="roll_shaped_long_rest" class="visible-button" value="!shaped-rest --long --id @{character_id}"><span data-i18n="LONG_REST"></span></button></div><div class="wrap-box-title" data-i18n="RESTS"></div></div></div></div><div class="mar-b-smd"><div class="attacks wrap-box"><div><div class="shaped-row space-between no-wrap"><div class="4-rem flex-grow wrap-box-label light-label pad-r-sm" data-i18n="ATTACK"></div><div class="2-rem wrap-box-label light-label center pad-r-sm" data-i18n="ATK"></div><div class="7-rem flex-grow wrap-box-label light-label pad-r-sm" data-i18n="DAMAGE"></div><div class="3-rem wrap-box-label light-label center pad-r-sm" data-i18n="USES"></div><div class="1-rem edit"></div></div><fieldset class="repeating_attack"><div class="attack compendium-drop-target relative"><input type="hidden" name="attr_modifiers" accept="Modifiers"> <input type="hidden" name="attr_properties" accept="Properties"> <input type="hidden" name="attr_freetext" accept="Content"> <input type="hidden" name="attr_weight" accept="Weight"> <input type="hidden" name="attr_roll_formula"><div class="shaped-row space-between no-wrap vert-center"><div class="4-rem flex-grow no-overflow pad-r-sm"><div class="shaped-row no-wrap"><div><input type="checkbox" name="attr_carried" class="small-checkbox" checked="checked"></div><div class="flex-grow"><div class="edit"><input type="text" name="attr_name" data-i18n-placeholder="NAME" accept="Name"></div><div class="presentation"><button type="roll" name="roll_attack" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span name="attr_name"></span></button></div></div></div></div><div class="2-rem pad-r-sm"><button type="roll" name="roll_attack" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><div class="center"><span name="attr_to_hit"></span></div></button></div><div class="7-rem flex-grow no-overflow pad-r-sm"><button type="roll" name="roll_attack" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span name="attr_damage_string"></span></button></div><div class="3-rem center shaped-row flex-end no-wrap pad-r-sm"><div class="shaped-row flex-end no-wrap"><input type="checkbox" name="attr_show_uses" class="edit small-checkbox show-uses" value="1"><div class="col-42 show-uses"><input type="number" name="attr_uses" class="no-spin small-label" step="1"></div><div class="show-uses small-label">/</div><div class="col-42 show-uses"><input type="number" name="attr_uses_max" class="no-spin small-label" step="1"></div></div></div><div class="1-rem edit"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row"><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div><div class="2-rem center mar-l-sm"><input type="number" name="attr_qty" class="no-spin" value="1" min="0" step="1"><div data-i18n="QTY" class="small-font center"></div></div><div class="center edit">&times;</div><div class="3-rem center edit"><input type="number" name="attr_weight" class="no-spin" value="0" step=".001" accept="Weight"><div data-i18n="WEIGHT" class="small-font center"></div></div><input type="checkbox" name="attr_show_uses" class="hidden show-uses" value="1"><div class="show-uses 3-rem pad-l-sm"><input type="number" name="attr_per_use" value="1" step="1"><div data-i18n="PER_USE" class="small-font center"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_ammo_toggle_var"> <input type="checkbox" name="attr_ammo_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="AMMO"></span>.</div><div class="attack-toggle 6-rem pad-l-sm ad-r-sm"><input type="text" name="attr_ammo_field_name"><div data-i18n="FIELD" class="small-font center"></div></div><div class="attack-toggle 3-rem pad-l-sm"><input type="number" name="attr_ammo_per_use" value="1" step="1"><div data-i18n="PER_USE" class="small-font center"></div></div></div></div></div></fieldset><button type="roll" name="roll_shaped_attacks" class="wrapper-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ATTACKS}}} {{action=1}} {{text_big=@{attacks_macro_var}}}"><div class="wrap-box-title center" data-i18n="ATTACKS"></div></button></div><hr><div class="ammo"><fieldset class="repeating_ammo"><div class="shaped-row compendium-drop-target no-wrap"><div class="3-rem right"><input type="text" name="attr_name" class="edit small-label" data-i18n-placeholder="ARROWS" accept="Name"> <button type="roll" name="roll_ammo" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{text_big=@{qty}}}" tabindex="-1"><span name="attr_name" class="small-label">Arrows</span></button></div><div class="3-rem pad-l-sm"><input type="number" name="attr_qty" value="0" min="0" step="1"><div data-i18n="QTY" class="small-font edit center"></div></div><div class="3-rem edit pad-l-sm"><input type="number" name="attr_weight" class="no-spin" value=".05" step=".0001" accept="Weight"><div data-i18n="WEIGHT" class="small-font center"></div></div></div></fieldset><div class="wrap-box-title center" data-i18n="AMMO"></div></div></div></div><div class="spells mar-b-smd"><div class="wrap-box"><input type="hidden" name="attr_cast_as_level_0"><input type="hidden" name="attr_cast_as_level_1"><input type="hidden" name="attr_cast_as_level_2"><input type="hidden" name="attr_cast_as_level_3"><input type="hidden" name="attr_cast_as_level_4"><input type="hidden" name="attr_cast_as_level_5"><input type="hidden" name="attr_cast_as_level_6"><input type="hidden" name="attr_cast_as_level_7"><input type="hidden" name="attr_cast_as_level_8"><input type="hidden" name="attr_cast_as_level_9"> <input type="hidden" name="attr_higher_level_query_0"><input type="hidden" name="attr_higher_level_query_1"><input type="hidden" name="attr_higher_level_query_2"><input type="hidden" name="attr_higher_level_query_3"><input type="hidden" name="attr_higher_level_query_4"><input type="hidden" name="attr_higher_level_query_5"><input type="hidden" name="attr_higher_level_query_6"><input type="hidden" name="attr_higher_level_query_7"><input type="hidden" name="attr_higher_level_query_8"><div class="shaped-row space-around center mar-b-smd"><div><div data-i18n="ABILITY" class="wrap-box-label light-label"></div><div class="center"><div class="edit"><select name="attr_spell_ability"><option value="0">&#8212;</option><option value="FINESSE" data-i18n="FINESSE"></option><option value="STRENGTH" data-i18n="STRENGTH" class=""></option><option value="DEXTERITY" data-i18n="DEXTERITY" class=""></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class=""></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class=""></option><option value="WISDOM" data-i18n="WISDOM" class=""></option><option value="CHARISMA" data-i18n="CHARISMA" class=""></option><option value="HONOR" data-i18n="HONOR" class="honor"></option><option value="SANITY" data-i18n="SANITY" class="sanity"></option></select></div><span name="attr_spell_ability" data-i18n-dynamic class="presentation"></span></div></div><button type="roll" name="roll_shaped_spell_dc" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_SAVING_THROW}}} {{spell=1}} {{saving_throw_dc=@{spell_save_DC}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}"><div data-i18n="SAVE_DC" class="wrap-box-label light-label"></div><div class="center"><input type="hidden" name="attr_spell_save_DC" value="10"> <span name="attr_spell_save_DC">10</span></div></button> <button type="roll" name="roll_shaped_spell_attack" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_ATTACK}}} {{spell=1}} {{vs_ac=1}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{targetAC=@{attacks_vs_target_ac}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}"><div data-i18n="ATTACK" class="wrap-box-label light-label"></div><div class="center"><input type="hidden" name="attr_spell_to_hit" value="+2"> <span name="attr_spell_to_hit">+2</span></div></button><div><div data-i18n="KNOWN" class="wrap-box-label light-label"></div><div class="center"><span name="attr_spells_known">0</span></div></div><div class="prepared-matters"><div data-i18n="PREPARED" class="wrap-box-label light-label"></div><div class="center"><span name="attr_spells_prepared">0</span></div></div></div><input type="checkbox" name="attr_spells_level_0_show" class="toggle-cantrips edit" value="true"><span class="toggle-cantrips edit button lowercase" data-i18n="CANTRIPS"></span> <input type="checkbox" name="attr_spell_slots_toggle" class="toggle-spell-slots edit"><span class="toggle-spell-slots edit button lowercase" data-i18n="SPELL_SLOTS"></span> <input type="checkbox" name="attr_spell_points_toggle" class="toggle-spell-points edit"><span class="toggle-spell-points edit button lowercase" data-i18n="SPELL_POINTS"></span> <input type="checkbox" name="attr_spell_condensed" class="toggle-filter-condense presentation" checked="checked"><span class="toggle-filter-condense presentation button lowercase" data-i18n="CONDENSE"></span> <input type="checkbox" name="attr_spell_contents" class="toggle-filter-content presentation"><span class="toggle-filter-content presentation button lowercase" data-i18n="CONTENT"></span> <input type="checkbox" name="attr_spell_display_filters" class="toggle-filters" value="1" checked="checked"><span class="toggle-filters button lowercase" data-i18n="FILTERS"></span> <input type="checkbox" name="attr_spell_only_show_prepared" class="toggle-filter-prepared"><span class="toggle-filter-prepared button lowercase" data-i18n="PREPARED"></span> <input type="checkbox" name="attr_spell_only_show_rituals" class="toggle-filter-ritual"><span class="toggle-filter-ritual button lowercase" data-i18n="RITUAL"></span> <input type="checkbox" name="attr_spell_only_show_verbal" class="toggle-filter-verbal" checked="checked"><span class="toggle-filter-verbal button" data-i18n="COMPONENTS_V"></span> <input type="checkbox" name="attr_spell_only_show_somatic" class="toggle-filter-somatic" checked="checked"><span class="toggle-filter-somatic button" data-i18n="COMPONENTS_S"></span> <input type="checkbox" name="attr_spell_only_show_material" class="toggle-filter-material" checked="checked"><span class="toggle-filter-material button" data-i18n="COMPONENTS_M"></span> <input type="checkbox" name="attr_spell_only_show_concentration" class="toggle-filter-concentration" checked="checked"><span class="toggle-filter-concentration button lowercase" data-i18n="CONCENTRATION"></span> <input type="radio" name="attr_spell_casting_time_only_show" class="toggle-filter-time-reaction" value="reaction"><span class="toggle-filter-time-reaction button lowercase" data-i18n="REACTION"></span><input type="radio" name="attr_spell_casting_time_only_show" class="toggle-filter-time-bonus" value="bonus"><span class="toggle-filter-time-bonus button lowercase border-left" data-i18n="BONUS"></span><input type="radio" name="attr_spell_casting_time_only_show" class="toggle-filter-time-action" value="action"><span class="toggle-filter-time-action button lowercase border-left" data-i18n="ACTION"></span><input type="radio" name="attr_spell_casting_time_only_show" class="toggle-filter-time-longer" value="longer"><span class="toggle-filter-time-longer button lowercase border-left" data-i18n="LONGER"></span><input type="radio" name="attr_spell_casting_time_only_show" class="toggle-filter-time-all" value="all" checked="checked"><span class="toggle-filter-time-all button lowercase border-left" data-i18n="ALL"></span> <input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-0" value="0"><span class="toggle-spells-filter-level-0 button lowercase" data-i18n="CANTRIPS"></span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-1 spell-level-1" value="1"><span class="toggle-spells-filter-level-1 spell-level-1 button border-left">1</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-2 spell-level-2" value="2"><span class="toggle-spells-filter-level-2 spell-level-2 button border-left">2</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-3 spell-level-3" value="3"><span class="toggle-spells-filter-level-3 spell-level-3 button border-left">3</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-4 spell-level-4" value="4"><span class="toggle-spells-filter-level-4 spell-level-4 button border-left">4</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-5 spell-level-5" value="5"><span class="toggle-spells-filter-level-5 spell-level-5 button border-left">5</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-6 spell-level-6" value="6"><span class="toggle-spells-filter-level-6 spell-level-6 button border-left">6</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-7 spell-level-7" value="7"><span class="toggle-spells-filter-level-7 spell-level-7 button border-left">7</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-8 spell-level-8" value="8"><span class="toggle-spells-filter-level-8 spell-level-8 button border-left">8</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-9 spell-level-9" value="9"><span class="toggle-spells-filter-level-9 spell-level-9 button border-left">9</span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-auto" value="auto" checked="checked"><span class="toggle-spells-filter-level-auto button lowercase border-left" data-i18n="AUTO"></span><input type="radio" name="attr_spell_level_filter" class="toggle-spells-filter-level-all" value="all"><span class="toggle-spells-filter-level-all button lowercase border-left" data-i18n="ALL"></span><input type="hidden" name="attr_spell_level_filter" class="toggle-filter-level"><div class="spell-level-container has-warlock-slots shaped-row flex-end"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="WARLOCK_SPELL_SLOTS"></span> <span class="mar-l-smd">(</span><div class="07-em"><input type="number" name="attr_warlock_spell_slots" class="no-spin" value="0"></div><span>&#47;</span> <span name="attr_warlock_spell_slots_calc" class="spell-slots pc edit"></span><div class="pc edit">+</div><div class="edit 07-em"><input type="number" name="attr_warlock_spell_slots_bonus" class="no-spin" value="0" min="0"></div><div class="pc edit">=</div><span name="attr_warlock_spell_slots_max"></span> <span>):</span></div><span name="attr_warlock_spells_max_level" class="presentation" data-i18n-dynamic></span><div class="edit"><select name="attr_warlock_spells_max_level"><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div></div><div class="sheet-spell-slots-or-points-or-warlock-slots"><div class="spell-level-container spell-points spell-level-wrapper"><div class="shaped-row flex-end mar-r-smd"><span data-i18n="SPELL_POINTS"></span> <span class="mar-l-smd">(</span><div class="1-5-rem"><input type="number" name="attr_spell_points" class="no-spin" value="0"></div><span>&#47;</span> <span name="attr_spell_points_max" class="presentation">0</span><div class="1-5-rem edit"><input type="number" name="attr_spell_points_max" class="no-spin" value="0" min="0"></div><span>);</span> <span data-i18n="LIMIT" class="lowercase mar-l-smd mar-r-smd"></span> <span name="attr_spell_points_limit" class="presentation"></span><div class="1-5-rem edit"><input type="number" name="attr_spell_points_limit" class="no-spin" value="2" min="2"></div></div></div><div class="spell-level-container spell-level-0 shaped-row vert-top"><span class="spell-level-wrapper white-space-no-wrap mar-r-smd"><span data-i18n="CANTRIPS"></span> <span>(<span data-i18n="AT_WILL"></span>)</span><span class="show-when-condensed">:</span></span><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell0"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_0} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-1 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="1ST_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l1" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l1_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l1_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l1_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">2 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell1"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_1} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL" selected="selected"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-2 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="2ND_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l2" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l2_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l2_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l2_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">3 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell2"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_2} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL" selected="selected"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-3 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="3RD_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l3" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l3_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l3_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l3_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">5 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell3"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_3} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL" selected="selected"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-4 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="4TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l4" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l4_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l4_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l4_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">6 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell4"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_4} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL" selected="selected"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-5 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="5TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l5" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l5_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l5_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l5_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">7 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell5"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_5} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL" selected="selected"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-6 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="6TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l6" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l6_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l6_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l6_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">9 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell6"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_6} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL" selected="selected"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-7 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="7TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l7" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l7_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l7_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l7_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">10 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell7"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_7} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL" selected="selected"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-8 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="8TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l8" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l8_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l8_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l8_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">11 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell8"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_8} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL" selected="selected"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-9 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="9TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l9" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l9_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l9_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l9_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">13 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell9"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_9} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL" selected="selected"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div></div><div class="center small-label italic edit" data-i18n="TURN_OFF_FILTERING"></div><button type="roll" name="roll_shaped_spells" class="wrapper-button" value="@{spells_macro_var}"><div class="wrap-box-title center" data-i18n="SPELLS"></div></button></div></div><div class="mar-b-smd"><div class="wrap-box"><div class="core-equipment"><div><div class="shaped-row space-between vert-center no-wrap"><div class="9-rem flex-grow shaped-row space-between vert-center pad-r-sm"><div data-i18n="ARMOR" class="wrap-box-label light-label"></div><div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_armor_condense" value="1" checked="checked"> <span data-i18n="CONDENSE" class="small-font lowercase"></span></label></div><div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_armor_show_only_quick_items" value="1" checked="checked"> <span data-i18n="QUICK" class="small-font lowercase"></span></label></div></div><div class="3-rem wrap-box-label light-label center pad-r-sm" data-i18n="USES"></div><div class="1-5-rem wrap-box-label light-label center" data-i18n="AC"></div><div class="3-rem wrap-box-label light-label center" data-i18n="WEIGHT"></div><div class="1-rem edit"></div></div><input type="checkbox" name="attr_armor_condense" class="toggle-filter-condense hidden" value="1" checked="checked"> <input type="hidden" name="attr_armor_show_only_quick_items" class="toggle-armor-only-quick-items" value="1"><fieldset class="repeating_armor"><input type="hidden" name="attr_quick" class="toggle-quick-armor" value="1"><div class="compendium-drop-target armor-item"><div class="shaped-row space-between vert-center no-wrap"><input type="hidden" name="attr_modifiers" accept="Modifiers"><div class="9-rem flex-grow pad-r-sm"><div class="shaped-row no-wrap"><div><input type="checkbox" name="attr_worn" class="small-checkbox" checked="checked"></div><div class="flex-grow"><div class="edit"><input type="text" name="attr_name" accept="Name"></div><div class="presentation"><button type="roll" name="roll_armor" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{armor=1}} {{text_big=AC [[@{ac_base}[ac] + @{ac_bonus}[bonus ac]]]}} {{uses=@{uses}}} {{uses_max=@{uses|max}}}"><span name="attr_name"></span></button></div></div><div class="edit"><input type="checkbox" name="attr_quick" class="small-checkbox" value="1" checked="checked"></div></div></div><div class="3-rem center shaped-row flex-end no-wrap pad-r-sm"><div class="shaped-row flex-end no-wrap"><input type="checkbox" name="attr_show_uses" class="edit small-checkbox show-uses" value="1"><div class="col-42 show-uses"><input type="number" name="attr_uses" class="no-spin small-label" step="1"></div><div class="show-uses small-label">/</div><div class="col-42 show-uses"><input type="number" name="attr_uses_max" class="no-spin small-label" step="1"></div></div></div><div class="1-5-rem center pad-r-sm"><span name="attr_ac_total">10</span></div><div class="3-rem center pad-r-sm"><span name="attr_weight" class="presentation"></span> <input type="number" name="attr_weight" class="edit no-spin" step=".001" accept="Weight"></div><div class="1-rem edit"></div></div><div class="presentation show-when-not-condensed"><span name="attr_content" class="pre-line"></span></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit mar-t-smd"><div class="shaped-row vert-center"><div class="5-rem center"><select name="attr_type" accept="Item Type"><option value="Light Armor" data-i18n="LIGHT_ARMOR"></option><option value="Medium Armor" data-i18n="MEDIUM_ARMOR"></option><option value="Heavy Armor" data-i18n="HEAVY_ARMOR"></option><option value="Shield" data-i18n="SHIELD"></option></select><div class="small-label" data-i18n="TYPE"></div></div><div class="4-rem edit center pad-l-smd"><div class="shaped-row no-wrap"><div><input type="number" name="attr_ac_base" class="no-spin" value="0" step="1" accept="AC"></div><div>+</div><div><input type="number" name="attr_ac_bonus" class="no-spin" value="0" step="1"></div></div><div class="small-label" data-i18n="AC">10</div></div><div class="3-rem center pad-l-smd"><select name="attr_strength_requirements"><option value="no">&#8212;</option><option value="Str 13" data-i18n="STR_13"></option><option value="Str 15" data-i18n="STR_15"></option></select><div class="small-label" data-i18n="STR"></div></div><div class="center center pad-l-smd"><input type="checkbox" name="attr_stealth" value="Disadvantage" accept="Stealth"><div class="small-label" data-i18n="STEALTH"></div></div><input type="checkbox" name="attr_show_uses" class="hidden show-uses" value="1"><div class="show-uses 3-rem pad-l-sm"><input type="number" name="attr_per_use" value="1" step="1"><div data-i18n="PER_USE" class="small-font center"></div></div></div><div><textarea name="attr_content" class="one-line-textarea" accept="Content"></textarea><div class="small-label center" data-i18n="CONTENT"></div></div></div></div></fieldset><div class="shaped-row space-around center pad-t-md edit"><div class="center"><div class="shaped-row border-bottom no-wrap vert-center"><span class="presentation">10</span><div class="1-5-rem edit"><input type="number" name="attr_base_ac" class="no-spin" value="10" step="1"></div><span>+</span> <span data-i18n="DEX"></span> <span>+</span><div class="4-rem"><select name="attr_ac_unarmored_ability"><option value="" selected="selected">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><span>+</span> <span name="attr_ac_unarmored_calc_sum">0</span> <span>+</span><div class="1-5-rem"><input type="number" name="attr_ac_unarmored_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_ac_unarmored_calc" class="bold">10</span></div><div class="small-label" data-i18n="AC_UNARMORED"></div></div><div class="center"><div class="shaped-row border-bottom no-wrap vert-center"><span name="attr_ac_armored_calc_sum">0</span> <span>+</span><div class="1-5-rem"><input type="number" name="attr_ac_armored_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_ac_armored_calc" class="bold">0</span></div><div class="small-label" data-i18n="AC_ARMORED"></div></div></div></div><hr><div class="mar-t-md"><div class="shaped-row space-between vert-center no-wrap"><div class="9-rem flex-grow shaped-row space-between vert-center pad-r-sm"><div data-i18n="EQUIPMENT" class="wrap-box-label light-label"></div><div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_equipment_condense" value="1" checked="checked"> <span data-i18n="CONDENSE" class="small-font lowercase"></span></label></div><div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_equipment_show_only_quick_items" value="1" checked="checked"> <span data-i18n="QUICK" class="small-font lowercase"></span></label></div></div><div class="3-rem wrap-box-label light-label center pad-r-sm" data-i18n="USES"></div><div class="1-5-rem wrap-box-label light-label center" data-i18n="QTY"></div><div class="3-rem wrap-box-label light-label center" data-i18n="WEIGHT"></div><div class="1-rem edit"></div></div><input type="checkbox" name="attr_equipment_condense" class="toggle-filter-condense hidden" value="1" checked="checked"> <input type="hidden" name="attr_equipment_show_only_quick_items" class="toggle-equipment-only-quick-items" value="1"><fieldset class="repeating_equipment"><input type="hidden" name="attr_quick" class="toggle-quick-equipment" value="1"><div class="compendium-drop-target equipment-item"><div class="shaped-row space-between vert-center no-wrap"><input type="hidden" name="attr_content" accept="Content"><div class="9-rem flex-grow pad-r-sm"><div class="shaped-row no-wrap"><div><input type="checkbox" name="attr_carried" class="small-checkbox" checked="checked"></div><div class="flex-grow"><div class="edit"><input type="text" name="attr_name" accept="Name"></div><div class="presentation"><button type="roll" name="roll_equipment" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{equipment=1}} {{text=@{content}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}}"><span name="attr_name"></span></button></div></div><div class="edit"><input type="checkbox" name="attr_quick" class="small-checkbox" value="1" checked="checked"></div></div></div><div class="3-rem center pad-r-sm"><div class="shaped-row center flex-end no-wrap"><input type="checkbox" name="attr_show_uses" class="edit small-checkbox show-uses" value="1"><div class="col-42 show-uses"><input type="number" name="attr_uses" class="no-spin small-label" step="1"></div><div class="show-uses small-label">/</div><div class="col-42 show-uses"><input type="number" name="attr_uses_max" class="no-spin small-label" step="1"></div></div></div><div class="1-5-rem pad-r-sm"><input type="number" name="attr_qty" class="no-spin" value="1" min="0" step="1"></div><div class="3-rem center presentation"><span name="attr_weight_total"></span></div><div class="3-rem shaped-row vert-center no-wrap edit"><div class="center">&times;</div><div class="2-rem center"><input type="number" name="attr_weight" class="no-spin small-label" value="0" step=".001" accept="Weight"></div><span name="attr_weight_total"></span></div><div class="1-rem edit"></div></div><div class="presentation show-when-not-condensed"><span name="attr_content" class="pre-line"></span></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit mar-t-smd"><input type="checkbox" name="attr_show_uses" class="hidden show-uses" value="1"><div class="show-uses 3-rem pad-l-sm"><input type="number" name="attr_per_use" value="1" step="1"><div data-i18n="PER_USE" class="small-font center"></div></div><div class="center"><textarea name="attr_content" class="one-line-textarea" accept="Content"></textarea><div data-i18n="CONTENT" class="small-font center"></div></div><hr></div></div></fieldset></div></div><div class="wrap-box-title center" data-i18n="EQUIPMENT"></div></div></div><div class="mar-b-smd"><div class="wrap-box"><div class="shaped-row"><div class="5-rem"><div class="coin shaped-row no-wrap vert-center mar-t-sm"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_cp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{COPPER_PIECES}}} {{text_big=[[@{cp}]]}}" tabindex="-1"><div class="light-label pad-r-sm" data-i18n="COINS_CP"></div></button></div><div class="shaped-row wrap-box coin-value-wrap"><input type="number" name="attr_cp" class="no-spin" value="0" min="0" step="1"></div></div><div class="coin shaped-row no-wrap vert-center mar-t-smd"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_sp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SILVER_PIECES}}} {{text_big=[[@{sp}]]}}" tabindex="-1"><div class="light-label pad-r-sm" data-i18n="COINS_SP"></div></button></div><div class="wrap-box coin-value-wrap"><input type="number" name="attr_sp" class="no-spin" value="0" min="0" step="1"></div></div><div class="coin shaped-row no-wrap vert-center mar-t-smd"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_ep" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ELECTRUM_PIECES}}} {{text_big=[[@{ep}]]}}" tabindex="-1"><div class="light-label pad-r-sm" data-i18n="COINS_EP"></div></button></div><div class="wrap-box coin-value-wrap"><input type="number" name="attr_ep" class="no-spin" value="0" min="0" step="1"></div></div><div class="coin shaped-row no-wrap vert-center mar-t-smd"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_gp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{GOLD_PIECES}}} {{text_big=[[@{gp}]]}}" tabindex="-1"><div class="light-label pad-r-sm" data-i18n="COINS_GP"></div></button></div><div class="wrap-box coin-value-wrap"><input type="number" name="attr_gp" class="no-spin" value="0" min="0" step="1"></div></div><div class="coin shaped-row no-wrap vert-center mar-t-smd"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_pp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PLATINUM_PIECES}}} {{text_big=[[@{pp}]]}}" tabindex="-1"><div class="light-label pad-r-sm" data-i18n="COINS_PP"></div></button></div><div class="wrap-box coin-value-wrap"><input type="number" name="attr_pp" class="no-spin" value="0" min="0" step="1"></div></div><div class="coin shaped-row no-wrap vert-center mar-t-smd"><div class="wrap-box"><button type="roll" name="roll_shaped_coinage_total_gp" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{TOTAL_GOLD_VALUE}}} {{text_big=[[@{total_gp}]]}}" tabindex="-1"><div class="light-label bold pad-r-sm" data-i18n="COINS_GP"></div></button></div><div class="wrap-box coin-value-wrap center"><span name="attr_total_gp" class="bold block mar-t-sm"></span></div></div></div><div class="flex-grow pad-l-sm"><div class="shaped-row vert-center"><div data-i18n="ATTACKS" class="flex-grow small-label"></div><div class="4-rem no-overflow"><span name="attr_weight_attacks" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center"><div data-i18n="AMMO" class="flex-grow small-label"></div><div class="4-rem no-overflow"><span name="attr_weight_ammo" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center"><div data-i18n="ARMOR" class="flex-grow small-label"></div><div class="4-rem no-overflow"><span name="attr_weight_armor" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center"><div data-i18n="EQUIPMENT" class="flex-grow small-label"></div><div class="4-rem no-overflow"><span name="attr_weight_equipment" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center no-wrap"><div data-i18n="COINAGE" class="flex-grow small-label"></div><div class="edit">&times;</div><div class="3-rem edit"><input type="number" name="attr_weight_per_coin" value="0.02" step="0.000001" class="no-spin"></div><div class="4-rem no-overflow"><span name="attr_weight_coinage" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center"><div data-i18n="TOTAL" class="flex-grow small-label"></div><div class="4-rem no-overflow"><span name="attr_weight_total" class="pseudo-input right border-bottom bold"></span></div></div><div data-i18n="WEIGHT" class="wrap-box-title center"></div><div class="mar-t-smd"></div><div class="shaped-row vert-center no-wrap edit"><div class="flex-grow small-label" data-i18n="MULTIPLIER"></div><div class="3-rem"><input type="number" name="attr_weight_multiplier" class="no-spin" value="1" step=".05"></div></div><div class="shaped-row vert-center no-wrap"><div class="flex-grow small-label" data-i18n="CARRYING_CAPACITY"></div><div class="edit">&times;</div><div class="2-rem edit"><input type="number" name="attr_carrying_capacity_multiplier" class="no-spin" value="15" step=".001"></div><div class="3-rem no-overflow"><span name="attr_carrying_capacity" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center no-wrap"><div class="flex-grow small-label" data-i18n="CARRYING_PUSH_DRAG_LIFT"></div><div class="edit">&times;</div><div class="2-rem edit"><input type="number" name="attr_max_push_drag_lift_multiplier" class="no-spin" value="30" step=".001"></div><div class="3-rem no-overflow"><span name="attr_max_push_drag_lift" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center no-wrap"><div class="flex-grow small-label" data-i18n="ENCUMBERED"></div><div class="edit">&times;</div><div class="2-rem edit"><input type="number" name="attr_encumbered_multiplier" class="no-spin" value="5" step=".001"></div><div class="3-rem no-overflow"><span name="attr_encumbered" class="pseudo-input right border-bottom"></span></div></div><div class="shaped-row vert-center no-wrap"><div class="flex-grow small-label" data-i18n="ENCUMBERED_HEAVILY"></div><div class="edit">&times;</div><div class="2-rem edit"><input type="number" name="attr_heavily_encumbered_multiplier" class="no-spin" value="10" step=".001"></div><div class="3-rem no-overflow"><span name="attr_heavily_encumbered" class="pseudo-input right border-bottom"></span></div></div><div class="wrap-box-title center" data-i18n="CARRYING_CAPACITY"></div></div></div></div></div></div><div class="18-rem right-column pad-l-smd"><div class="wrap-box personality-traits center mar-b-sm"><textarea class="four-line-textarea background-textarea edit" name="attr_personality_traits"></textarea><button type="roll" name="roll_shaped_personality_traits" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PERSONALITY_TRAITS}}} {{text=@{personality_traits}}}"><span name="attr_personality_traits" class="presentation pre-line background-text"></span><div class="wrap-box-title center" data-i18n="PERSONALITY_TRAITS"></div></button></div><div class="wrap-box ideals center mar-b-sm"><textarea class="four-line-textarea background-textarea edit" name="attr_ideals"></textarea><button type="roll" name="roll_shaped_ideals" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{IDEALS}}} {{text=@{ideals}}}"><span name="attr_ideals" class="presentation pre-line background-text"></span><div class="wrap-box-title center" data-i18n="IDEALS"></div></button></div><div class="wrap-box bonds center mar-b-sm"><textarea class="four-line-textarea background-textarea edit" name="attr_bonds"></textarea><button type="roll" name="roll_shaped_bonds" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{BONDS}}} {{text=@{bonds}}}"><span name="attr_bonds" class="presentation pre-line background-text"></span><div class="wrap-box-title center" data-i18n="BONDS"></div></button></div><div class="wrap-box flaws center mar-b-smd"><textarea class="four-line-textarea background-textarea edit" name="attr_flaws"></textarea><button type="roll" name="roll_shaped_flaws" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{FLAWS}}} {{text=@{flaws}}}"><span name="attr_flaws" class="presentation pre-line background-text"></span><div class="wrap-box-title center" data-i18n="FLAWS"></div></button></div><div class="wrap-box mar-b-smd"><div class="shaped-row"><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_blinded" value="1"> <span data-i18n="BLINDED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_charmed" value="1"> <span data-i18n="CHARMED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_deafened" value="1"> <span data-i18n="DEAFENED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_frightened" value="1"> <span data-i18n="FRIGHTENED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_grappled" value="1"> <span data-i18n="GRAPPLED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_incapacitated" value="1"> <span data-i18n="INCAPACITATED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_invisible" value="1"> <span data-i18n="INVISIBLE"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_paralyzed" value="1"> <span data-i18n="PARALYZED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_petrified" value="1"> <span data-i18n="PETRIFIED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_poisoned" value="1"> <span data-i18n="POISONED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_prone" value="1"> <span data-i18n="PRONE"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_restrained" value="1"> <span data-i18n="RESTRAINED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_stunned" value="1"> <span data-i18n="STUNNED"></span></label></div><div><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_unconscious" value="1"> <span data-i18n="UNCONSCIOUS"></span></label></div></div><div class="shaped-row vert-top"><div class="1-rem"><input type="number" name="attr_exhaustion_level" class="no-spin" min="0" value="0" max="6"></div><div class="relative sheet-pad-r-xl"><span data-i18n="EXHAUSTION"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label"><table><thead><tr><th data-i18n="LEVEL"></th><th data-i18n="EFFECT"></th></tr></thead><tbody><tr><td class="center">1</td><td data-i18n="EXHAUSTION_LEVEL_1"></td></tr><tr><td class="center">2</td><td data-i18n="EXHAUSTION_LEVEL_2"></td></tr><tr><td class="center">3</td><td data-i18n="EXHAUSTION_LEVEL_3"></td></tr><tr><td class="center">4</td><td data-i18n="EXHAUSTION_LEVEL_4"></td></tr><tr><td class="center">5</td><td data-i18n="EXHAUSTION_LEVEL_5"></td></tr><tr><td class="center">6</td><td data-i18n="EXHAUSTION_LEVEL_6"></td></tr></tbody></table></div></div></div></div></div><button type="roll" name="roll_shaped_conditions" class="wrapper-button center" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONDITIONS}}} {{text_big=^{EXHAUSTION_LEVEL}: [[@{exhaustion_level}]]}}"><div class="wrap-box-title center" data-i18n="CONDITIONS"></div></button></div><div class="wrap-box mar-b-smd"><div class="shaped-row edit"><div class="col-50"><div class="center"><label><input type="checkbox" name="attr_bard_toggle" value="1"> <span class="wrap-box-label light-label center" data-i18n="BARD"></span></label></div><input type="hidden" name="attr_bard_toggle" class="bard-class-features"><div class="bard-class-features-toggle"><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="JACK_OF_ALL_TRADES"></span> <input type="hidden" name="attr_jack_of_all_trades"> <input type="checkbox" name="attr_jack_of_all_trades_toggle" class="mar-l-md" value="@{jack_of_all_trades}"></div></div></div><div class="col-50"><div class="center"><label><input type="checkbox" name="attr_fighter_toggle" value="1"> <span class="wrap-box-label light-label center" data-i18n="FIGHTER"></span></label></div><input type="hidden" name="attr_fighter_toggle" class="fighter-class-features"><div class="fighter-class-features-toggle"><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="REMARKABLE_ATHLETE"></span> <input type="hidden" name="attr_remarkable_athlete"> <input type="checkbox" name="attr_remarkable_athlete_toggle" class="mar-l-md" value="@{remarkable_athlete}"></div></div></div><div class="col-50"><div class="center"><label><input type="checkbox" name="attr_rogue_toggle" value="1"> <span class="wrap-box-label light-label center" data-i18n="ROGUE"></span></label></div><input type="hidden" name="attr_rogue_toggle" class="rogue-class-features"><div class="rogue-class-features-toggle"><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_RELIABLE_TALENT"></span> <input type="checkbox" name="attr_reliable_talent" value="1" class="mar-l-md"></div></div></div><div class="col-50"><div class="center"><label><input type="checkbox" name="attr_sorcerer_toggle" value="1"> <span class="wrap-box-label light-label center" data-i18n="SORCERER"></span></label></div><input type="hidden" name="attr_sorcerer_toggle" class="sorcerer-class-features"><div class="sorcerer-class-features-toggle"><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_CAREFUL_SPELL"></span> <input type="checkbox" name="attr_careful_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_DISTANT_SPELL"></span> <input type="checkbox" name="attr_distant_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_EMPOWERED_SPELL"></span> <input type="checkbox" name="attr_empowered_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_EXTENDED_SPELL"></span> <input type="checkbox" name="attr_extended_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_HEIGHTENED_SPELL"></span> <input type="checkbox" name="attr_heightened_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_QUICKENED_SPELL"></span> <input type="checkbox" name="attr_quickened_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_SUBTLE_SPELL"></span> <input type="checkbox" name="attr_subtle_spell_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="CLASS_FEATURE_METAMAGIC_TWINNED_SPELL"></span> <input type="checkbox" name="attr_twinned_spell_toggle" class="mar-l-md" value="1"></div></div></div><div class="col-50"><div class="center"><label><input type="checkbox" name="attr_misc_toggle" value="1"> <span class="wrap-box-label light-label center" data-i18n="MISC"></span></label></div><input type="hidden" name="attr_misc_toggle" class="misc-features"><div class="misc-features-toggle"><div class="shaped-row space-between vert-center no-wrap mar-b-sm"><span class="small-label" data-i18n="HALFLING_LUCK"></span> <input type="checkbox" name="attr_halfling_luck" class="mar-l-md"></div></div></div></div><input type="hidden" name="attr_traits_exist" class="item-toggle"><div class="item-to-toggle"><input type="checkbox" name="attr_traits_condense" class="toggle-filter-condense presentation"><span class="toggle-filter-condense presentation button lowercase" data-i18n="CONDENSE"></span><fieldset class="repeating_trait"><div class="relative mar-b-sm"><div class="absolute"><input type="hidden" name="attr_has_uses" class="item-toggle"><div class="item-to-toggle gray-bg small-label pad-l-sm"><div class="shaped-row no-wrap"><div class="3-rem pad-r-sm"><div class="shaped-row vert-center no-wrap"><div><input type="number" name="attr_uses" class="no-spin gray-bg no-pad" step="1"></div><div>/</div><div><input type="number" name="attr_uses_max" class="no-spin gray-bg no-pad" step="1"></div></div><div class="edit small-font center" data-i18n="USES"></div></div><div class="3-rem edit pad-l-sm"><input type="text" name="attr_per_use" class="center gray-bg"><div class="edit small-font center" data-i18n="PER_USE"></div></div></div></div></div><input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_trait" class="presentation trait wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{trait=1}} {{recharge=@{recharge_display}}} {{per_use=@{per_use}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}} @{hide_gm_info} @{roll_formula}"><input type="hidden" name="attr_has_uses" class="trait-has-uses"> <span class="heading"></span> <span name="attr_name" class="bold italic"></span><span name="attr_recharge_display" class="bold italic"></span><span class="bold italic">.</span> <span name="attr_display_text" class="pre-line show-when-not-condensed"></span></button><div class="shaped-row edit"><div class="3-rem uses-placeholder presentation"></div><div class="6-rem uses-placeholder edit"></div><div class="6-rem flex-grow center pad-l-sm"><input type="text" name="attr_name" class="bold italic" data-i18n-placeholder="AMPHIBIOUS"></div><div class="1-rem edit"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row"><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><div class="center"><textarea class="two-line-textarea" name="attr_display_text"></textarea><div class="small-font" data-i18n="DISPLAY_TEXT"></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div><button type="roll" name="roll_shaped_traits" class="wrapper-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{TRAITS}}} {{text_big=@{traits_macro_var}}}"><div class="wrap-box-title center" data-i18n="FEATURES_AND_TRAITS"></div></button></div></div></div></div><div class="section-npc"><div class="bar"></div><div class="npc-content-wrap"><div class="shaped-row"><div class="22-rem left-column pad-r-md compendium-drop-target monsters"><input type="hidden" name="attr_content_srd" accept="Content"> <input type="hidden" name="attr_spells_srd" accept="Spell Book"><div><span name="attr_character_name" class="creature-name presentation"></span> <input type="text" name="attr_character_name" class="creature-name edit" accept="Name" data-i18n-placeholder="DRAGON"></div><div class="shaped-row space-between no-wrap"><div class="shaped-row edit"><div class="4-rem pad-r-sm"><select name="attr_size" class="italic" accept="Size"><option value="TINY" data-i18n="TINY"></option><option value="SMALL" data-i18n="SMALL"></option><option value="MEDIUM" data-i18n="MEDIUM"></option><option value="LARGE" data-i18n="LARGE" selected="selected"></option><option value="HUGE" data-i18n="HUGE"></option><option value="GARGANTUAN" data-i18n="GARGANTUAN"></option></select></div><div class="6-rem pad-l-sm pad-r-sm"><input type="text" name="attr_type" class="italic" data-i18n-placeholder="DRAGON" accept="Type"></div><div class="6-rem pad-l-sm"><input type="text" name="attr_alignment" class="italic" data-i18n-placeholder="LAWFUL_EVIL" accept="Alignment"></div></div><span class="italic presentation"><span name="attr_size" data-i18n-dynamic></span> <span name="attr_type"></span>, <span name="attr_alignment"></span></span><div class="shaped-version right mar-l-sm mar-r-sm"><span>Shaped</span> <span>v<span name="attr_version"></span></span></div></div><div class="divider"></div><div class="top-stats"><div class="ac shaped-row flex-end"><button type="roll" name="roll_shaped_ac" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{AC}}} {{text_top=[[@{ac}]]}} {{text_center=@{ac_note}}}"><span class="heading" data-i18n="ARMOR_CLASS"></span> <span class="presentation"><span name="attr_AC">10</span> (<span name="attr_ac_note"></span>)</span></button><div class="1-5-rem edit pad-l-sm"><input type="hidden" name="attr_ac_srd" accept="AC"> <input type="number" name="attr_AC" class="no-spin" value="10"></div><div class="9-rem edit pad-l-md"><div class="shaped-row no-wrap"><span>(</span> <input type="text" name="attr_ac_note"> <span>)</span></div></div></div><div class="shaped-row flex-end no-wrap"><button type="roll" name="roll_shaped_initiative" value="@{initiative_output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INITIATIVE}}} {{roll1=[[@{initiative_roll}@{d20_mod} + @{initiative_to_tracker} + @{initiative_tie_breaker}]]}} {{@{initiative_roll}=1}} @{attacher_initiative}"><span class="heading" data-i18n="INITIATIVE"></span> <span name="attr_initiative" class="presentation">+0</span></button><div class="4-rem edit pad-l-smd"><select name="attr_initiative_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class="" selected="selected"></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="edit">+</div><div class="1-5-rem edit"><input type="text" name="attr_initiative_bonus" class="center" value="0"></div><div class="edit">=</div><span name="attr_initiative" class="edit">+0</span></div><div class="shaped-row flex-end"><input type="hidden" name="attr_hp_srd" accept="HP"> <button type="roll" name="roll_shaped_hp" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HIT_POINTS}}} {{text_big=[[@{HP}]]&#47;[[@{HP|max}]]}}"><span class="heading" data-i18n="HIT_POINTS"></span> <span name="attr_HP" class="presentation"></span></button> <span class="presentation pad-l-sm"><button type="roll" name="roll_shaped_npc_hp" value="/w GM &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HIT_POINTS_ROLLED}}}{{text_top=[[@{hp_formula}]] (Average [[@{HP}]])}}">(<span name="attr_hp_formula"></span>)</button></span><div class="9-rem pad-l-sm edit"><div class="shaped-row"><div class="1-5-rem pad-r-sm"><input type="number" name="attr_hit_dice" class="no-spin" class="no-spin" step="1"></div><div class="2-rem pad-r-sm"><select name="attr_hit_die"><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select></div><div class="5-rem pad-l-sm"><input type="text" name="attr_hp_extra"></div></div></div><div class="8-rem pad-l-lg"><input type="hidden" name="attr_hd_d2_toggle" class="toggle-hd-d2"><div class="shaped-row center flex-end toggle-hd-d2"><div class="1-rem"><input type="number" name="attr_hd_d2" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d2_max" class="center"></span></div><input type="hidden" name="attr_hd_d2_query"><div><button type="roll" name="roll_shaped_hd_d2" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d2_query}d2 ^{HIT_DICE}}} {{uses=@{hd_d2}}} {{uses_max=@{hd_d2|max}}} {{roll1=[[{((@{hd_d2_query})d2[d2 * hd] + ((@{hd_d2_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d2</button></div></div><input type="hidden" name="attr_hd_d4_toggle" class="toggle-hd-d4"><div class="shaped-row center flex-end toggle-hd-d4"><div class="1-rem"><input type="number" name="attr_hd_d4" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d4_max" class="center"></span></div><input type="hidden" name="attr_hd_d4_query"><div><button type="roll" name="roll_shaped_hd_d4" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d4_query}d4 ^{HIT_DICE}}} {{uses=@{hd_d4}}} {{uses_max=@{hd_d4|max}}} {{roll1=[[{((@{hd_d4_query})d4[d4 * hd] + ((@{hd_d4_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d4</button></div></div><input type="hidden" name="attr_hd_d6_toggle" class="toggle-hd-d6"><div class="shaped-row center flex-end toggle-hd-d6"><div class="1-rem"><input type="number" name="attr_hd_d6" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d6_max" class="center"></span></div><input type="hidden" name="attr_hd_d6_query"><div><button type="roll" name="roll_shaped_hd_d6" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d6_query}d6 ^{HIT_DICE}}} {{uses=@{hd_d6}}} {{uses_max=@{hd_d6|max}}} {{roll1=[[{((@{hd_d6_query})d6[d6 * hd] + ((@{hd_d6_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d6</button></div></div><input type="hidden" name="attr_hd_d8_toggle" class="toggle-hd-d8"><div class="shaped-row center flex-end toggle-hd-d8"><div class="1-rem"><input type="number" name="attr_hd_d8" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d8_max" class="center"></span></div><input type="hidden" name="attr_hd_d8_query"><div><button type="roll" name="roll_shaped_hd_d8" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d8_query}d8 ^{HIT_DICE}}} {{uses=@{hd_d8}}} {{uses_max=@{hd_d8|max}}} {{roll1=[[{((@{hd_d8_query})d8[d8 * hd] + ((@{hd_d8_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d8</button></div></div><input type="hidden" name="attr_hd_d10_toggle" class="toggle-hd-d10"><div class="shaped-row center flex-end toggle-hd-d10"><div class="1-rem"><input type="number" name="attr_hd_d10" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d10_max" class="center"></span></div><input type="hidden" name="attr_hd_d10_query"><div><button type="roll" name="roll_shaped_hd_d10" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d10_query}d10 ^{HIT_DICE}}} {{uses=@{hd_d10}}} {{uses_max=@{hd_d10|max}}} {{roll1=[[{((@{hd_d10_query})d10[d10 * hd] + ((@{hd_d10_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d10</button></div></div><input type="hidden" name="attr_hd_d12_toggle" class="toggle-hd-d12"><div class="shaped-row center flex-end toggle-hd-d12"><div class="1-rem"><input type="number" name="attr_hd_d12" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d12_max" class="center"></span></div><input type="hidden" name="attr_hd_d12_query"><div><button type="roll" name="roll_shaped_hd_d12" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d12_query}d12 ^{HIT_DICE}}} {{uses=@{hd_d12}}} {{uses_max=@{hd_d12|max}}} {{roll1=[[{((@{hd_d12_query})d12[d12 * hd] + ((@{hd_d12_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d12</button></div></div><input type="hidden" name="attr_hd_d20_toggle" class="toggle-hd-d20"><div class="shaped-row center flex-end toggle-hd-d20"><div class="1-rem"><input type="number" name="attr_hd_d20" class="no-spin" min="0" step="1"></div><div>&#47;</div><div><span name="attr_hd_d20_max" class="center"></span></div><input type="hidden" name="attr_hd_d20_query"><div><button type="roll" name="roll_shaped_hd_d20" class="bold" value="@{hit_dice_output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{hd_d20_query}d20 ^{HIT_DICE}}} {{uses=@{hd_d20}}} {{uses_max=@{hd_d20|max}}} {{roll1=[[{((@{hd_d20_query})d20[d20 * hd] + ((@{hd_d20_query}) * @{constitution_mod})[con mod * hd]), 0d0+1}kh1[minimum of 1]]]}} @{attacher_hit_dice}">d20</button></div></div></div></div><div><input type="hidden" name="attr_npc_speed" accept="Speed"> <input type="hidden" name="attr_speed_string"><div class="shaped-row"><div><button type="roll" name="roll_shaped_speed" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPEED}}} {{text_big=@{speed_string}}}"><span data-i18n="SPEED" class="heading"></span> <span name="attr_speed_string" class="presentation"></span></button></div><div class="mar-l-smd edit"></div><div class="shaped-row no-wrap edit"><div class="1-5-rem"><input type="number" name="attr_speed" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="BURROW" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_burrow" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="CLIMB" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_climb" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="FLY" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_fly" class="small-label no-spin" step="1"></div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_speed_fly_hover" value="1"> <span data-i18n="HOVER" class="small-font lowercase"></span></label><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="SWIM" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_speed_swim" class="small-label no-spin" step="1"></div></div></div></div><input type="hidden" name="attr_show_rests" class="show-rests"><div class="rests"><div class="shaped-row no-wrap"><div class="pad-r-sm"><button type="roll" name="roll_shaped_short_rest" class="visible-button" value="!shaped-rest --short --id @{character_id}"><span data-i18n="SHORT_REST"></span></button></div><div class="pad-l-sm"><button type="roll" name="roll_shaped_long_rest" class="visible-button" value="!shaped-rest --long --id @{character_id}"><span data-i18n="LONG_REST"></span></button></div></div></div><div class="divider"></div><div class="shaped-row space-between mar-l-md mar-r-lg"><div class="center"><button type="roll" name="roll_shaped_strength_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{STRENGTH} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_check_mod_formula}]]}} @{hide_gm_info} @{attacher_strength_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="STR"></div><div class="presentation mar-t-sm"><span name="attr_strength" class="center"></span> (<span name="attr_strength_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_strength_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_strength" class="no-spin" accept="STR" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_strength_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_strength_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_strength_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_strength_check_mod">0</span></div></div><div class="center"><button type="roll" name="roll_shaped_dexterity_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DEXTERITY} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_check_mod_formula}]]}} @{hide_gm_info} @{attacher_dexterity_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="DEX"></div><div class="presentation mar-t-sm"><span name="attr_dexterity" class="center"></span> (<span name="attr_dexterity_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_dexterity_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_dexterity" class="no-spin" accept="DEX" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_dexterity_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_dexterity_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_dexterity_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_dexterity_check_mod">0</span></div></div><div class="center"><button type="roll" name="roll_shaped_constitution_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONSTITUTION} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_check_mod_formula}]]}} @{hide_gm_info} @{attacher_constitution_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="CON"></div><div class="presentation mar-t-sm"><span name="attr_constitution" class="center"></span> (<span name="attr_constitution_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_constitution_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_constitution" class="no-spin" accept="CON" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_constitution_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_constitution_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_constitution_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_constitution_check_mod">0</span></div></div><div class="edit 7-rem"></div><div class="center"><button type="roll" name="roll_shaped_intelligence_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INTELLIGENCE} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_check_mod_formula}]]}} @{hide_gm_info} @{attacher_intelligence_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="INT"></div><div class="presentation mar-t-sm"><span name="attr_intelligence" class="center"></span> (<span name="attr_intelligence_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_intelligence_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_intelligence" class="no-spin" accept="INT" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_intelligence_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_intelligence_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_intelligence_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_intelligence_check_mod">0</span></div></div><div class="center"><button type="roll" name="roll_shaped_wisdom_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WISDOM} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_check_mod_formula}]]}} @{hide_gm_info} @{attacher_wisdom_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="WIS"></div><div class="presentation mar-t-sm"><span name="attr_wisdom" class="center"></span> (<span name="attr_wisdom_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_wisdom_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_wisdom" class="no-spin" accept="WIS" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_wisdom_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_wisdom_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_wisdom_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_wisdom_check_mod">0</span></div></div><div class="center"><button type="roll" name="roll_shaped_charisma_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CHARISMA} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_check_mod_formula}]]}} @{hide_gm_info} @{attacher_charisma_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="CHA"></div><div class="presentation mar-t-sm"><span name="attr_charisma" class="center"></span> (<span name="attr_charisma_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_charisma_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_charisma" class="no-spin" accept="CHA" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_charisma_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_charisma_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_charisma_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_charisma_check_mod">0</span></div></div><div class="edit 7-rem"></div><div class="center honor"><button type="roll" name="roll_shaped_honor_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HONOR} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_check_mod_formula}]]}} @{hide_gm_info} @{attacher_honor_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="HON"></div><div class="presentation mar-t-sm"><span name="attr_honor" class="center"></span> (<span name="attr_honor_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_honor_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_honor" class="no-spin" accept="HON" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_honor_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_honor_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_honor_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_honor_check_mod">0</span></div></div><div class="center sanity"><button type="roll" name="roll_shaped_sanity_check" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SANITY} ^{CHECK}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_check_mod_formula}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_check_mod_formula}]]}} @{hide_gm_info} @{attacher_sanity_check}" tabindex="-1"><div class="heading uppercase center" data-i18n="SAN"></div><div class="presentation mar-t-sm"><span name="attr_sanity" class="center"></span> (<span name="attr_sanity_mod_with_sign" class="center">+0</span>)</div></button> <input type="hidden" name="attr_sanity_mod"><div class="shaped-row center edit"><div class="1-rem"><input type="number" name="attr_sanity" class="no-spin" accept="SAN" value="10"></div><span>+</span><div class="1-rem"><input type="number" name="attr_sanity_bonus" class="edit no-spin" value="0" step="1"></div><div>(<span name="attr_sanity_mod_with_sign" class="center">+0</span>)</div></div><div class="edit shaped-row center vert-center small-label"><span data-i18n="CHECK"></span> <span>+</span><div class="1-rem"><input type="number" name="attr_sanity_check_bonus" class="no-spin" value="0" step="1"></div><span>=</span> <span name="attr_sanity_check_mod">0</span></div></div><div class="edit 12-rem"></div></div><div class="divider"></div><input type="hidden" name="attr_saving_throws_srd" accept="Saving Throws"><div class="saving-throws shaped-row flex-end"><button type="roll" name="roll_shaped_saving_throw" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SAVING_THROWS}}} {{text_big=@{saving_throw_macro_var}}}"><span class="heading" data-i18n="SAVING_THROWS"></span></button> <span class="pad-l-sm"></span><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_strength_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_strength_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_strength_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{STRENGTH} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{strength_formula} + @{strength_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_strength_saving_throw}" tabindex="-1"><span data-i18n="STR"></span> <span name="attr_strength_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_dexterity_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_dexterity_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_dexterity_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DEXTERITY} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{dexterity_formula} + @{dexterity_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_dexterity_saving_throw}" tabindex="-1"><span data-i18n="DEX"></span> <span name="attr_dexterity_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_constitution_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_constitution_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_constitution_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONSTITUTION} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{constitution_formula} + @{constitution_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_constitution_saving_throw}" tabindex="-1"><span data-i18n="CON"></span> <span name="attr_constitution_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_intelligence_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_intelligence_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_intelligence_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{INTELLIGENCE} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{intelligence_formula} + @{intelligence_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_intelligence_saving_throw}" tabindex="-1"><span data-i18n="INT"></span> <span name="attr_intelligence_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_wisdom_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_wisdom_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_wisdom_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WISDOM} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{wisdom_formula} + @{wisdom_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_wisdom_saving_throw}" tabindex="-1"><span data-i18n="WIS"></span> <span name="attr_wisdom_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_charisma_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_charisma_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_charisma_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CHARISMA} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{charisma_formula} + @{charisma_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_charisma_saving_throw}" tabindex="-1"><span data-i18n="CHA"></span> <span name="attr_charisma_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center honor"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_honor_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_honor_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_honor_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{HONOR} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{honor_formula} + @{honor_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_honor_saving_throw}" tabindex="-1"><span data-i18n="HON"></span> <span name="attr_honor_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row default-saving-throw vert-center sanity"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_sanity_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_sanity_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_sanity_saving_throw" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SANITY} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{sanity_formula} + @{sanity_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_sanity_saving_throw}" tabindex="-1"><span data-i18n="SAN"></span> <span name="attr_sanity_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row custom-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_fortitude_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_fortitude_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_fortitude_saving_throw" class="inline" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{FORTITUDE} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{fortitude_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{fortitude_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_fortitude_saving_throw}" tabindex="-1"><span data-i18n="FORTITUDE"></span> <span name="attr_fortitude_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row custom-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_reflex_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_reflex_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_reflex_saving_throw" class="inline" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{REFLEX} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{reflex_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{reflex_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_reflex_saving_throw}" tabindex="-1"><span data-i18n="REFLEX"></span> <span name="attr_reflex_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div><div class="shaped-row custom-saving-throw vert-center"><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_will_save_prof" value="@{PB}"> <span></span></label><div class="1-rem edit"><input type="number" name="attr_will_save_bonus" class="small-label no-spin" value="0" step="1"></div><button type="roll" name="roll_shaped_will_saving_throw" class="inline" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{WILL} ^{SAVE}}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} + @{will_saving_throw_mod}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{will_saving_throw_mod}]]}} @{hide_gm_info} @{attacher_will_saving_throw}" tabindex="-1"><span data-i18n="WILL"></span> <span name="attr_will_saving_throw_mod_with_sign" class="inline-block center">+0</span></button> <span class="comma pad-r-sm">,</span></div></div><input type="hidden" name="attr_skills_srd" accept="Skills"><div class="shaped-row skills no-wrap vert-top"><button type="roll" name="roll_shaped_ability_checks" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ABILITY_CHECKS}}} {{@{ability_checks_text_size}=@{ability_checks_macro_var}}}"><span class="heading" data-i18n="SKILLS"></span></button><div class="flex-grow pad-l-sm"><fieldset class="repeating_skill"><input type="hidden" name="attr_skill_d20_wrap" value="@{skill_d20}@{d20_mod}"><div class="shaped-row no-wrap vert-center"><div class="1-rem skill-select-wrapper edit pad-r-sm"><select name="attr_skill_d20" class="no-shrink"><option value="@{shaped_d20}" data-i18n="SKILL_SHEET_SETTING"></option><option value="d20" data-i18n="NORMAL"></option><option value="2d20kh1" data-i18n="ADVANTAGE"></option><option value="2d20kl1" data-i18n="DISADVANTAGE"></option><option value="?{Roll|Normal,d20|Advantage,2d20kh1|Disadvantage,2d20kl1}" data-i18n="QUERY"></option><option value="?{Disadvantaged|No,2d20kh1|Yes,d20}" data-i18n="ADVANTAGE_QUERY"></option><option value="?{Advantaged|No,2d20kl1|Yes,d20}" data-i18n="DISADVANTAGE_QUERY"></option></select></div><label class="round-checkbox-wrapper edit mar-r-sm"><input type="checkbox" name="attr_prof_toggle"> <input type="hidden" name="attr_proficiency" class="skill-proficiency"> <span></span></label><div class="1-rem no-shrink edit"><input type="number" name="attr_bonus" class="small-label no-spin" value="0" step="1"></div><div class="4-rem edit"><input type="text" name="attr_name"></div><button type="roll" name="roll_skill" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name} (^{@{ability_key}})}} {{@{skill_d20}=1}} {{roll1=[[@{skill_d20_wrap} + @{formula}]]}} {{@{roll_setting}=[[@{skill_d20_wrap} + @{formula}]]}} @{hide_gm_info} @{attacher_skill}" tabindex="-1"><div class="shaped-row no-wrap flex-end"><span name="attr_name" class="presentation white-space-no-wrap pad-r-sm"></span> <span name="attr_total_with_sign" class="inline-block center"></span></div></button> <input type="hidden" name="attr_formula"> <input type="hidden" name="attr_ability_key"><div class="skills-ability-selector-wrapper no-shrink edit pad-l-sm"><div class="shaped-row no-wrap vert-center"><span>(</span><select name="attr_ability" class="skills-ability-selector"><option value="0">&#8212;</option><option value="strength" data-i18n="STR" class=""></option><option value="dexterity" data-i18n="DEX" class=""></option><option value="constitution" data-i18n="CON" class=""></option><option value="intelligence" data-i18n="INT" class=""></option><option value="wisdom" data-i18n="WIS" class=""></option><option value="charisma" data-i18n="CHA" class=""></option><option value="honor" data-i18n="HON" class="honor"></option><option value="sanity" data-i18n="SAN" class="sanity"></option></select><span>)</span></div></div><div class="pad-r-sm comma">,</div></div></fieldset><div class="edit center"><label class="pseudo-button-wrapper visible-button"><input type="checkbox" name="attr_generate_skills" value="1"> <span data-i18n="GENERATE_SKILLS"></span></label></div></div></div><div class="damage-vulnerabilities"><input type="hidden" name="attr_damage_vulnerabilities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_vulnerabilities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_VULNERABILITIES}}} {{text=@{damage_vulnerabilities}}}"><span class="heading" data-i18n="DAMAGE_VULNERABILITIES"></span> <span name="attr_damage_vulnerabilities" class="presentation pre-line"></span></button><textarea name="attr_damage_vulnerabilities" class="edit two-line-textarea" accept="Vulnerabilities"></textarea></div><div class="damage-resistances"><input type="hidden" name="attr_damage_resistances_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_resistances" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_RESISTANCES}}} {{text=@{damage_resistances}}}"><span class="heading" data-i18n="DAMAGE_RESISTANCES"></span> <span name="attr_damage_resistances" class="presentation pre-line"></span></button><textarea name="attr_damage_resistances" class="edit two-line-textarea" accept="Resistances"></textarea></div><div class="damage-immunities"><input type="hidden" name="attr_damage_immunities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_damage_immunities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{DAMAGE_IMMUNITIES}}} {{text=@{damage_immunities}}}"><span class="heading" data-i18n="DAMAGE_IMMUNITIES"></span> <span name="attr_damage_immunities" class="presentation pre-line"></span></button><textarea name="attr_damage_immunities" class="edit two-line-textarea" accept="Immunities"></textarea></div><div class="condition-immunities"><input type="hidden" name="attr_condition_immunities_exist" class="item-toggle"> <button type="roll" name="roll_shaped_condition_immunities" class="wrapper-button item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CONDITION_IMMUNITIES}}} {{text=@{condition_immunities}}}"><span class="heading" data-i18n="CONDITION_IMMUNITIES"></span> <span name="attr_condition_immunities" class="presentation pre-line"></span></button><textarea name="attr_condition_immunities" class="edit two-line-textarea" accept="Condition Immunities"></textarea></div><input type="hidden" name="attr_senses_exist" class="item-toggle"><div class="item-to-toggle"><input type="hidden" name="attr_senses" accept="Senses"> <input type="hidden" name="attr_senses_string"><div class="shaped-row"><div><button type="roll" name="roll_shaped_senses" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SENSES}}} {{text_big=@{senses_string}}}"><span data-i18n="SENSES" class="heading"></span> <span name="attr_senses_string" class="presentation"></span></button></div><div class="mar-l-smd edit"></div><div class="shaped-row no-wrap edit"><span data-i18n="BLINDSIGHT" class="lowercase"></span><div class="1-5-rem edit"><input type="number" name="attr_blindsight" class="small-label no-spin" step="1"></div><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_blindsight_blind_beyond" value="1"> <span data-i18n="BLIND_BEYOND" class="small-font lowercase"></span></label><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="DARKVISION" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_darkvision" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="TREMORSENSE" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_tremorsense" class="small-label no-spin" step="1"></div><span>,&nbsp;</span></div><div class="shaped-row no-wrap edit"><span data-i18n="TRUESIGHT" class="lowercase"></span><div class="1-5-rem"><input type="number" name="attr_truesight" class="small-label no-spin" step="1"></div></div></div></div><div class="shaped-row vert-center"><input type="hidden" name="attr_languages_exist" class="item-toggle"> <button type="roll" name="roll_shaped_languages" class="item-to-toggle" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{LANGUAGES}}} {{text_big=@{languages}}}"><span class="heading" data-i18n="LANGUAGES"></span> <span name="attr_languages" class="presentation"></span></button><div class="flex-grow pad-l-sm edit"><input type="text" name="attr_languages" accept="Languages"></div></div><div class="shaped-row vert-center"><button type="roll" name="roll_shaped_challenge" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{CHALLENGE}}} {{text_top=@{challenge} (@{xp_readable} XP)}}" tabindex="-1"><span class="heading" data-i18n="CHALLENGE"></span> <span class="presentation"><span name="attr_challenge"></span> (<span name="attr_xp_readable"></span> XP)</span></button> <input type="hidden" name="attr_xp"> <input type="hidden" name="attr_xp_readable"><div class="1-5-rem edit pad-l-sm"><input type="text" name="attr_challenge" class="no-spin center" accept="Challenge Rating"></div></div><div><button type="roll" name="roll_shaped_pb" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{PROFICIENCY_BONUS}}} {{text_big=[[@{pb}]]}}" tabindex="-1"><span class="heading" data-i18n="PROFICIENCY_BONUS"></span> <span name="attr_PB"></span></button></div><div class="divider"></div></div></div><div class="22-rem right-column flex-grow"><div><input type="hidden" name="attr_traits_exist" class="item-toggle"><div class="item-to-toggle"><input type="checkbox" name="attr_traits_condense" class="toggle-filter-condense presentation"><span class="toggle-filter-condense presentation button lowercase" data-i18n="CONDENSE"></span><fieldset class="repeating_trait"><div class="relative mar-b-sm"><div class="absolute"><input type="hidden" name="attr_has_uses" class="item-toggle"><div class="item-to-toggle gray-bg small-label pad-l-sm"><div class="shaped-row no-wrap"><div class="3-rem pad-r-sm"><div class="shaped-row vert-center no-wrap"><div><input type="number" name="attr_uses" class="no-spin gray-bg no-pad" step="1"></div><div>/</div><div><input type="number" name="attr_uses_max" class="no-spin gray-bg no-pad" step="1"></div></div><div class="edit small-font center" data-i18n="USES"></div></div><div class="3-rem edit pad-l-sm"><input type="text" name="attr_per_use" class="center gray-bg"><div class="edit small-font center" data-i18n="PER_USE"></div></div></div></div></div><input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_trait" class="presentation trait wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{trait=1}} {{recharge=@{recharge_display}}} {{per_use=@{per_use}}} {{uses=@{uses}}} {{uses_max=@{uses|max}}} @{hide_gm_info} @{roll_formula}"><input type="hidden" name="attr_has_uses" class="trait-has-uses"> <span class="heading"></span> <span name="attr_name" class="bold italic"></span><span name="attr_recharge_display" class="bold italic"></span><span class="bold italic">.</span> <span name="attr_display_text" class="pre-line show-when-not-condensed"></span></button><div class="shaped-row edit"><div class="3-rem uses-placeholder presentation"></div><div class="6-rem uses-placeholder edit"></div><div class="6-rem flex-grow center pad-l-sm"><input type="text" name="attr_name" class="bold italic" data-i18n-placeholder="AMPHIBIOUS"></div><div class="1-rem edit"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row"><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><div class="center"><textarea class="two-line-textarea" name="attr_display_text"></textarea><div class="small-font" data-i18n="DISPLAY_TEXT"></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div></div><input type="checkbox" name="attr_show_spells" class="toggle-spells edit" value="1"><span class="toggle-spells lowercase edit" data-i18n="SPELLS"></span> <input type="checkbox" name="attr_innate_spellcasting" class="toggle-innate-spellcasting edit" value="1"><span class="toggle-innate-spellcasting lowercase edit" data-i18n="INNATE_SPELLCASTING"></span> <input type="checkbox" name="attr_spellcasting" class="toggle-spellcasting edit" value="1"><span class="toggle-spellcasting lowercase edit" data-i18n="SPELLCASTING"></span><div class="spells"><div class="innate-spellcasting indent"><button type="roll" name="roll_shaped_spells" value="@{spells_macro_var}"><span class="heading italic"><span data-i18n="INNATE_SPELLCASTING"></span>.</span></button> <span data-i18n="INNATE_SPELLCASTING_TEXT_1"></span> <span name="attr_character_name"></span><span data-i18n="INNATE_SPELLCASTING_TEXT_2"></span> <span name="attr_spell_ability" data-i18n-dynamic class="presentation"></span><div class="5-rem inline-block edit"><select name="attr_spell_ability"><option value="0">&#8212;</option><option value="FINESSE" data-i18n="FINESSE"></option><option value="STRENGTH" data-i18n="STRENGTH" class=""></option><option value="DEXTERITY" data-i18n="DEXTERITY" class=""></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class=""></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class=""></option><option value="WISDOM" data-i18n="WISDOM" class=""></option><option value="CHARISMA" data-i18n="CHARISMA" class=""></option><option value="HONOR" data-i18n="HONOR" class="honor"></option><option value="SANITY" data-i18n="SANITY" class="sanity"></option></select></div><span>&nbsp;(<button type="roll" name="roll_shaped_spell_dc" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_SAVING_THROW}}} {{spell=1}} {{saving_throw_dc=@{spell_save_DC}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}" class="white-space-no-wrap"><span data-i18n="SPELL_SAVE_DC"></span> <span name="attr_spell_save_DC">10</span></button>, <button type="roll" name="roll_shaped_spell_attack" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_ATTACK}}} {{spell=1}} {{vs_ac=1}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{targetAC=@{attacks_vs_target_ac}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}" class="white-space-no-wrap"><span name="attr_spell_to_hit">+2</span> <span data-i18n="SPELL_TO_HIT"></span></button>). </span><span data-i18n="INNATE_SPELLCASTING_TEXT_1"></span> <span name="attr_character_name"></span> <span data-i18n="INNATE_SPELLCASTING_TEXT_3"></span> <span class="presentation"><span name="attr_innate_spellcasting_components" data-i18n-dynamic></span>:</span><div class="13-rem inline-block edit"><select name="attr_innate_spellcasting_components" class="italic"><option value="INNATE_SPELLCASTING_NO_MATERIAL" data-i18n="INNATE_SPELLCASTING_NO_MATERIAL"></option><option value="INNATE_SPELLCASTING_ONLY_VERBAL" data-i18n="INNATE_SPELLCASTING_ONLY_VERBAL"></option></select></div><div class="presentation"><span name="attr_innate_spellcasting_blurb" class="pre-line"></span></div><div class="flex-grow edit"><textarea name="attr_innate_spellcasting_blurb" class="three-line-textarea"></textarea></div></div><div class="spellcasting indent"><button type="roll" name="roll_shaped_spells" value="@{spells_macro_var}"><span class="heading italic"><span data-i18n="SPELLCASTING"></span>.</span></button> <span data-i18n="SPELLCASTING_TEXT_1"></span> <span name="attr_character_name"></span> <span data-i18n="SPELLCASTING_TEXT_2"></span> <span name="attr_spellcaster_level" data-i18n-dynamic class="presentation"></span><div class="4-rem inline-block edit"><input type="hidden" name="attr_caster_level"><select name="attr_spellcaster_level" class="italic"><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option><option value="10TH_LEVEL" data-i18n="10TH_LEVEL"></option><option value="11TH_LEVEL" data-i18n="11TH_LEVEL"></option><option value="12TH_LEVEL" data-i18n="12TH_LEVEL"></option><option value="13TH_LEVEL" data-i18n="13TH_LEVEL"></option><option value="14TH_LEVEL" data-i18n="14TH_LEVEL"></option><option value="15TH_LEVEL" data-i18n="15TH_LEVEL"></option><option value="16TH_LEVEL" data-i18n="16TH_LEVEL"></option><option value="17TH_LEVEL" data-i18n="17TH_LEVEL"></option><option value="18TH_LEVEL" data-i18n="18TH_LEVEL"></option><option value="19TH_LEVEL" data-i18n="19TH_LEVEL"></option><option value="20TH_LEVEL" data-i18n="20TH_LEVEL"></option><option value="21ST_LEVEL" data-i18n="21ST_LEVEL"></option><option value="22ND_LEVEL" data-i18n="22ND_LEVEL"></option><option value="23RD_LEVEL" data-i18n="23RD_LEVEL"></option><option value="24TH_LEVEL" data-i18n="24TH_LEVEL"></option><option value="25TH_LEVEL" data-i18n="25TH_LEVEL"></option><option value="26TH_LEVEL" data-i18n="26TH_LEVEL"></option><option value="27TH_LEVEL" data-i18n="27TH_LEVEL"></option><option value="28TH_LEVEL" data-i18n="28TH_LEVEL"></option><option value="29TH_LEVEL" data-i18n="29TH_LEVEL"></option><option value="30TH_LEVEL" data-i18n="30TH_LEVEL"></option></select></div>&nbsp;<span data-i18n="SPELLCASTING_TEXT_3"></span> <span name="attr_spell_ability" data-i18n-dynamic class="presentation"></span><div class="5-rem inline-block edit"><select name="attr_spell_ability"><option value="0">&#8212;</option><option value="FINESSE" data-i18n="FINESSE"></option><option value="STRENGTH" data-i18n="STRENGTH" class=""></option><option value="DEXTERITY" data-i18n="DEXTERITY" class=""></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class=""></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class=""></option><option value="WISDOM" data-i18n="WISDOM" class=""></option><option value="CHARISMA" data-i18n="CHARISMA" class=""></option><option value="HONOR" data-i18n="HONOR" class="honor"></option><option value="SANITY" data-i18n="SANITY" class="sanity"></option></select></div><span>&nbsp;(<button type="roll" name="roll_shaped_spell_dc" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_SAVING_THROW}}} {{spell=1}} {{saving_throw_dc=@{spell_save_DC}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}" class="white-space-no-wrap"><span data-i18n="SPELL_SAVE_DC"></span> <span name="attr_spell_save_DC">10</span></button>, <button type="roll" name="roll_shaped_spell_attack" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELL_ATTACK}}} {{spell=1}} {{vs_ac=1}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} @{spell_to_hit}]]}} {{targetAC=@{attacks_vs_target_ac}}} {{targetName=@{attacks_vs_target_name}}} @{hide_gm_info}" class="white-space-no-wrap"><span name="attr_spell_to_hit">+2</span> <span data-i18n="SPELL_TO_HIT"></span></button>). </span><span data-i18n="SPELLCASTING_TEXT_1"></span> <span name="attr_character_name"></span> <span data-i18n="SPELLCASTING_TEXT_4"></span> <span name="attr_spellcasting_class" data-i18n-dynamic class="presentation"></span><div class="4-rem inline-block edit"><select name="attr_spellcasting_class"><option value="">&#8212;</option><option value="BARBARIAN" data-i18n="BARBARIAN"></option><option value="BARD" data-i18n="BARD"></option><option value="CLERIC" data-i18n="CLERIC"></option><option value="DRUID" data-i18n="DRUID"></option><option value="FIGHTER" data-i18n="FIGHTER"></option><option value="MONK" data-i18n="MONK"></option><option value="PALADIN" data-i18n="PALADIN"></option><option value="PSION" data-i18n="PSION" class="psionics"></option><option value="RANGER" data-i18n="RANGER"></option><option value="ROGUE" data-i18n="ROGUE"></option><option value="SORCERER" data-i18n="SORCERER"></option><option value="SOULKNIFE" data-i18n="SOULKNIFE" class="psionics"></option><option value="SUMMONER" data-i18n="SUMMONER" class="custom-class"></option><option value="WARLOCK" data-i18n="WARLOCK"></option><option value="WIZARD" data-i18n="WIZARD"></option><option value="CUSTOM" data-i18n="CUSTOM"></option></select></div>&nbsp;<span data-i18n="SPELLCASTING_TEXT_5"></span>:</div><input type="checkbox" name="attr_spells_level_0_show" class="toggle-cantrips edit" value="true"><span class="toggle-cantrips edit button lowercase" data-i18n="CANTRIPS"></span> <input type="checkbox" name="attr_spell_slots_toggle" class="toggle-spell-slots edit"><span class="toggle-spell-slots edit button lowercase" data-i18n="SPELL_SLOTS"></span> <input type="checkbox" name="attr_spell_points_toggle" class="toggle-spell-points edit"><span class="toggle-spell-points edit button lowercase" data-i18n="SPELL_POINTS"></span> <input type="checkbox" name="attr_spell_condensed" class="toggle-filter-condense presentation" checked="checked"><span class="toggle-filter-condense presentation button lowercase" data-i18n="CONDENSE"></span> <input type="checkbox" name="attr_spell_contents" class="toggle-filter-content presentation"><span class="toggle-filter-content presentation button lowercase" data-i18n="CONTENT"></span> <input type="checkbox" name="attr_spell_display_filters" class="toggle-filters" value="1" checked="checked"><span class="toggle-filters button lowercase" data-i18n="FILTERS"></span> <input type="checkbox" name="attr_spell_only_show_prepared" class="toggle-filter-prepared"><span class="toggle-filter-prepared button lowercase" data-i18n="PREPARED"></span> <input type="checkbox" name="attr_spell_only_show_rituals" class="toggle-filter-ritual"><span class="toggle-filter-ritual button lowercase" data-i18n="RITUAL"></span> <input type="checkbox" name="attr_spell_only_show_verbal" class="toggle-filter-verbal" checked="checked"><span class="toggle-filter-verbal button" data-i18n="COMPONENTS_V"></span> <input type="checkbox" name="attr_spell_only_show_somatic" class="toggle-filter-somatic" checked="checked"><span class="toggle-filter-somatic button" data-i18n="COMPONENTS_S"></span> <input type="checkbox" name="attr_spell_only_show_material" class="toggle-filter-material" checked="checked"><span class="toggle-filter-material button" data-i18n="COMPONENTS_M"></span> <input type="checkbox" name="attr_spell_only_show_concentration" class="toggle-filter-concentration" checked="checked"><span class="toggle-filter-concentration button lowercase" data-i18n="CONCENTRATION"></span> <input type="radio" name="attr_npc_spell_casting_time_only_show" class="toggle-filter-time-reaction" value="reaction"><span class="toggle-filter-time-reaction button lowercase" data-i18n="REACTION"></span><input type="radio" name="attr_npc_spell_casting_time_only_show" class="toggle-filter-time-bonus" value="bonus"><span class="toggle-filter-time-bonus button lowercase border-left" data-i18n="BONUS"></span><input type="radio" name="attr_npc_spell_casting_time_only_show" class="toggle-filter-time-action" value="action"><span class="toggle-filter-time-action button lowercase border-left" data-i18n="ACTION"></span><input type="radio" name="attr_npc_spell_casting_time_only_show" class="toggle-filter-time-longer" value="all"><span class="toggle-filter-time-longer button lowercase border-left" data-i18n="LONGER"></span><input type="radio" name="attr_npc_spell_casting_time_only_show" class="toggle-filter-time-all" value="all" checked="checked"><span class="toggle-filter-time-all button lowercase border-left" data-i18n="ALL"></span> <input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-0" value="0"><span class="toggle-spells-filter-level-0 button lowercase" data-i18n="CANTRIPS"></span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-1 spell-level-1" value="1"><span class="toggle-spells-filter-level-1 spell-level-1 button border-left">1</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-2 spell-level-2" value="2"><span class="toggle-spells-filter-level-2 spell-level-2 button border-left">2</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-3 spell-level-3" value="3"><span class="toggle-spells-filter-level-3 spell-level-3 button border-left">3</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-4 spell-level-4" value="4"><span class="toggle-spells-filter-level-4 spell-level-4 button border-left">4</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-5 spell-level-5" value="5"><span class="toggle-spells-filter-level-5 spell-level-5 button border-left">5</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-6 spell-level-6" value="6"><span class="toggle-spells-filter-level-6 spell-level-6 button border-left">6</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-7 spell-level-7" value="7"><span class="toggle-spells-filter-level-7 spell-level-7 button border-left">7</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-8 spell-level-8" value="8"><span class="toggle-spells-filter-level-8 spell-level-8 button border-left">8</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-9 spell-level-9" value="9"><span class="toggle-spells-filter-level-9 spell-level-9 button border-left">9</span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-auto" value="auto" checked="checked"><span class="toggle-spells-filter-level-auto button lowercase border-left" data-i18n="AUTO"></span><input type="radio" name="attr_npc_spell_level_filter" class="toggle-spells-filter-level-all" value="all"><span class="toggle-spells-filter-level-all button lowercase border-left" data-i18n="ALL"></span><input type="hidden" name="attr_npc_spell_level_filter" class="toggle-filter-level"><div class="spell-level-container has-warlock-slots shaped-row flex-end"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="WARLOCK_SPELL_SLOTS"></span> <span class="mar-l-smd">(</span><div class="07-em"><input type="number" name="attr_warlock_spell_slots" class="no-spin" value="0"></div><span>&#47;</span> <span name="attr_warlock_spell_slots_calc" class="spell-slots pc edit"></span><div class="pc edit">+</div><div class="edit 07-em"><input type="number" name="attr_warlock_spell_slots_bonus" class="no-spin" value="0" min="0"></div><div class="pc edit">=</div><span name="attr_warlock_spell_slots_max"></span> <span>):</span></div><span name="attr_warlock_spells_max_level" class="presentation" data-i18n-dynamic></span><div class="edit"><select name="attr_warlock_spells_max_level"><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div></div><div class="sheet-spell-slots-or-points-or-warlock-slots"><div class="spell-level-container spell-points spell-level-wrapper"><div class="shaped-row flex-end mar-r-smd"><span data-i18n="SPELL_POINTS"></span> <span class="mar-l-smd">(</span><div class="1-5-rem"><input type="number" name="attr_spell_points" class="no-spin" value="0"></div><span>&#47;</span> <span name="attr_spell_points_max" class="presentation">0</span><div class="1-5-rem edit"><input type="number" name="attr_spell_points_max" class="no-spin" value="0" min="0"></div><span>);</span> <span data-i18n="LIMIT" class="lowercase mar-l-smd mar-r-smd"></span> <span name="attr_spell_points_limit" class="presentation"></span><div class="1-5-rem edit"><input type="number" name="attr_spell_points_limit" class="no-spin" value="2" min="2"></div></div></div><div class="spell-level-container spell-level-0 shaped-row vert-top"><span class="spell-level-wrapper white-space-no-wrap mar-r-smd"><span data-i18n="CANTRIPS"></span> <span>(<span data-i18n="AT_WILL"></span>)</span><span class="show-when-condensed">:</span></span><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell0"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_0} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-1 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="1ST_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l1" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l1_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l1_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l1_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">2 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell1"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_1} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL" selected="selected"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-2 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="2ND_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l2" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l2_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l2_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l2_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">3 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell2"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_2} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL" selected="selected"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-3 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="3RD_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l3" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l3_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l3_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l3_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">5 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell3"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_3} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL" selected="selected"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-4 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="4TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l4" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l4_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l4_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l4_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">6 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell4"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_4} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL" selected="selected"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-5 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="5TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l5" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l5_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l5_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l5_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">7 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell5"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_5} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL" selected="selected"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-6 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="6TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l6" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l6_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l6_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l6_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">9 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell6"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_6} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL" selected="selected"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-7 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="7TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l7" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l7_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l7_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l7_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">10 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell7"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_7} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL" selected="selected"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-8 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="8TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l8" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l8_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l8_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l8_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">11 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell8"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_8} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL" selected="selected"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div><div class="spell-level-container spell-level-9 shaped-row vert-top"><div class="spell-level-wrapper shaped-row flex-end mar-r-smd"><span data-i18n="9TH_LEVEL" class="white-space-no-wrap"></span> <span class="spell-slots-or-points">&nbsp;(</span><div class="07-em spell-slots"><input type="number" name="attr_spell_slots_l9" class="no-spin" value="0"></div><span class="spell-slots">&#47;</span> <span name="attr_spell_slots_l9_calc" class="spell-slots pc edit"></span><div class="spell-slots edit">+</div><div class="spell-slots edit 07-em"><input type="number" name="attr_spell_slots_l9_bonus" class="no-spin" value="0" min="0"></div><div class="spell-slots edit">=</div><span name="attr_spell_slots_l9_max" class="spell-slots"></span> <span class="spell-slots spell-points mar-r-smd">;</span> <span class="spell-points">13 <span data-i18n="POINTS" class="lowercase"></span></span> <span class="spell-slots-or-points">)</span> <span class="show-when-condensed">:</span></div><div class="col-100 show-when-not-condensed"></div><fieldset class="repeating_spell9"><input type="hidden" name="attr_is_prepared" class="toggle-prepared hidden"> <input type="hidden" name="attr_ritual" class="toggle-ritual"> <input type="hidden" name="attr_concentration" class="toggle-concentration"> <input type="hidden" name="attr_casting_time" class="toggle-time"> <input type="hidden" name="attr_components" class="toggle-components"><div class="filter-section compendium-drop-target"><input type="hidden" name="attr_type" accept="Spell Attack"> <input type="hidden" name="attr_add_casting_modifier" accept="Add Casting Modifier"> <input type="hidden" name="attr_cast_as_level"> <input type="hidden" name="attr_spell_level_from_srd" accept="Level"> <input type="hidden" name="attr_school_from_srd" accept="School"> <input type="hidden" name="attr_casting_time_from_srd" accept="Casting Time"> <input type="hidden" name="attr_components_from_srd" accept="Components"> <input type="hidden" name="attr_duration_from_srd" accept="Duration"> <input type="hidden" name="attr_damage_progression_from_srd" accept="Damage Progression"> <input type="hidden" name="attr_saving_throw_vs_ability_from_srd" accept="Save"><div class="presentation relative"><input type="hidden" name="attr_roll_formula"><div class="shaped-row no-wrap"><button type="roll" name="roll_spell" class="wrapper-button" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{spell=1}} @{attacher_spell} @{attacher_spell_level_9} {{spell_level=^{@{spell_level}}}} {{school=^{@{school}}}} {{casting_time=^{@{casting_time}}}} @{ritual_output} {{range=@{range}}} {{components=^{@{components}}}} {{materials=@{materials}}} {{duration=^{@{duration}}}} {{cast_as_level=@{cast_as_level}}} @{hide_gm_info} @{roll_formula}"><span name="attr_name" class="spell-name"></span><div class="no-overflow condense"><span name="attr_spell_level" data-i18n-dynamic class="italic"></span> <span name="attr_school" data-i18n-dynamic class="italic lowercase"></span> <span class="show-ritual italic lowercase">(<span data-i18n="RITUAL"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span> <span name="attr_casting_time" data-i18n-dynamic></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span> <span name="attr_range"></span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span> <span name="attr_components" data-i18n-dynamic></span> <input type="checkbox" name="attr_materials_show" value="1" class="show-materials hidden"> <span class="show-materials">(<span name="attr_materials" class="small-label"></span>)</span></div><div class="no-overflow condense"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span> <span name="attr_duration" data-i18n-dynamic></span></div><div class="condense content"><span name="attr_content"></span></div></button> <span class="show-when-condensed comma">,&nbsp;</span></div><div class="prepared-absolute prepared-matters"><label class="pseudo-button-wrapper show-when-not-condensed"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row no-wrap edit"><div class="flex-grow"><input type="text" name="attr_name" class="spell-name edit" data-i18n-placeholder="NAME" accept="Name"></div><div class="1-rem"></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-center"><div class="4-rem"><select name="attr_spell_level" class="italic"><option value="CANTRIP" data-i18n="CANTRIP"></option><option value="1ST_LEVEL" data-i18n="1ST_LEVEL"></option><option value="2ND_LEVEL" data-i18n="2ND_LEVEL"></option><option value="3RD_LEVEL" data-i18n="3RD_LEVEL"></option><option value="4TH_LEVEL" data-i18n="4TH_LEVEL"></option><option value="5TH_LEVEL" data-i18n="5TH_LEVEL"></option><option value="6TH_LEVEL" data-i18n="6TH_LEVEL"></option><option value="7TH_LEVEL" data-i18n="7TH_LEVEL"></option><option value="8TH_LEVEL" data-i18n="8TH_LEVEL"></option><option value="9TH_LEVEL" data-i18n="9TH_LEVEL" selected="selected"></option></select></div><div class="7-rem center"><select name="attr_school" class="italic lowercase"><option value="ABJURATION" data-i18n="ABJURATION"></option><option value="CONJURATION" data-i18n="CONJURATION"></option><option value="DIVINATION" data-i18n="DIVINATION"></option><option value="ENCHANTMENT" data-i18n="ENCHANTMENT"></option><option value="EVOCATION" data-i18n="EVOCATION"></option><option value="ILLUSION" data-i18n="ILLUSION"></option><option value="NECROMANCY" data-i18n="NECROMANCY"></option><option value="TRANSMUTATION" data-i18n="TRANSMUTATION"></option></select></div><div class="mar-l-sm"><input type="hidden" name="attr_ritual_output"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_ritual" value="Yes" accept="Ritual"> <span data-i18n="RITUAL" class="lowercase small-font"></span></label></div><div class="mar-l-sm prepared-matters"><label class="pseudo-button-wrapper"><input type="checkbox" name="attr_is_prepared" value="Yes"> <span data-i18n="PREPARED" class="lowercase small-font"></span></label></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="CASTING_TIME"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_casting_time"><option value="1_ACTION" data-i18n="1_ACTION"></option><option value="1_BONUS_ACTION" data-i18n="1_BONUS_ACTION"></option><option value="1_REACTION" data-i18n="1_REACTION"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option></select></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="RANGE"></span>:</span><div class="flex-grow center pad-l-sm"><input type="text" name="attr_range" placeholder="90ft" accept="Range"></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="COMPONENTS"></span>:</span><div class="3-rem center pad-l-sm"><select name="attr_components"><option value="COMPONENTS_V_S_M" data-i18n="COMPONENTS_V_S_M"></option><option value="COMPONENTS_V_S" data-i18n="COMPONENTS_V_S"></option><option value="COMPONENTS_V_M" data-i18n="COMPONENTS_V_M"></option><option value="COMPONENTS_V" data-i18n="COMPONENTS_V"></option><option value="COMPONENTS_S_M" data-i18n="COMPONENTS_S_M"></option><option value="COMPONENTS_S" data-i18n="COMPONENTS_S"></option><option value="COMPONENTS_M" data-i18n="COMPONENTS_M"></option><option class="psionics" value="DISPLAY_AUDITORY" data-i18n="DISPLAY_AUDITORY"></option><option class="psionics" value="DISPLAY_AUDITORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL" data-i18n="DISPLAY_AUDITORY_MENTAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_VISUAL" data-i18n="DISPLAY_AUDITORY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_MENTAL_OLFACTORY" data-i18n="DISPLAY_AUDITORY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY" data-i18n="DISPLAY_AUDITORY_OLFACTORY"></option><option class="psionics" value="DISPLAY_AUDITORY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_AUDITORY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL" data-i18n="DISPLAY_AUDITORY_VISUAL"></option><option class="psionics" value="DISPLAY_AUDITORY_VISUAL_MATERIAL" data-i18n="DISPLAY_AUDITORY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MENTAL" data-i18n="DISPLAY_MENTAL"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY" data-i18n="DISPLAY_MENTAL_OLFACTORY"></option><option class="psionics" value="DISPLAY_MENTAL_OLFACTORY_VISUAL" data-i18n="DISPLAY_MENTAL_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_VISUAL" data-i18n="DISPLAY_MENTAL_VISUAL"></option><option class="psionics" value="DISPLAY_MENTAL_MATERIAL" data-i18n="DISPLAY_MENTAL_MATERIAL"></option><option class="psionics" value="DISPLAY_OLFACTORY" data-i18n="DISPLAY_OLFACTORY"></option><option class="psionics" value="DISPLAY_OLFACTORY_VISUAL" data-i18n="DISPLAY_OLFACTORY_VISUAL"></option><option class="psionics" value="DISPLAY_OLFACTORY_MATERIAL" data-i18n="DISPLAY_OLFACTORY_MATERIAL"></option><option class="psionics" value="DISPLAY_VISUAL" data-i18n="DISPLAY_VISUAL"></option><option class="psionics" value="DISPLAY_VISUAL_MATERIAL" data-i18n="DISPLAY_VISUAL_MATERIAL"></option><option class="psionics" value="DISPLAY_MATERIAL" data-i18n="DISPLAY_MATERIAL"></option></select></div><div class="8-rem pad-l-sm"><div class="shaped-row no-wrap small-label vert-center"><span>(</span> <input type="text" name="attr_materials" class="small-label" accept="Material"> <span>)</span></div></div></div><div class="shaped-row vert-center"><span class="bold mar-r-sm"><span data-i18n="DURATION"></span>:</span><div class="flex-grow center pad-l-sm"><select name="attr_duration"><option value="INSTANTANEOUS" data-i18n="INSTANTANEOUS"></option><option value="INSTANTANEOUS_OR_1_HOUR" data-i18n="INSTANTANEOUS_OR_1_HOUR"></option><option value="1_ROUND" data-i18n="1_ROUND"></option><option value="1_MINUTE" data-i18n="1_MINUTE"></option><option value="10_MINUTES" data-i18n="10_MINUTES"></option><option value="1_HOUR" data-i18n="1_HOUR"></option><option value="8_HOURS" data-i18n="8_HOURS"></option><option value="12_HOURS" data-i18n="12_HOURS"></option><option value="24_HOURS" data-i18n="24_HOURS"></option><option value="CONCENTRATION_UP_TO_1_ROUND" data-i18n="CONCENTRATION_UP_TO_1_ROUND"></option><option value="CONCENTRATION_UP_TO_6_ROUNDS" data-i18n="CONCENTRATION_UP_TO_6_ROUNDS"></option><option value="CONCENTRATION_UP_TO_1_MINUTE" data-i18n="CONCENTRATION_UP_TO_1_MINUTE"></option><option value="CONCENTRATION_UP_TO_10_MINUTES" data-i18n="CONCENTRATION_UP_TO_10_MINUTES"></option><option value="CONCENTRATION_UP_TO_1_HOUR" data-i18n="CONCENTRATION_UP_TO_1_HOUR"></option><option value="CONCENTRATION_UP_TO_2_HOURS" data-i18n="CONCENTRATION_UP_TO_2_HOURS"></option><option value="CONCENTRATION_UP_TO_8_HOURS" data-i18n="CONCENTRATION_UP_TO_8_HOURS"></option><option value="CONCENTRATION_UP_TO_12_HOURS" data-i18n="CONCENTRATION_UP_TO_12_HOURS"></option><option value="CONCENTRATION_UP_TO_24_HOURS" data-i18n="CONCENTRATION_UP_TO_24_HOURS"></option><option value="7_DAYS" data-i18n="7_DAYS"></option><option value="10_DAYS" data-i18n="10_DAYS"></option><option value="30_DAYS" data-i18n="30_DAYS"></option><option value="UNTIL_DISPELLED" data-i18n="UNTIL_DISPELLED"></option><option value="UNTIL_DISPELLED_OR_TRIGGERED" data-i18n="UNTIL_DISPELLED_OR_TRIGGERED"></option><option value="SPECIAL" data-i18n="SPECIAL"></option></select></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_content_toggle" value="1" class="attack-toggle" checked="checked"><div class="bold italic"><span data-i18n="CONTENT"></span>.</div><div class="attack-toggle flex-grow"><textarea name="attr_content" class="three-line-textarea" accept="Content"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_heal_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_heal_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HEAL"></span>.</div><div class="attack-toggle 2-rem"><input type="text" name="attr_heal" class="center" accept="Healing" placeholder="1d6"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem"><select name="attr_heal_ability"><option value="0">&#8212;</option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle 2-rem center"><input type="number" name="attr_heal_bonus" class="no-spin"></div><div class="attack-toggle pad-l-sm pad-r-sm">+</div><div class="attack-toggle center"><label class="pseudo-button-wrapper space-below"><input type="checkbox" name="attr_heal_query_toggle" value="?{Heal Bonus Amount|}"> <span data-i18n="QUERY"></span></label></div></div><div class="shaped-row vert-top mar-t-sm"><input type="hidden" name="attr_higher_level_query"> <input type="checkbox" name="attr_higher_level_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="HIGHER_LEVEL"></span>.</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_higher_level_dice" class="no-spin" accept="Higher Spell Slot Dice" step="0.01"><div data-i18n="DICE" class="small-font"></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_higher_level_die" accept="Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div data-i18n="DIE" class="small-font"></div></div><div class="attack-toggle 2-rem center pad-l-sm pad-r-sm"><input type="number" name="attr_second_higher_level_dice" class="no-spin" accept="Secondary Higher Spell Slot Dice" step="0.01"><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DICE"></span></div></div><div class="attack-toggle 2-rem border-right center pad-l-sm pad-r-sm"><select name="attr_second_higher_level_die" accept="Secondary Higher Spell Slot Die"><option value="d0">&#8212;</option><option>d2</option><option>d4</option><option>d6</option><option>d8</option><option>d10</option><option>d12</option><option>d20</option></select><div class="small-font"><span data-i18n="2ND"></span> <span data-i18n="DIE"></span></div></div><div class="attack-toggle 2-rem center pad-l-sm"><input type="text" name="attr_higher_level_heal" class="center" accept="Higher Level Healing"><div data-i18n="FLAT_HEAL" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_higher_level" class="three-line-textarea"></textarea></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div><div class="shaped-row vert-top mar-t-sm relative"><input type="checkbox" name="attr_special_effects_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SPECIAL_EFFECTS"></span>.</div><div class="attack-toggle 3-rem center mar-b-sm"><input type="text" name="attr_special_effects_type" class="center" data-i18n-placeholder="EXPLODE"><div data-i18n="TYPE" class="small-font"></div></div><div class="attack-toggle 3-rem center pad-l-sm mar-b-sm"><input type="text" name="attr_special_effects_color" class="center" data-i18n-placeholder="FIRE"><div data-i18n="COLOR" class="small-font"></div></div><div class="attack-toggle 4-rem flex-grow center pad-l-sm mar-b-sm"><select name="attr_special_effects_points_of_origin"><option value="sourceToTarget @{target|token_id}" data-i18n="SOURCE_TO_TARGET"></option><option value="target @{target|token_id}" data-i18n="TARGET"></option><option value="source" data-i18n="SOURCE"></option><option value="targetToSource @{target|token_id}" data-i18n="TARGET_TO_SOURCE"></option></select><div data-i18n="POINTS_OF_ORIGIN" class="small-font"></div></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div></div></div></fieldset></div></div><div class="center small-label italic edit" data-i18n="TURN_OFF_FILTERING"></div></div><input type="hidden" name="attr_actions_exist" class="item-toggle"><div class="item-to-toggle"><h3 data-i18n="ACTIONS"></h3><fieldset class="repeating_action"><div class="compendium-drop-target relative mar-b-sm"><input type="hidden" name="attr_modifiers" accept="Modifiers"> <input type="hidden" name="attr_properties" accept="Properties"> <input type="hidden" name="attr_freetext" accept="Content"> <input type="hidden" name="attr_weight" accept="Weight"> <input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_action" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{recharge=@{recharge_display}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span class="bold italic"><span name="attr_name"></span><span name="attr_recharge_display"></span>. </span><span name="attr_freetext" class="pre-line"></span></button><div class="shaped-row edit"><div class="8-rem center"><input type="text" name="attr_name" class="bold italic" data-i18n-placeholder="BITE" accept="Name"></div><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div><input type="hidden" name="attr_reactions_exist" class="item-toggle"><div class="item-to-toggle"><h3 data-i18n="REACTIONS"></h3><fieldset class="repeating_reaction"><div class="compendium-drop-target relative mar-b-sm"><input type="hidden" name="attr_modifiers" accept="Modifiers"> <input type="hidden" name="attr_properties" accept="Properties"> <input type="hidden" name="attr_freetext" accept="Content"> <input type="hidden" name="attr_weight" accept="Weight"> <input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_action" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{recharge=@{recharge_display}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span class="bold italic"><span name="attr_name"></span><span name="attr_recharge_display"></span>. </span><span name="attr_freetext" class="pre-line"></span></button><div class="shaped-row edit"><div class="8-rem center"><input type="text" name="attr_name" class="bold italic" data-i18n-placeholder="BITE" accept="Name"></div><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div><input type="hidden" name="attr_legendaryactions_exist" class="item-toggle"><div class="item-to-toggle"><h3 data-i18n="LEGENDARY_ACTIONS"></h3><div class="mar-b-md"><span data-i18n="LEGENDARY_ACTIONS_TEXT_1"></span> <span name="attr_character_name"></span> <span data-i18n="LEGENDARY_ACTIONS_TEXT_2"></span> <span name="attr_legendary_action_amount" class="presentation"></span><div class="1-5-rem inline-block edit"><input type="number" name="attr_legendary_action_amount" class="no-spin"></div>&nbsp; <span data-i18n="LEGENDARY_ACTIONS_TEXT_3"></span> <span name="attr_character_name"></span> <span data-i18n="LEGENDARY_ACTIONS_TEXT_4"></span></div><fieldset class="repeating_legendaryaction"><div class="compendium-drop-target relative mar-b-sm"><input type="hidden" name="attr_modifiers" accept="Modifiers"> <input type="hidden" name="attr_properties" accept="Properties"> <input type="hidden" name="attr_freetext" accept="Content"> <input type="hidden" name="attr_weight" accept="Weight"> <input type="hidden" name="attr_cost_display"> <input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_action" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=@{name}}} {{cost_exists=@{cost_display}}} {{cost=^{@{cost}}}} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span class="bold italic"><span name="attr_name"></span><span name="attr_recharge_display"></span><span name="attr_cost_display"></span>. </span><span name="attr_freetext" class="pre-line"></span></button><div class="shaped-row edit"><div class="8-rem center"><input type="text" name="attr_name" class="bold italic" data-i18n-placeholder="BITE" accept="Name"></div><div class="4-rem center pad-l-sm"><select name="attr_cost"><option value="">&#8212;</option><option value="COSTS_2_ACTIONS" data-i18n="COSTS_2_ACTIONS"></option><option value="COSTS_3_ACTIONS" data-i18n="COSTS_3_ACTIONS"></option></select><div data-i18n="COST" class="small-font"></div></div><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit" checked="checked"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div><input type="hidden" name="attr_lairactions_exist" class="item-toggle"><div class="item-to-toggle"><h3 data-i18n="LAIR_ACTIONS"></h3><fieldset class="repeating_lairaction"><div class="relative mar-b-sm"><input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_action" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{recharge=@{recharge_display}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span name="attr_freetext" class="pre-line"></span></button><div class="shaped-row edit"><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div><input type="hidden" name="attr_regionaleffects_exist" class="item-toggle"><div class="item-to-toggle"><h3 data-i18n="REGIONAL_EFFECTS"></h3><fieldset class="repeating_regionaleffect"><div class="relative mar-b-sm"><input type="hidden" name="attr_roll_formula"> <button type="roll" name="roll_action" class="presentation" value="@{output_option} &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{action=1}} {{reach=@{reach}}} {{range=@{range}}} {{recharge=@{recharge_display}}} @{attacher_attack} @{hide_gm_info} @{roll_formula}"><span name="attr_freetext" class="pre-line"></span></button><div class="shaped-row edit"><div class="3-rem center pad-l-sm"><select name="attr_type" accept="Item Type"><option value="Other" data-i18n="OTHER_TYPE"></option><option value="Melee Weapon" data-i18n="MELEE_WEAPON"></option><option value="Ranged Weapon" data-i18n="RANGED_WEAPON"></option></select><div data-i18n="TYPE" class="small-font"></div></div><div class="3-rem center pad-l-sm"><input type="text" name="attr_reach" class="center" accept="Reach"><div data-i18n="REACH" class="small-font"></div></div><div class="4-rem center pad-l-sm"><input type="text" name="attr_range" class="center" accept="Range"><div data-i18n="RANGE" class="small-font"></div></div><input type="hidden" name="attr_recharge_display"><div class="5-rem center pad-l-sm"><select name="attr_recharge"><option value="">&#8212;</option><option value="TURN" data-i18n="TURN"></option><option value="SHORT_OR_LONG_REST" data-i18n="SHORT_OR_LONG_REST"></option><option value="LONG_REST" data-i18n="LONG_REST"></option><option value="RECHARGE_2_6">2-6</option><option value="RECHARGE_3_6">3-6</option><option value="RECHARGE_4_6">4-6</option><option value="RECHARGE_5_6">5-6</option><option value="RECHARGE_6">6</option></select><div data-i18n="RECHARGE" class="small-font"></div></div></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings edit"><span class="toggle-icon-settings pictos edit">y</span><div class="details edit"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_roll_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="ATTACK"></span>.</div><div class="attack-toggle center pad-r-sm"><label class="round-checkbox-wrapper mar-t-sm mar-l-sm"><input type="checkbox" name="attr_proficiency" checked="checked"> <span></span></label></div><div class="attack-toggle 4-rem center pad-r-sm"><select name="attr_attack_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_attack_bonus" class="no-spin"></div><div class="attack-toggle flex-grow"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="number" name="attr_crit_range" class="no-spin" value="20" step="1" min="1" max="20"><div class="small-font" data-i18n="CRIT_RANGE"></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_saving_throw_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="SAVING_THROW"></span>.</div><div class="attack-toggle flex-grow"><textarea class="one-line-textarea" name="attr_saving_throw_condition" data-i18n-placeholder="IF_THE_TARGET_IS"></textarea></div><div class="attack-toggle shaped-row vert-top"><div class="4-rem center"><select name="attr_saving_throw_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH"></option><option value="dexterity" data-i18n="DEXTERITY"></option><option value="constitution" data-i18n="CONSTITUTION"></option><option value="intelligence" data-i18n="INTELLIGENCE"></option><option value="wisdom" data-i18n="WISDOM"></option><option value="charisma" data-i18n="CHARISMA"></option><option value="honor" data-i18n="HONOR"></option><option value="sanity" data-i18n="SANITY"></option></select></div><div>+</div><div class="2-rem center pad-r-sm"><input type="number" name="attr_saving_throw_bonus"></div><div class="center pad-l-sm pad-r-sm">=</div><div class="center bold pad-l-sm pad-r-sm"><span data-i18n="DC"></span> <span name="attr_saving_throw_dc"></span> <input type="hidden" name="attr_saving_throw_dc"></div><div class="5-rem center"><select name="attr_saving_throw_vs_ability"><option value="STRENGTH" data-i18n="STRENGTH" class="default-saving-throw"></option><option value="DEXTERITY" data-i18n="DEXTERITY" class="default-saving-throw"></option><option value="CONSTITUTION" data-i18n="CONSTITUTION" class="default-saving-throw"></option><option value="INTELLIGENCE" data-i18n="INTELLIGENCE" class="default-saving-throw"></option><option value="WISDOM" data-i18n="WISDOM" class="default-saving-throw"></option><option value="CHARISMA" data-i18n="CHARISMA" class="default-saving-throw"></option><option value="HONOR" data-i18n="HONOR" class="default-saving-throw honor"></option><option value="SANITY" data-i18n="SANITY" class="default-saving-throw sanity"></option><option value="FORTITUDE" data-i18n="FORTITUDE" class="custom-saving-throw"></option><option value="REFLEX" data-i18n="REFLEX" class="custom-saving-throw"></option><option value="WILL" data-i18n="WILL" class="custom-saving-throw"></option></select></div></div><div class="attack-toggle shaped-row flex-grow"><div class="7-rem flex-grow pad-r-sm"><textarea class="one-line-textarea" name="attr_saving_throw_failure" data-i18n-placeholder="OR"></textarea></div><div class="7-rem flex-grow pad-l-sm"><textarea class="one-line-textarea" name="attr_saving_throw_success" data-i18n-placeholder="HALF_DAMAGE" accept="Save Success"></textarea></div></div></div><input type="hidden" name="attr_damage_formula"> <input type="hidden" name="attr_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_damage" class="center" accept="Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_damage_type" class="center" data-i18n-placeholder="SLASHING" accept="Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><input type="hidden" name="attr_second_damage_formula"> <input type="hidden" name="attr_second_damage_crit_formula"><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_second_damage_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="DAMAGE"></span>.</div><div class="attack-toggle 2-rem center"><input type="text" name="attr_second_damage" class="center" accept="Secondary Damage" placeholder="1d6"></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center"><select name="attr_second_damage_ability"><option value="0">&#8212;</option><option value="finesse" data-i18n="FINESSE"></option><option value="strength" data-i18n="STRENGTH" class=""></option><option value="dexterity" data-i18n="DEXTERITY" class=""></option><option value="constitution" data-i18n="CONSTITUTION" class=""></option><option value="intelligence" data-i18n="INTELLIGENCE" class=""></option><option value="wisdom" data-i18n="WISDOM" class=""></option><option value="charisma" data-i18n="CHARISMA" class=""></option><option value="honor" data-i18n="HONOR" class="honor"></option><option value="sanity" data-i18n="SANITY" class="sanity"></option></select></div><div class="attack-toggle">+</div><div class="attack-toggle 2-rem center pad-r-sm"><input type="number" name="attr_second_damage_bonus" class="no-spin"></div><div class="attack-toggle 3-rem center pad-r-sm"><input type="text" name="attr_second_damage_type" class="center" data-i18n-placeholder="FIRE" accept="Secondary Damage Type"></div><div class="attack-toggle 3-rem center pad-l-sm"><input type="text" name="attr_second_damage_crit" class="center"><div class="small-label relative"><span data-i18n="CRIT" class="small-font"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_DAMAGE_TOOLTIP"></div></div></div></div></div></div><div class="shaped-row vert-top mar-t-sm"><input type="checkbox" name="attr_extras_toggle" value="1" class="attack-toggle"><div class="bold italic"><span data-i18n="EXTRAS"></span>.</div><div class="attack-toggle flex-grow center mar-b-sm"><textarea class="one-line-textarea" name="attr_emote"></textarea><div data-i18n="EMOTE" class="small-font"></div></div><div class="attack-toggle col-100 center"><textarea name="attr_freetext" class="two-line-textarea"></textarea><div data-i18n="FREETEXT" class="small-font"></div></div><div class="attack-toggle col-100 center mar-t-sm"><textarea name="attr_freeform" class="one-line-textarea"></textarea><div data-i18n="FREEFORM" class="small-font"></div></div></div></div></div></fieldset></div></div></div><input type="hidden" name="attr_character_name"></div><div class="bar"></div></div><div class="section-character pc"><div class="shaped-row"><div class="16-rem"><div class="wrap-box center mar-b-smd"><div class="shaped-row"><div class="3-rem flex-grow"><input type="text" name="attr_gender" class="center"><div class="small-font center" data-i18n="GENDER"></div></div><div class="3-rem flex-grow"><input type="number" name="attr_age" class="center no-spin"><div class="small-font center" data-i18n="AGE"></div></div><div class="4-rem flex-grow"><input type="text" name="attr_height" class="center"><div class="small-font center" data-i18n="HEIGHT"></div></div><div class="4-rem flex-grow"><input type="text" name="attr_weight" class="center"><div class="small-font center" data-i18n="WEIGHT"></div></div><div class="4-rem flex-grow"><input type="text" name="attr_eyes" class="center"><div class="small-font center" data-i18n="EYES"></div></div><div class="4-rem flex-grow"><input type="text" name="attr_skin" class="center"><div class="small-font center" data-i18n="SKIN"></div></div><div class="4-rem flex-grow"><input type="text" name="attr_hair" class="center"><div class="small-font center" data-i18n="HAIR"></div></div></div><div><textarea name="attr_appearance" class="five-line-textarea"></textarea></div><div class="wrap-box-title center" data-i18n="APPEARANCE"></div></div><div class="wrap-box center"><textarea name="attr_backstory" class="twenty-line-textarea"></textarea><div class="wrap-box-title" data-i18n="BACKSTORY"></div></div></div><div class="shaped-row flex-grow mar-l-smd"><div class="col-50 pad-r-sm"><div class="wrap-box center"><textarea name="attr_miscellaneous_notes" class="thirty-line-textarea"></textarea><div class="wrap-box-title" data-i18n="MISCELLANEOUS_NOTES"></div></div></div><div class="col-50 pad-l-sm"><div class="wrap-box center"><textarea name="attr_miscellaneous_notes_2" class="thirty-line-textarea"></textarea><div class="wrap-box-title" data-i18n="MISCELLANEOUS_NOTES"></div></div></div></div></div></div><div class="section-settings"><div class="shaped-row space-between no-wrap"><div class="shaped-row pad-r-sm"><div class="10-rem"><div class="wrap-box"><div class="shaped-row space-between no-wrap mar-b-sm"><div class="small-label" data-i18n="SHEET"></div><div class="7-rem"><select name="attr_output_option" class="border-bottom" dir="rtl"><option value="" data-i18n="PUBLIC_FOR_ALL" selected="selected"></option><option value="/w GM" data-i18n="WHISPERED_TO_GM"></option><option value="?{Output|Public,|Whisper,/w GM }" data-i18n="CHOOSE_WHEN_ROLLING"></option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><div class="small-label" data-i18n="DEATH_SAVES"></div><div class="5-rem"><select name="attr_death_save_output_option" class="border-bottom" dir="rtl"><option value="@{output_option}" data-i18n="SHEET_OUTPUT" selected="selected"></option><option value="" data-i18n="PUBLIC_FOR_ALL"></option><option value="/w GM" data-i18n="WHISPERED_TO_GM"></option><option value="?{Output|Public,|Whisper,/w GM }" data-i18n="CHOOSE_WHEN_ROLLING"></option></select></div></div><div class="shaped-row space-between no-wrap"><div class="small-label" data-i18n="HIT_DICE"></div><div class="5-rem"><select name="attr_hit_dice_output_option" class="border-bottom" dir="rtl"><option value="@{output_option}" data-i18n="SHEET_OUTPUT" selected="selected"></option><option value="" data-i18n="PUBLIC_FOR_ALL"></option><option value="/w GM" data-i18n="WHISPERED_TO_GM"></option><option value="?{Output|Public,|Whisper,/w GM }" data-i18n="CHOOSE_WHEN_ROLLING"></option></select></div></div><div class="wrap-box-title center" data-i18n="OUTPUT"></div></div></div><div class="9-rem mar-l-smd mar-b-smd"><div class="wrap-box"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="OUTPUT"></span><div class="6-rem"><select name="attr_initiative_output_option" class="border-bottom" dir="rtl"><option value="@{output_option}" data-i18n="SHEET_OUTPUT" selected="selected"></option><option value="" data-i18n="PUBLIC_FOR_ALL"></option><option value="/w GM" data-i18n="WHISPERED_TO_GM"></option><option value="?{Output|Public,|Whisper,/w GM }" data-i18n="CHOOSE_WHEN_ROLLING"></option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="ROLL_OPTIONS"></span><div class="6-rem"><select name="attr_initiative_roll" class="border-bottom" dir="rtl"><option value="@{shaped_d20}" data-i18n="SHEET_SETTING"></option><option value="d20" data-i18n="NORMAL"></option><option value="2d20kh1" data-i18n="ADVANTAGE"></option><option value="2d20kl1" data-i18n="DISADVANTAGE"></option><option value="?{Roll|Normal,d20|Advantage,2d20kh1|Disadvantage,2d20kl1}" data-i18n="QUERY"></option><option value="?{Disadvantaged|No,2d20kh1|Yes,d20}" data-i18n="ADVANTAGE_QUERY"></option><option value="?{Advantaged|No,2d20kl1|Yes,d20}" data-i18n="DISADVANTAGE_QUERY"></option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="TRACKER"></span><div class="6-rem"><select name="attr_initiative_to_tracker" class="border-bottom" dir="rtl"><option value="@{selected|initiative_formula} &{tracker}" data-i18n="TO_TRACKER" selected="selected"></option><option value="@{initiative_formula}" data-i18n="DONT"></option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="BREAK_TIES"></span> <input type="checkbox" name="attr_initiative_tie_breaker" class="mar-l-md" value="[[@{initiative} / 100]][tie breaker]"></div><div class="wrap-box-title center" data-i18n="INITIATIVE"></div></div></div><div class="10-rem mar-l-smd mar-b-smd"><div class="wrap-box"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="CHARACTER_NAME_ON_ROLL_TEMPLATES"></span><div class="1-5-rem"><select name="attr_show_character_name" class="border-bottom no-shrink" dir="rtl"><option value="" data-i18n="NO" selected="selected">No</option><option value="{{show_character_name=1}}" data-i18n="YES">Yes</option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="SHOW_TARGET_AC_ON_ATTACKS"></span><div class="1-5-rem"><select name="attr_attacks_vs_target_ac" class="border-bottom no-shrink" dir="rtl"><option value="" data-i18n="NO" selected="selected">No</option><option value="[[@{target|AC}]]" data-i18n="YES">Yes</option></select></div></div><div class="shaped-row space-between no-wrap"><span class="small-label" data-i18n="SHOW_TARGET_NAME_ON_ATTACKS"></span><div class="1-5-rem"><select name="attr_attacks_vs_target_name" class="border-bottom no-shrink" dir="rtl"><option value="" data-i18n="NO" selected="selected">No</option><option value="@{target|token_name}" data-i18n="YES">Yes</option></select></div></div><div class="wrap-box-title center" data-i18n="ROLL_TEMPLATE"></div></div></div><div class="9-rem mar-l-smd mar-b-smd"><div class="wrap-box mar-b-smd"><div class="shaped-row space-between no-wrap mar-b-sm"><div class="relative pad-r-xl"><span class="small-label" data-i18n="SHOW_RESTS"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div><input type="checkbox" name="attr_show_rests" class="mar-l-md no-shrink"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="PASSIVE_SKILLS"></span> <input type="checkbox" name="attr_show_passive_skills" class="mar-l-md" value="1"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="SPELLS"></span> <input type="checkbox" name="attr_show_spells" class="mar-l-md" value="1"></div><div class="spells shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="PREPARED_MATTERS"></span> <input type="checkbox" name="attr_prepared_matters" class="mar-l-md" value="1"></div><div class="wrap-box-title center" data-i18n="DISPLAY"></div></div></div><div class="9-rem mar-l-smd mar-b-smd"><div class="wrap-box mar-b-smd"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="CREATE_CLASS_FEATURES"></span> <input type="checkbox" name="attr_create_class_features" class="mar-l-md no-shrink" value="1" checked="checked"></div><div class="wrap-box-title center" data-i18n="FEATURES"></div></div><div class="wrap-box relative"><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="AMMO_AUTO_USE"></span> <input type="checkbox" name="attr_ammo_auto_use" class="mar-l-md no-shrink" value="1"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="AUTO_REVERT_ADV"></span> <input type="checkbox" name="attr_auto_revert_advantage" class="mar-l-md no-shrink"></div><div class="wrap-box-title center" data-i18n="API"></div></div></div><div class="12-rem mar-l-smd mar-b-smd"><div class="general-bonuses wrap-box relative center"><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-right small-label" data-i18n="BONUSES_AND_PENALTIES_TOOLTIP"></div></div></div><div class="shaped-row"><div class="col-1-3 wrap-box-label light-label center" data-i18n="ATTACKS"></div><div class="col-1-3 wrap-box-label light-label center" data-i18n="MELEE"></div><div class="col-1-3 wrap-box-label light-label center" data-i18n="RANGED"></div></div><div class="shaped-row no-wrap mar-b-sm"><div class="center"><input type="text" name="attr_global_attack_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="ATK"></div></div><div class="center pad-r-sm"><input type="text" name="attr_global_damage_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="DMG"></div></div><div class="center pad-l-sm"><input type="text" name="attr_global_melee_attack_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="ATK"></div></div><div class="center pad-r-sm"><input type="text" name="attr_global_melee_damage_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="DMG"></div></div><div class="center pad-l-sm"><input type="text" name="attr_global_ranged_attack_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="ATK"></div></div><div class="center"><input type="text" name="attr_global_ranged_damage_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="DMG"></div></div></div><hr><div class="wrap-box-label light-label center" data-i18n="SPELLCASTING"></div><div class="shaped-row no-wrap mar-b-sm"><div class="center pad-r-sm"><input type="text" name="attr_global_spell_attack_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="ATK"></div></div><div class="center"><input type="text" name="attr_global_spell_damage_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="DMG"></div></div><div class="center pad-l-sm"><input type="text" name="attr_global_spell_dc_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="SAVING_DC"></div></div><div class="center pad-l-sm"><input type="text" name="attr_global_spell_heal_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="HEAL"></div></div></div><hr><div class="shaped-row no-wrap"><div class="pc center pad-r-sm"><input type="number" name="attr_global_ability_bonus" class="no-spin border-bottom" value="0" step="1"><div class="small-label" data-i18n="ABILITY_SCORES"></div></div><div class="center pad-r-sm"><input type="text" name="attr_global_saving_throw_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="SAVING_THROWS"></div></div><div class="center"><input type="text" name="attr_global_check_bonus" class="center border-bottom" value="0"><div class="small-label" data-i18n="ABILITY_CHECKS"></div></div></div><div class="wrap-box-title" data-i18n="BONUSES_AND_PENALTIES"></div></div></div><div class="10-rem mar-l-smd mar-b-smd"><div class="wrap-box mar-b-smd"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="INSPIRATION_MULTIPLE"></span> <input type="checkbox" name="attr_inspiration_multiple" class="mar-l-md" value="1"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="PSIONICS"></span> <input type="checkbox" name="attr_psionics" class="mar-l-md" value="1"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="CUSTOM_CLASSES"></span> <input type="checkbox" name="attr_custom_classes" class="mar-l-md" value="1"></div><div class="shaped-row space-between no-wrap"><div class="relative pad-r-xl"><span class="small-label" data-i18n="EXPERTISE_AS_ADVANTAGE"></span><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">A</div><div class="tooltip-content-left small-label" data-i18n="REQUIRES_API"></div></div></div></div><input type="checkbox" name="attr_expertise_as_advantage" class="mar-l-md no-shrink" value="1"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="MEDIUM_ARMOR_MAX_DEX"></span><div class="1-5-rem"><input type="number" name="attr_medium_armor_max_dex" value="2" class="no-spin border-bottom right"></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="BASE_DC"></span><div class="1-5-rem"><input type="number" name="attr_base_dc" value="8" class="no-spin border-bottom right"></div></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HONOR"></span> <input type="checkbox" name="attr_honor_toggle" class="mar-l-md" value="1"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="SANITY"></span> <input type="checkbox" name="attr_sanity_toggle" class="mar-l-md" value="1"></div><div class="wrap-box-title center" data-i18n="HOUSERULES"></div></div><div class="wrap-box"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="ADD_HALF_PROFICIENCY_TO_UNPROFICIENT_SAVING_THROWS"></span> <input type="checkbox" name="attr_saving_throws_half_proficiency" class="mar-l-md no-shrink"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="USE_CUSTOM_SAVING_THROWS"></span> <input type="checkbox" name="attr_use_custom_saving_throws" class="mar-l-md no-shrink" value="1"></div><div class="custom-saving-throw shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="AVERAGE_OF_ABILITIES"></span> <input type="checkbox" name="attr_average_of_abilities" class="mar-l-md no-shrink" value="1"></div><div class="custom-saving-throw shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="FORTITUDE">Fortitude</span><div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="STR">Str</span><input type="checkbox" name="attr_fortitude_strength" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="DEX">Dex</span><input type="checkbox" name="attr_fortitude_dexterity" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CON">Con</span><input type="checkbox" name="attr_fortitude_constitution" value="1"></div></div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="INT">Int</span><input type="checkbox" name="attr_fortitude_intelligence" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="WIS">Wis</span><input type="checkbox" name="attr_fortitude_wisdom" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CHA">Cha</span><input type="checkbox" name="attr_fortitude_charisma" value="1"></div></div></div></div><hr class="custom-saving-throw"><div class="custom-saving-throw shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="REFLEX">Reflex</span><div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="STR">Str</span><input type="checkbox" name="attr_reflex_strength" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="DEX">Dex</span><input type="checkbox" name="attr_reflex_dexterity" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CON">Con</span><input type="checkbox" name="attr_reflex_constitution" value="1"></div></div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="INT">Int</span><input type="checkbox" name="attr_reflex_intelligence" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="WIS">Wis</span><input type="checkbox" name="attr_reflex_wisdom" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CHA">Cha</span><input type="checkbox" name="attr_reflex_charisma" value="1"></div></div></div></div><hr class="custom-saving-throw"><div class="custom-saving-throw shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="WILL">Will</span><div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="STR">Str</span><input type="checkbox" name="attr_will_strength" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="DEX">Dex</span><input type="checkbox" name="attr_will_dexterity" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CON">Con</span><input type="checkbox" name="attr_will_constitution" value="1"></div></div><div class="shaped-row justify-flex-end no-wrap"><div><span class="small-label" data-i18n="INT">Int</span><input type="checkbox" name="attr_will_intelligence" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="WIS">Wis</span><input type="checkbox" name="attr_will_wisdom" value="1"></div><div class="pad-l-md"><span class="small-label" data-i18n="CHA">Cha</span><input type="checkbox" name="attr_will_charisma" value="1"></div></div></div></div><div class="wrap-box-title center" data-i18n="SAVING_THROWS">Saving throws</div></div></div><div class="10-rem mar-l-smd mar-b-smd"><div class="wrap-box relative"><input type="hidden" name="attr_hide_gm_info" value="@{hide_attack} @{hide_damage} @{hide_ability_checks} @{hide_saving_throws} @{hide_saving_throw_dc} @{hide_spell_content} @{hide_freetext} @{hide_saving_throw_failure} @{hide_saving_throw_success} @{hide_recharge}"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_ABILITY_CHECKS"></span> <input type="checkbox" name="attr_hide_ability_checks" class="mar-l-md" value="{{hide_ability_checks=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_SAVING_THROWS"></span> <input type="checkbox" name="attr_hide_saving_throws" class="mar-l-md" value="{{hide_saving_throws=1}}"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_ATTACK"></span> <input type="checkbox" name="attr_hide_attack" class="mar-l-md" value="{{hide_attack=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_DAMAGE"></span> <input type="checkbox" name="attr_hide_damage" class="mar-l-md" value="{{hide_damage=1}}"></div><hr><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_FREETEXT"></span> <input type="checkbox" name="attr_hide_freetext" class="mar-l-md" value="{{hide_freetext=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_RECHARGE"></span> <input type="checkbox" name="attr_hide_recharge" class="mar-l-md" value="{{hide_recharge=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_COST"></span> <input type="checkbox" name="attr_hide_cost" class="mar-l-md" value="{{hide_cost=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_SAVING_THROW_DC"></span> <input type="checkbox" name="attr_hide_saving_throw_dc" class="mar-l-md" value="{{hide_saving_throw_dc=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_SAVING_THROW_FAILURE"></span> <input type="checkbox" name="attr_hide_saving_throw_failure" class="mar-l-md" value="{{hide_saving_throw_failure=1}}"></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="HIDE_INFO_SAVING_THROW_SUCCESS"></span> <input type="checkbox" name="attr_hide_saving_throw_success" class="mar-l-md" value="{{hide_saving_throw_success=1}}"></div><div class="shaped-row space-between no-wrap"><span class="small-label" data-i18n="HIDE_INFO_SPELL_CONTENT"></span> <input type="checkbox" name="attr_hide_spell_content" class="mar-l-md" value="{{hide_spell_content=1}}"></div><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="HIDE_INFO_NOTE"></div></div></div><div class="wrap-box-title center" data-i18n="HIDE_INFO"></div></div></div><div class="10-rem mar-l-smd mar-b-smd"><div class="wrap-box mar-b-smd"><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="COIN_CONVERSION_GP_PER_CP"></span><div class="2-rem"><input type="number" name="attr_copper_per_gold" value="100" placeholder="100" class="no-spin border-bottom right"></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="COIN_CONVERSION_GP_PER_SP"></span><div class="2-rem"><input type="number" name="attr_silver_per_gold" value="10" placeholder="10" class="no-spin border-bottom right"></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><span class="small-label" data-i18n="COIN_CONVERSION_GP_PER_EP"></span><div class="2-rem"><input type="number" name="attr_electrum_per_gold" value="2" placeholder="2" class="no-spin border-bottom right"></div></div><div class="shaped-row space-between no-wrap"><span class="small-label" data-i18n="COIN_CONVERSION_GP_PER_PP"></span><div class="2-rem"><input type="number" name="attr_platinum_per_gold" value="10" placeholder="10" class="no-spin border-bottom right"></div></div><div class="wrap-box-title center" data-i18n="CUSTOM_GOLD_VALUES"></div></div><div class="wrap-box"><div class="shaped-row space-between no-wrap mar-b-sm"><div data-i18n="DISTANCE" class="small-label"></div><div><select name="attr_distance_system" class="border-bottom" dir="rtl"><option value="feet" data-i18n="FEET" selected="selected"></option><option value="meters" data-i18n="METERS"></option></select></div></div><div class="shaped-row space-between no-wrap mar-b-sm"><div data-i18n="WEIGHT" class="small-label"></div><div><select name="attr_weight_system" class="border-bottom" dir="rtl"><option value="pounds" data-i18n="POUNDS" selected="selected"></option><option value="kilograms" data-i18n="KILOGRAMS"></option></select></div></div><div class="shaped-row space-between no-wrap"><span class="small-label" data-i18n="ENCUMBRANCE_MULTIPLIER"></span><div class="4-rem"><input type="number" name="attr_encumbrance_multiplier" value="1" step="0.01" class="no-spin border-bottom right"></div></div><div class="wrap-box-title center" data-i18n="MEASUREMENT_SYSTEMS"></div></div></div></div><div class="right pad-l-sm"><div><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="?{Roll|Normal,d20|Advantage,2d20kh1|Disadvantage,2d20kl1}"> <span data-i18n="QUERY" class="small-label white-space-no-wrap"></span></label></div><div><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="?{Disadvantaged|No,2d20kh1|Yes,d20}"> <span data-i18n="ADVANTAGE_QUERY" class="small-label white-space-no-wrap"></span></label></div><div><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="?{Advantaged|No,2d20kl1|Yes,d20}"> <span data-i18n="DISADVANTAGE_QUERY" class="small-label white-space-no-wrap"></span></label></div><div><label class="pseudo-button-wrapper"><input type="radio" name="attr_shaped_d20" value="1d20"> <span data-i18n="ROLL_2" class="small-label white-space-no-wrap"></span></label></div></div></div><div class="wrap-box center"><div class="shaped-row space-around vert-center"><div><div class="shaped-row center"><div class="3-rem"><select name="attr_ability_checks_text_size"><option value="text" data-i18n="NORMAL"></option><option value="text_big" data-i18n="BIG"></option></select><div class="small-label" data-i18n="TEXT_SIZE"></div></div></div><div class="mar-t-sm"></div><input type="hidden" name="attr_ability_checks_macro_var"> <button type="roll" name="roll_shaped_ability_checks" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ABILITY_CHECKS}}} {{@{ability_checks_text_size}=@{ability_checks_macro_var}}}" data-i18n="ABILITY_CHECKS"></button><div class="mar-t-sm"></div><input type="hidden" name="attr_ability_checks_query_var"> <button type="roll" name="roll_shaped_ability_checks_query" class="visible-button" value="@{output_option} &{template:5e-shaped} {{ability=1}} {{character_name=@{character_name}}} @{show_character_name} {{@{shaped_d20}=1}} @{ability_checks_query_var}" data-i18n="ABILITY_CHECKS_QUERY"></button></div><div><div class="mar-t-sm"></div><div class="shaped-row center"><div class="3-rem"><select name="attr_saving_throws_text_size"><option value="text" data-i18n="NORMAL"></option><option value="text_big" data-i18n="BIG"></option></select><div class="small-label" data-i18n="TEXT_SIZE"></div></div></div><div class="mar-t-sm"></div><input type="hidden" name="attr_saving_throw_macro_var"> <button type="roll" name="roll_shaped_saving_throw" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SAVING_THROWS}}} {{@{saving_throws_text_size}=@{saving_throw_macro_var}}}" data-i18n="SAVING_THROWS"></button><div class="mar-t-sm"></div><input type="hidden" name="attr_saving_throw_query_var"> <button type="roll" name="roll_shaped_saving_throw_query" class="visible-button" value="@{output_option} &{template:5e-shaped} {{saving_throw=1}} {{character_name=@{character_name}}} @{show_character_name} {{@{shaped_d20}=1}} @{saving_throw_query_var}" data-i18n="SAVING_THROWS_QUERY"></button></div><div><div class="npc"><input type="hidden" name="attr_hp_formula"> <input type="hidden" name="attr_skills_macro_var"> <input type="hidden" name="attr_languages_chat_var"> <input type="hidden" name="attr_damage_resistances_var"> <input type="hidden" name="attr_traits_chat_var"> <input type="hidden" name="attr_actions_chat_var"> <input type="hidden" name="attr_reactions_chat_var"> <input type="hidden" name="attr_legendaryactions_chat_var"> <input type="hidden" name="attr_lairactions_chat_var"> <input type="hidden" name="attr_regionaleffects_chat_var"> <button type="roll" name="roll_shaped_statblock" class="visible-button" value="/w &quot;@{character_name}&quot; @{output_option} &{template:5e-shaped} {{title=@{character_name}}} {{subheader=^{@{size}} @{type}, @{alignment}}} {{Armor Class=@{ac} (@{ac_note})}} {{Initiative=[@{initiative}](~shaped_initiative)}} {{Hit Points=@{HP} (@{hp_formula})}} {{Speed=@{speed_string}}} {{Abilities=[Str @{strength} (@{strength_mod_with_sign})](~shaped_strength_check), [Dex @{dexterity} (@{dexterity_mod_with_sign})](~shaped_dexterity_check), [Con @{constitution} (@{constitution_mod_with_sign})](~shaped_constitution_check), [Int @{intelligence} (@{intelligence_mod_with_sign})](~shaped_intelligence_check), [Wis @{wisdom} (@{wisdom_mod_with_sign})](~shaped_wisdom_check), [Cha @{charisma} (@{charisma_mod_with_sign})](~shaped_charisma_check)}} {{Saving Throws=[Str @{strength_saving_throw_mod_with_sign}](~shaped_strength_saving_throw), [Dex @{dexterity_saving_throw_mod_with_sign}](~shaped_dexterity_saving_throw), [Con @{constitution_saving_throw_mod_with_sign}](~shaped_constitution_saving_throw), [Int @{intelligence_saving_throw_mod_with_sign}](~shaped_intelligence_saving_throw), [Wis @{wisdom_saving_throw_mod_with_sign}](~shaped_wisdom_saving_throw), [Cha @{charisma_saving_throw_mod_with_sign}](~shaped_charisma_saving_throw)}} {{Skills=@{skills_macro_var}}} @{damage_resistances_var} {{Senses=@{senses_string}}} @{languages_chat_var} {{Challenge=@{challenge} (@{xp_readable})}} @{traits_chat_var} @{actions_chat_var} @{reactions_chat_var} @{legendaryactions_chat_var} @{lairactions_chat_var} @{regionaleffects_chat_var}" data-i18n="STATBLOCK"></button></div><div class="mar-t-sm"></div><input type="hidden" name="attr_traits_exist" class="item-toggle"><div class="item-to-toggle"><input type="hidden" name="attr_traits_macro_var"> <button type="roll" name="roll_shaped_traits" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{TRAITS}}} {{text_big=@{traits_macro_var}}}" data-i18n="TRAITS"></button></div><div class="mar-t-sm"></div><div class="pc"><input type="hidden" name="attr_attacks_macro_var"> <button type="roll" name="roll_shaped_attacks" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ATTACKS}}} {{text_big=@{attacks_macro_var}}}" data-i18n="ATTACKS"></button></div><input type="hidden" name="attr_actions_exist" class="item-toggle"><div class="npc item-to-toggle"><input type="hidden" name="attr_actions_macro_var"> <button type="roll" name="roll_shaped_actions" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{ACTIONS}}} {{text_big=@{actions_macro_var}}}" data-i18n="ACTIONS"></button></div><div class="mar-t-sm npc"></div><input type="hidden" name="attr_reactions_exist" class="item-toggle"><div class="npc item-to-toggle"><input type="hidden" name="attr_reactions_macro_var"> <button type="roll" name="roll_shaped_reactions" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{REACTIONS}}} {{text_big=@{reactions_macro_var}}}" data-i18n="REACTIONS"></button></div><div class="mar-t-sm npc"></div><input type="hidden" name="attr_legendaryactions_exist" class="item-toggle"><div class="npc item-to-toggle"><input type="hidden" name="attr_legendaryactions_macro_var"> <button type="roll" name="roll_shaped_legendaryactions" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{LEGENDARY_ACTIONS}}} {{text_big=@{legendaryactions_macro_var}}}" data-i18n="LEGENDARY_ACTIONS"></button></div><div class="mar-t-sm npc"></div><input type="hidden" name="attr_lairactions_exist" class="item-toggle"><div class="npc item-to-toggle"><input type="hidden" name="attr_lairactions_macro_var"> <button type="roll" name="roll_shaped_lairactions" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{LAIR_ACTIONS}}} {{text_big=@{lairactions_macro_var}}}" data-i18n="LAIR_ACTIONS"></button></div><div class="mar-t-sm npc"></div><input type="hidden" name="attr_regionaleffects_exist" class="item-toggle"><div class="npc item-to-toggle"><input type="hidden" name="attr_regionaleffects_macro_var"> <button type="roll" name="roll_shaped_regionaleffects" class="visible-button" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{REGIONAL_EFFECTS}}} {{text_big=@{regionaleffects_macro_var}}}" data-i18n="REGIONAL_EFFECTS"></button></div></div><div class="spells"><input type="hidden" name="attr_spell_slots_l1"> <input type="hidden" name="attr_spell_slots_l1_max"><input type="hidden" name="attr_spell_slots_l2"> <input type="hidden" name="attr_spell_slots_l2_max"><input type="hidden" name="attr_spell_slots_l3"> <input type="hidden" name="attr_spell_slots_l3_max"><input type="hidden" name="attr_spell_slots_l4"> <input type="hidden" name="attr_spell_slots_l4_max"><input type="hidden" name="attr_spell_slots_l5"> <input type="hidden" name="attr_spell_slots_l5_max"><input type="hidden" name="attr_spell_slots_l6"> <input type="hidden" name="attr_spell_slots_l6_max"><input type="hidden" name="attr_spell_slots_l7"> <input type="hidden" name="attr_spell_slots_l7_max"><input type="hidden" name="attr_spell_slots_l8"> <input type="hidden" name="attr_spell_slots_l8_max"><input type="hidden" name="attr_spell_slots_l9"> <input type="hidden" name="attr_spell_slots_l9_max"> <input type="hidden" name="attr_spells_level_0_macro_var"><input type="hidden" name="attr_spells_level_1_macro_var"><input type="hidden" name="attr_spells_level_2_macro_var"><input type="hidden" name="attr_spells_level_3_macro_var"><input type="hidden" name="attr_spells_level_4_macro_var"><input type="hidden" name="attr_spells_level_5_macro_var"><input type="hidden" name="attr_spells_level_6_macro_var"><input type="hidden" name="attr_spells_level_7_macro_var"><input type="hidden" name="attr_spells_level_8_macro_var"><input type="hidden" name="attr_spells_level_9_macro_var"> <input type="hidden" name="attr_has_spell_points"> <input type="hidden" name="attr_has_spell_slots"> <input type="hidden" name="attr_has_warlock_spell_slots"> <input type="hidden" name="attr_warlock_spell_slots"> <input type="hidden" name="attr_warlock_spell_slots_max"> <input type="hidden" name="attr_prepared_matters_var"> <input type="hidden" name="attr_spells_macro_var" value="/w &quot;@{character_name}&quot; &{template:5e-shaped} {{character_name=@{character_name}}} @{show_character_name} {{title=^{SPELLS}}} {{spell_list=1}} {{prepared_matters=@{prepared_matters_var}}} {{has_spell_slots=@{has_spell_slots}}} {{has_spell_points=@{has_spell_points}}} {{spell_points=@{spell_points}}} {{spell_points_max=@{spell_points|max}}} {{spell_points_limit=@{spell_points_limit}}} {{spells_text_size=@{spells_text_size}}} {{cantrips=@{spells_level_0_macro_var}}} {{spells_level_1_uses=@{spell_slots_l1}/@{spell_slots_l1|max}}} {{spells_level_1_show=@{spells_level_1_show}}} {{spells_level_1=@{spells_level_1_macro_var}}} {{spells_level_2_uses=@{spell_slots_l2}/@{spell_slots_l2|max}}} {{spells_level_2_show=@{spells_level_2_show}}} {{spells_level_2=@{spells_level_2_macro_var}}} {{spells_level_3_uses=@{spell_slots_l3}/@{spell_slots_l3|max}}} {{spells_level_3_show=@{spells_level_3_show}}} {{spells_level_3=@{spells_level_3_macro_var}}} {{spells_level_4_uses=@{spell_slots_l4}/@{spell_slots_l4|max}}} {{spells_level_4_show=@{spells_level_4_show}}} {{spells_level_4=@{spells_level_4_macro_var}}} {{spells_level_5_uses=@{spell_slots_l5}/@{spell_slots_l5|max}}} {{spells_level_5_show=@{spells_level_5_show}}} {{spells_level_5=@{spells_level_5_macro_var}}} {{spells_level_6_uses=@{spell_slots_l6}/@{spell_slots_l6|max}}} {{spells_level_6_show=@{spells_level_6_show}}} {{spells_level_6=@{spells_level_6_macro_var}}} {{spells_level_7_uses=@{spell_slots_l7}/@{spell_slots_l7|max}}} {{spells_level_7_show=@{spells_level_7_show}}} {{spells_level_7=@{spells_level_7_macro_var}}} {{spells_level_8_uses=@{spell_slots_l8}/@{spell_slots_l8|max}}} {{spells_level_8_show=@{spells_level_8_show}}} {{spells_level_8=@{spells_level_8_macro_var}}} {{spells_level_9_uses=@{spell_slots_l9}/@{spell_slots_l9|max}}} {{spells_level_9_show=@{spells_level_9_show}}} {{spells_level_9=@{spells_level_9_macro_var}}} {{has_warlock_spell_slots=@{has_warlock_spell_slots}}} {{warlock_spell_slots=@{warlock_spell_slots}}} {{warlock_spell_slots_max=@{warlock_spell_slots|max}}} {{warlock_spells_max_level=^{@{warlock_spells_max_level}}}}"><div class="shaped-row center"><div class="3-rem"><select name="attr_spells_text_size"><option value="" data-i18n="NORMAL"></option><option value="big" data-i18n="BIG"></option></select><div class="small-label" data-i18n="TEXT_SIZE"></div></div></div><div class="mar-t-sm"></div><button type="roll" name="roll_shaped_spells" class="visible-button" value="@{spells_macro_var}" data-i18n="SPELLS"></button></div></div><div class="wrap-box-title" data-i18n="MACROS"></div></div><div class="wrap-box relative mar-t-smd mar-b-smd"><fieldset class="repeating_attacher"><div class="shaped-row"><div class="col-100"><input type="text" class="action-name" data-i18n-placeholder="NAME" name="attr_name"></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings" checked="checked"><span class="toggle-icon-settings pictos">y</span></div><input type="checkbox" name="attr_toggle_details" class="toggle-icon-settings hidden" checked="checked"><div class="shaped-row details mar-b-lg"><div class="flex-grow pad-r-sm"><div class="center"><div class="wrap-box-label light-label" data-i18n="FREETEXT"></div><textarea class="six-line-textarea" name="attr_freetext"></textarea></div><div class="center mar-t-lg"><div class="wrap-box-label light-label" data-i18n="FREEFORM"></div><textarea class="six-line-textarea" name="attr_freeform"></textarea></div></div><div class="6-rem center pad-l-sm pad-r-sm"><div class="wrap-box-label light-label" data-i18n="ABILITY_CHECKS"></div><div class="zebra-rows"><div class="shaped-row space-between no-wrap"><div data-i18n="STRENGTH" class="no-overflow"></div><div><input type="checkbox" name="attr_strength_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="DEXTERITY" class="no-overflow"></div><div><input type="checkbox" name="attr_dexterity_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="CONSTITUTION" class="no-overflow"></div><div><input type="checkbox" name="attr_constitution_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="INTELLIGENCE" class="no-overflow"></div><div><input type="checkbox" name="attr_intelligence_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="WISDOM" class="no-overflow"></div><div><input type="checkbox" name="attr_wisdom_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="CHARISMA" class="no-overflow"></div><div><input type="checkbox" name="attr_charisma_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="HONOR" class="no-overflow"></div><div><input type="checkbox" name="attr_honor_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="SANITY" class="no-overflow"></div><div><input type="checkbox" name="attr_sanity_check_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="INITIATIVE" class="no-overflow"></div><div><input type="checkbox" name="attr_initiative_attacher"></div></div></div></div><div class="6-rem center pad-l-sm pad-r-sm"><div class="wrap-box-label light-label" data-i18n="SAVING_THROWS"></div><div class="zebra-rows"><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="STRENGTH" class="no-overflow"></div><div><input type="checkbox" name="attr_strength_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="DEXTERITY" class="no-overflow"></div><div><input type="checkbox" name="attr_dexterity_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="CONSTITUTION" class="no-overflow"></div><div><input type="checkbox" name="attr_constitution_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="INTELLIGENCE" class="no-overflow"></div><div><input type="checkbox" name="attr_intelligence_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="WISDOM" class="no-overflow"></div><div><input type="checkbox" name="attr_wisdom_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="CHARISMA" class="no-overflow"></div><div><input type="checkbox" name="attr_charisma_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="HONOR" class="no-overflow"></div><div><input type="checkbox" name="attr_honor_saving_throw_attacher"></div></div><div class="shaped-row default-saving-throw space-between no-wrap"><div data-i18n="SANITY" class="no-overflow"></div><div><input type="checkbox" name="attr_sanity_saving_throw_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="DEATH_SAVES" class="no-overflow"></div><div><input type="checkbox" name="attr_death_saving_throw_attacher"></div></div><div class="shaped-row custom-saving-throw space-between no-wrap"><div data-i18n="FORTITUDE" class="no-overflow"></div><div><input type="checkbox" name="attr_fortitude_saving_throw_attacher"></div></div><div class="shaped-row custom-saving-throw space-between no-wrap"><div data-i18n="REFLEX" class="no-overflow"></div><div><input type="checkbox" name="attr_reflex_saving_throw_attacher"></div></div><div class="shaped-row custom-saving-throw space-between no-wrap"><div data-i18n="WILL" class="no-overflow"></div><div><input type="checkbox" name="attr_will_saving_throw_attacher"></div></div></div></div><div class="spells 5-rem center pad-l-sm pad-r-sm"><div class="wrap-box-label light-label" data-i18n="SPELLS"></div><div class="zebra-rows"><div class="shaped-row space-between no-wrap"><div data-i18n="SPELLS" class="no-overflow"></div><div><input type="checkbox" name="attr_spell_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 0</div><div><input type="checkbox" name="attr_spell_level_0_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 1</div><div><input type="checkbox" name="attr_spell_level_1_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 2</div><div><input type="checkbox" name="attr_spell_level_2_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 3</div><div><input type="checkbox" name="attr_spell_level_3_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 4</div><div><input type="checkbox" name="attr_spell_level_4_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 5</div><div><input type="checkbox" name="attr_spell_level_5_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 6</div><div><input type="checkbox" name="attr_spell_level_6_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 7</div><div><input type="checkbox" name="attr_spell_level_7_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 8</div><div><input type="checkbox" name="attr_spell_level_8_attacher"></div></div><div class="shaped-row space-between no-wrap"><div class="no-overflow"><span data-i18n="LEVEL"></span> 9</div><div><input type="checkbox" name="attr_spell_level_9_attacher"></div></div></div></div><div class="5-rem center pad-l-sm pad-r-sm"><div class="wrap-box-label light-label" data-i18n="MISC"></div><div class="zebra-rows"><div class="shaped-row space-between no-wrap"><div data-i18n="HIT_DICE" class="no-overflow"></div><div><input type="checkbox" name="attr_hit_dice_attacher"></div></div><div class="shaped-row space-between no-wrap"><div data-i18n="ATTACK" class="no-overflow"></div><div><input type="checkbox" name="attr_attack_attacher"></div></div><div class="shaped-row space-between no-wrap"><span data-i18n="CRIT" class="no-overflow"></span><div class="relative"><div class="tooltip-position-wrapper"><div class="tooltip"><div class="tooltip-toggle-text center">?</div><div class="tooltip-content-left small-label" data-i18n="CRIT_ATTACHER_TOOLTIP"></div></div></div></div><div><input type="checkbox" name="attr_crit_attacher"></div></div></div></div><div class="5-rem center pad-l-sm"><div class="wrap-box-label light-label" data-i18n="SKILLS"></div><div class="zebra-rows"><div class="shaped-row space-between no-wrap"><div data-i18n="SKILL" class="no-overflow"></div><div><input type="checkbox" name="attr_skill_attacher"></div></div></div></div></div></fieldset><div class="wrap-box-title center" data-i18n="ATTACHERS"></div></div><input type="hidden" name="attr_attacher_strength_saving_throw"> <input type="hidden" name="attr_attacher_strength_check"> <input type="hidden" name="attr_attacher_dexterity_saving_throw"> <input type="hidden" name="attr_attacher_dexterity_check"> <input type="hidden" name="attr_attacher_constitution_saving_throw"> <input type="hidden" name="attr_attacher_constitution_check"> <input type="hidden" name="attr_attacher_intelligence_saving_throw"> <input type="hidden" name="attr_attacher_intelligence_check"> <input type="hidden" name="attr_attacher_wisdom_saving_throw"> <input type="hidden" name="attr_attacher_wisdom_check"> <input type="hidden" name="attr_attacher_charisma_saving_throw"> <input type="hidden" name="attr_attacher_charisma_check"> <input type="hidden" name="attr_attacher_honor_saving_throw"> <input type="hidden" name="attr_attacher_honor_check"> <input type="hidden" name="attr_attacher_sanity_saving_throw"> <input type="hidden" name="attr_attacher_sanity_check"> <input type="hidden" name="attr_attacher_initiative"> <input type="hidden" name="attr_attacher_death_saving_throw"> <input type="hidden" name="attr_attacher_fortitude_saving_throw"> <input type="hidden" name="attr_attacher_reflex_saving_throw"> <input type="hidden" name="attr_attacher_will_saving_throw"> <input type="hidden" name="attr_attacher_spell"> <input type="hidden" name="attr_attacher_spell_level_0"><input type="hidden" name="attr_attacher_spell_level_1"><input type="hidden" name="attr_attacher_spell_level_2"><input type="hidden" name="attr_attacher_spell_level_3"><input type="hidden" name="attr_attacher_spell_level_4"><input type="hidden" name="attr_attacher_spell_level_5"><input type="hidden" name="attr_attacher_spell_level_6"><input type="hidden" name="attr_attacher_spell_level_7"><input type="hidden" name="attr_attacher_spell_level_8"><input type="hidden" name="attr_attacher_spell_level_9"> <input type="hidden" name="attr_attacher_hit_dice"> <input type="hidden" name="attr_attacher_attack"> <input type="hidden" name="attr_attacher_crit"> <input type="hidden" name="attr_attacher_skill"></div><hr><div class="center footer relative"><div class="shaped-row space-between"><div><button type="roll" name="roll_documentation" value="/w &quot;@{character_name}&quot; https://docs.google.com/document/d/1yPcIZ_bIc3JlnWsKZt2tAB0EQSIVEfeMtT0GifbpJIg" data-i18n="DOCUMENTATION"></button></div><div><input type="checkbox" name="attr_edit_mode" class="toggle-edit-mode negative-mar-t-six"><span class="toggle-edit-mode pictos negative-mar-t-six">p</span></div><div><input class="slide-input-pc" type="checkbox" name="attr_is_npc" value="1"><label class="slide-toggle-pc"><span class="slide-cover">···</span><span class="slide-toggle-pc-left" data-i18n="PC"></span><span class="slide-toggle-pc-right" data-i18n="NPC"></span></label></div></div></div><input type="hidden" name="attr_import_data_present" class="import-data-present"><div class="overlay absolute"><div class="fixed pad-l-hundred pad-t-hundred"><div class="importing"><div class="shaped-row"><div class="mar-r-md"><label class="pseudo-button-wrapper visible-button"><input type="checkbox" name="attr_reject_import" value="1"> <span data-i18n="CANCEL"></span></label></div><div class="mar-l-md"><label class="pseudo-button-wrapper visible-button"><input type="checkbox" name="attr_accept_import" value="1"> <span data-i18n="IMPORT"></span></label></div></div></div></div></div><input type="hidden" name="attr_processing" class="show-processing" value=""><div class="processing"><div class="relative"><img src="http://i.imgur.com/2KjuKkG.gif"><div><span data-i18n="PROCESSING_TITLE"></span> <span name="attr_processing" class="processing-names small-label"></span></div><div data-i18n="PROCESSING_MESSAGE" class="small-label"></div><div data-i18n="PROCESSING_CLOSE_MESSAGE" class="small-label"></div><div class="center mar-t-md"><label class="pseudo-button-wrapper visible-button"><input type="checkbox" name="attr_close_processing" value="1"> <span data-i18n="CLOSE"></span></label></div></div></div></div>
<script type="text/worker">(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.updateSpecialEffectsToggle=exports.updateSavingThrowToggle=exports.updateHigherLevelToggle=exports.updateHealToggle=exports.updateExtrasToggle=exports.updateDamageToggle=exports.updateContentToggle=exports.updateAttackToggle=exports.updateAmmoToggle=exports.parseFromSRD=undefined;var _constants=require('../scripts/constants');var _utilities=require('../scripts/utilities');var parseAttackComponent=function parseAttackComponent(v,submit,repeatingString,options){var parsed=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_parsed');if((0,_utilities.isUndefinedOrEmpty)(parsed)||parsed&&parsed.indexOf(options.parseName)===-1){var aTriggerFieldExists=false;if(options.triggerFields){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=options.triggerFields[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var triggerField=_step.value;if(!(0,_utilities.isUndefinedOrEmpty)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_'+triggerField))){aTriggerFieldExists=true;}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}if(aTriggerFieldExists&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_'+options.toggleField])){submit[repeatingString+'_'+options.toggleField]=1;if((0,_utilities.isUndefinedOrEmpty)(submit[repeatingString+'_parsed'])){submit[repeatingString+'_parsed']='';}submit[repeatingString+'_parsed']+=' '+options.parseName;}if(options.ability){options.ability=options.ability.toLowerCase();if(options.attackAbility&&(0,_utilities.isUndefined)(v[repeatingString+'_attack_ability'])){submit[repeatingString+'_attack_ability']=options.ability;}if(options.addCastingModifier){if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_damage'])&&(0,_utilities.isUndefined)(v[repeatingString+'_damage_ability'])){submit[repeatingString+'_damage_ability']=options.ability;}if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_heal'])&&(0,_utilities.isUndefined)(v[repeatingString+'_heal_ability'])){submit[repeatingString+'_heal_ability']=options.ability;}}if(options.addSecondCastingModifier&&!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_second_damage'])&&(0,_utilities.isUndefined)(v[repeatingString+'_second_damage_ability'])){submit[repeatingString+'_second_damage_ability']=options.ability;}}}};var updateAttackToggle=function updateAttackToggle(v,submit,repeatingString,options){if(!options){options={};}parseAttackComponent(v,submit,repeatingString,{ability:options.ability,attackAbility:options.attackAbility,parseName:'attackToggle',toggleField:'roll_toggle',triggerFields:['type','attack_bonus']});var attackFormula='';var toHit=0;if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_roll_toggle'))){var proficiency=v[repeatingString+'_proficiency'];if(!proficiency||proficiency==='on'){var pb=(0,_utilities.getIntValue)(v.pb);toHit+=pb;attackFormula+=pb+'['+getTranslationByKey('PROFICIENT').toLowerCase()+']';}var attackAbility=v[repeatingString+'_attack_ability'];if((0,_utilities.isUndefined)(v[repeatingString+'_attack_ability'])&&v[repeatingString+'_type']==='Melee Weapon'){attackAbility='strength';submit[repeatingString+'_attack_ability']=attackAbility;}else if((0,_utilities.isUndefined)(v[repeatingString+'_attack_ability'])&&v[repeatingString+'_type']==='Ranged Weapon'){submit[repeatingString+'_attack_ability']=attackAbility='dexterity';}attackAbility=(0,_utilities.getAbilityValue)(v,attackAbility);if((0,_utilities.exists)(attackAbility)){toHit+=attackAbility;attackFormula+=(0,_utilities.addArithmeticOperator)(attackFormula,attackAbility)+'['+(0,_utilities.getAbilityShortName)(v[repeatingString+'_attack_ability'])+']';}var attackBonus=(0,_utilities.getIntValue)(v[repeatingString+'_attack_bonus']);if((0,_utilities.exists)(attackBonus)){toHit+=attackBonus;attackFormula+=(0,_utilities.addArithmeticOperator)(attackFormula,attackBonus)+'['+getTranslationByKey('BONUS').toLowerCase()+']';}if((0,_utilities.exists)(options.globalAttackBonus)){if(!isNaN(options.globalAttackBonus)){toHit+=(0,_utilities.getIntValue)(options.globalAttackBonus);}attackFormula+=(0,_utilities.addArithmeticOperator)(attackFormula,options.globalAttackBonus)+'['+options.globalAttackBonusLabel+']';}if(v[repeatingString+'_type']==='Melee Weapon'){if((0,_utilities.exists)(options.globalMeleeAttackBonus)){if(!isNaN(options.globalMeleeAttackBonus)){toHit+=(0,_utilities.getIntValue)(options.globalMeleeAttackBonus);}attackFormula+=(0,_utilities.addArithmeticOperator)(attackFormula,options.globalMeleeAttackBonus)+'['+getTranslationByKey('GLOBAL_MELEE_ATTACK_BONUS').toLowerCase()+']';}}else if(v[repeatingString+'_type']==='Ranged Weapon'){if((0,_utilities.exists)(options.globalRangedAttackBonus)){if(!isNaN(options.globalRangedAttackBonus)){toHit+=(0,_utilities.getIntValue)(options.globalRangedAttackBonus);}attackFormula+=(0,_utilities.addArithmeticOperator)(attackFormula,options.globalRangedAttackBonus)+'['+getTranslationByKey('GLOBAL_RANGED_ATTACK_BONUS').toLowerCase()+']';}}(0,_utilities.addToRollFormula)(submit,repeatingString,'{{vs_ac=1}} {{@{shaped_d20}=1}} {{roll1=[[@{shaped_d20}@{d20_mod}cs>@{crit_range} + '+attackFormula+']]}} {{targetAC=@{attacks_vs_target_ac}}} {{targetName=@{attacks_vs_target_name}}}');if(v.shaped_d20==='1d20'){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{@{roll_setting}=[[@{shaped_d20}@{d20_mod}cs>@{crit_range} + '+attackFormula+']]}}');}}if(options.type==='attack'){submit[repeatingString+'_to_hit']=(0,_utilities.showSign)(toHit);}};var updateSavingThrowToggle=function updateSavingThrowToggle(v,submit,repeatingString,options){if(!options){options={};}parseAttackComponent(v,submit,repeatingString,{ability:options.ability,parseName:'savingThrowToggle',toggleField:'saving_throw_toggle',triggerFields:['saving_throw_bonus','saving_throw_vs_ability','saving_throw_failure','saving_throw_success']});if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_saving_throw_toggle'))){var savingThrowDC=(0,_utilities.getIntValue)(v.base_dc)+(0,_utilities.getIntValue)(v.pb);var savingThrowAbility=v[repeatingString+'_saving_throw_ability'];if((0,_utilities.isUndefined)(savingThrowAbility)&&options.ability){savingThrowAbility=options.ability.toLowerCase();submit[repeatingString+'_saving_throw_ability']=savingThrowAbility;}savingThrowDC+=(0,_utilities.getAbilityValue)(v,savingThrowAbility);if(options&&options.bonusDC){savingThrowDC+=(0,_utilities.getIntValue)(options.bonusDC);}savingThrowDC+=(0,_utilities.getIntValue)(v[repeatingString+'_saving_throw_bonus']);submit[repeatingString+'_saving_throw_dc']=savingThrowDC;(0,_utilities.addToRollFormula)(submit,repeatingString,'{{saving_throw_condition=@{saving_throw_condition}}} {{saving_throw_dc=@{saving_throw_dc}}} {{saving_throw_vs_ability=@{saving_throw_vs_ability}}} {{saving_throw_failure=@{saving_throw_failure}}} {{saving_throw_success=@{saving_throw_success}}} {{targetName=@{attacks_vs_target_name}}}');}};var updateDamageToggle=function updateDamageToggle(v,submit,repeatingString,options){if(!options){options={};}parseAttackComponent(v,submit,repeatingString,{ability:options.ability,addCastingModifier:(0,_utilities.exists)(v[repeatingString+'_add_casting_modifier']),parseName:'damageToggle',toggleField:'damage_toggle',triggerFields:['damage','damage_ability','damage_bonus','damage_type']});var damageString='';var damageFormula='';var damageAbility=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_ability');if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_toggle'))){var damageAddition=0;var damage=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage');if((0,_utilities.exists)(damage)){damageString+=damage;damageFormula+=damage+'['+getTranslationByKey('DAMAGE').toLowerCase()+']';}if((0,_utilities.isUndefined)(damageAbility)&&v[repeatingString+'_type']==='Melee Weapon'){damageAbility='strength';submit[repeatingString+'_damage_ability']=damageAbility;}else if((0,_utilities.isUndefined)(damageAbility)&&v[repeatingString+'_type']==='Ranged Weapon'){damageAbility='dexterity';submit[repeatingString+'_damage_ability']=damageAbility;}if((0,_utilities.exists)(damageAbility)){var damageAbilityValue=(0,_utilities.getAbilityValue)(v,damageAbility);if((0,_utilities.exists)(damageAbilityValue)){damageAddition+=damageAbilityValue;damageFormula+=(0,_utilities.addArithmeticOperator)(damageFormula,damageAbilityValue)+'['+(0,_utilities.getAbilityShortName)(v[repeatingString+'_damage_ability'])+']';}}var damageBonus=(0,_utilities.getIntValue)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_bonus'));if((0,_utilities.exists)(damageBonus)){damageAddition+=damageBonus;damageFormula+=(0,_utilities.addArithmeticOperator)(damageFormula,damageBonus)+'['+getTranslationByKey('BONUS').toLowerCase()+']';}if((0,_utilities.exists)(options.globalDamageBonus)){if(!isNaN(options.globalDamageBonus)){damageAddition+=(0,_utilities.getIntValue)(options.globalDamageBonus);}else{damageString+=''+(0,_utilities.addArithmeticOperator)(damageString,options.globalDamageBonus);}damageFormula+=(0,_utilities.addArithmeticOperator)(damageFormula,options.globalDamageBonus)+'['+getTranslationByKey('GLOBAL_DAMAGE_BONUS').toLowerCase()+']';}if(options&&(0,_utilities.exists)(options.globalMeleeDamageBonus)&&v[repeatingString+'_type']==='Melee Weapon'){if(!isNaN(options.globalMeleeDamageBonus)){damageAddition+=(0,_utilities.getIntValue)(options.globalMeleeDamageBonus);}else{damageString+=''+(0,_utilities.addArithmeticOperator)(damageString,options.globalMeleeDamageBonus);}damageFormula+=(0,_utilities.addArithmeticOperator)(damageFormula,options.globalMeleeDamageBonus)+'['+getTranslationByKey('GLOBAL_MELEE_DAMAGE_BONUS').toLowerCase()+']';}else if(options&&(0,_utilities.exists)(options.globalRangedDamageBonus)&&v[repeatingString+'_type']==='Ranged Weapon'){if(!isNaN(options.globalRangedDamageBonus)){damageAddition+=(0,_utilities.getIntValue)(options.globalRangedDamageBonus);}else{damageString+=''+(0,_utilities.addArithmeticOperator)(damageString,options.globalRangedDamageBonus);}damageFormula+=(0,_utilities.addArithmeticOperator)(damageFormula,options.globalRangedDamageBonus)+'['+getTranslationByKey('GLOBAL_RANGED_DAMAGE_BONUS').toLowerCase()+']';}if((0,_utilities.exists)(damageAddition)){damageString+=(0,_utilities.addArithmeticOperator)(damageString,damageAddition);}if((0,_utilities.exists)(v[repeatingString+'_damage_type'])){submit[repeatingString+'_damage_type']=v[repeatingString+'_damage_type'].toLowerCase();damageString+=' '+submit[repeatingString+'_damage_type'];}(0,_utilities.addToRollFormula)(submit,repeatingString,'{{damage=[[@{damage_formula}]]}} {{damage_type=@{damage_type}}}');if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_roll_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{crit_damage=[[0d0 + @{damage_crit}['+getTranslationByKey('CRITICAL_DAMAGE').toLowerCase()+'] @{damage_crit_formula}]]}}');}}if(!(0,_utilities.exists)(damageFormula)){damageFormula=0;}submit[repeatingString+'_damage_formula']=damageFormula;parseAttackComponent(v,submit,repeatingString,{addSecondCastingModifier:(0,_utilities.exists)(v[repeatingString+'_add_second_casting_modifier']),parseName:'secondDamageToggle',toggleField:'second_damage_toggle',triggerFields:['second_damage','second_damage_ability','second_damage_bonus','second_damage_type']});var secondDamageFormula='';if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_toggle'))){var secondDamageAddition=0;var secondDamage=v[repeatingString+'_second_damage'];if((0,_utilities.exists)(secondDamage)){damageString+=' + '+secondDamage;secondDamageFormula+=secondDamage+'['+getTranslationByKey('SECOND_DAMAGE').toLowerCase()+']';}var secondDamageAbility=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_ability');if((0,_utilities.exists)(secondDamageAbility)){secondDamageAbility=(0,_utilities.getAbilityValue)(v,secondDamageAbility);if((0,_utilities.exists)(secondDamageAbility)){secondDamageAddition+=secondDamageAbility;secondDamageFormula+=(0,_utilities.addArithmeticOperator)(secondDamageFormula,secondDamageAbility)+'['+(0,_utilities.getAbilityShortName)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_ability'))+']';}}var secondDamageBonus=(0,_utilities.getIntValue)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_bonus'));if((0,_utilities.exists)(secondDamageBonus)){secondDamageAddition+=secondDamageBonus;secondDamageFormula+=(0,_utilities.addArithmeticOperator)(secondDamageFormula,secondDamageBonus)+'['+getTranslationByKey('BONUS').toLowerCase()+']';}if((0,_utilities.exists)(secondDamageAddition)){damageString+=(0,_utilities.addArithmeticOperator)(damageString,secondDamageAddition);}if((0,_utilities.exists)(v[repeatingString+'_second_damage_type'])){submit[repeatingString+'_second_damage_type']=v[repeatingString+'_second_damage_type'].toLowerCase();damageString+=' '+submit[repeatingString+'_second_damage_type'];}(0,_utilities.addToRollFormula)(submit,repeatingString,'{{second_damage=[[@{second_damage_formula}]]}} {{second_damage_type=@{second_damage_type}}}');if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_roll_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{second_crit_damage=[[0d0 + @{second_damage_crit}['+getTranslationByKey('CRITICAL_DAMAGE').toLowerCase()+'] @{second_damage_crit_formula}]]}}');}}if(!(0,_utilities.exists)(secondDamageFormula)){secondDamageFormula=0;}submit[repeatingString+'_second_damage_formula']=secondDamageFormula;if(options.type==='attack'){submit[repeatingString+'_damage_string']=damageString;}};var updateHealToggle=function updateHealToggle(v,submit,repeatingString,options){if(!options){options={};}parseAttackComponent(v,submit,repeatingString,{ability:options.ability,addCastingModifier:(0,_utilities.exists)(v[repeatingString+'_add_casting_modifier']),parseName:'healToggle',toggleField:'heal_toggle',triggerFields:['heal','heal_query_toggle']});var healFormula='';if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_heal_toggle'))){if(!(0,_utilities.isUndefined)(v[repeatingString+'_heal'])){healFormula='@{heal}['+getTranslationByKey('HEAL').toLowerCase()+']';}if(!(0,_utilities.isUndefined)(v[repeatingString+'_heal_ability'])){var healAbility=(0,_utilities.getAbilityValue)(v,v[repeatingString+'_heal_ability']);healFormula+=(0,_utilities.addArithmeticOperator)(healFormula,healAbility)+'['+(0,_utilities.getAbilityShortName)(v[repeatingString+'_heal_ability'])+']';}if(!(0,_utilities.isUndefined)(v[repeatingString+'_heal_bonus'])){var healBonus=(0,_utilities.getIntValue)(v[repeatingString+'_heal_bonus']);healFormula+=(0,_utilities.addArithmeticOperator)(healFormula,healBonus)+'['+getTranslationByKey('BONUS').toLowerCase()+']';}if(!(0,_utilities.isUndefined)(v.global_spell_heal_bonus)){if(healFormula){healFormula+=' + ';}healFormula+='@{global_spell_heal_bonus}['+getTranslationByKey('GLOBAL_SPELL_HEAL_BONUS').toLowerCase()+']';}if(v[repeatingString+'_heal_query_toggle']===_constants.HEAL_QUERY){if(healFormula){healFormula+=' + ';}healFormula+='@{heal_query_toggle}['+getTranslationByKey('QUERY').toLowerCase()+']';}submit[repeatingString+'_heal_formula']=healFormula;(0,_utilities.addToRollFormula)(submit,repeatingString,'{{heal=[[@{heal_formula}]]}}');}};var updateHigherLevelToggle=function updateHigherLevelToggle(v,submit,repeatingString,level){parseAttackComponent(v,submit,repeatingString,{addCastingModifier:(0,_utilities.exists)(v[repeatingString+'_add_casting_modifier']),parseName:'higherLevelToggle',toggleField:'higher_level_toggle',triggerFields:['higher_level','higher_level_dice','higher_level_die','second_higher_level_dice','second_higher_level_die','higher_level_heal']});if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_higher_level_toggle'))){submit[repeatingString+'_higher_level_query']='@{higher_level_query_'+level+'}';if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_toggle'))){var higherLevelDamage='((@{higher_level_query} - '+level+') * @{higher_level_dice})@{higher_level_die}['+getTranslationByKey('HIGHER_LEVEL').toLowerCase()+']';submit[repeatingString+'_damage_formula']+=(0,_utilities.addArithmeticOperator)(submit[repeatingString+'_damage_formula'],higherLevelDamage);submit[repeatingString+'_damage_crit_formula']=higherLevelDamage;}if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_toggle'))){var higherLevelSecondDamage='((@{higher_level_query} - '+level+') * @{second_higher_level_dice})@{second_higher_level_die}['+getTranslationByKey('HIGHER_LEVEL').toLowerCase()+']';submit[repeatingString+'_second_damage_formula']+=(0,_utilities.addArithmeticOperator)(submit[repeatingString+'_second_damage_formula'],higherLevelSecondDamage);submit[repeatingString+'_second_damage_crit_formula']=higherLevelSecondDamage;}if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_heal_toggle'))){if(submit[repeatingString+'_heal_formula']){submit[repeatingString+'_heal_formula']+=' + ';}submit[repeatingString+'_heal_formula']+='((@{higher_level_query} - '+level+') * @{higher_level_dice})@{higher_level_die}['+getTranslationByKey('HIGHER_LEVEL').toLowerCase()+'] + (@{higher_level_heal} * (@{higher_level_query} - '+level+'))['+getTranslationByKey('HIGHER_LEVEL_FLAT_AMOUNT').toLowerCase()+']';}if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_higher_level'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{higher_level=@{higher_level}}}');}(0,_utilities.addToRollFormula)(submit,repeatingString,'{{cast_as_level=@{higher_level_query}}}');}};var updateAmmoToggle=function updateAmmoToggle(v,submit,repeatingString){if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_ammo_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'@{ammo_toggle_var}');}};var updateContentToggle=function updateContentToggle(v,submit,repeatingString){if((0,_utilities.isUndefined)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_content_toggle'))||(0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_content_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{content=@{content}}}');}};var updateSpecialEffectsToggle=function updateSpecialEffectsToggle(v,submit,repeatingString){if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_special_effects_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{fx=@{special_effects_type}-@{special_effects_color} @{special_effects_points_of_origin}}}');}};var updateExtrasToggle=function updateExtrasToggle(v,submit,repeatingString){if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_extras_toggle'])&&(v[repeatingString+'_emote']||v[repeatingString+'_freetext']||v[repeatingString+'_freeform'])){submit[repeatingString+'_extras_toggle']=1;}if((0,_utilities.exists)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_extras_toggle'))){(0,_utilities.addToRollFormula)(submit,repeatingString,'{{emote=@{emote}}} {{freetext=@{freetext}}} @{freeform}');}};var parseModifiersFromSRD=function parseModifiersFromSRD(v,submit,repeatingString){if(v[repeatingString+'_modifiers']){var attackBonus=v[repeatingString+'_modifiers'].replace(/.*(?:Melee|Ranged|Weapon) Attacks \+(\d+).*/gi,'$1');if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_attack_bonus'])&&attackBonus){submit[repeatingString+'_attack_bonus']=attackBonus;}var damageBonus=v[repeatingString+'_modifiers'].replace(/.*(?:Melee|Ranged|Weapon) Damage \+(\d+).*/gi,'$1');if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_damage_bonus'])&&damageBonus){submit[repeatingString+'_damage_bonus']=damageBonus;}}};var parsePropertiesFromSRD=function parsePropertiesFromSRD(v,submit,repeatingString){if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_reach'])&&v[repeatingString+'_properties']&&v[repeatingString+'_properties'].indexOf('Reach')!==-1){submit[repeatingString+'_reach']='10 ft';}else if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_reach'])&&v[repeatingString+'_type']==='Melee Weapon'){submit[repeatingString+'_reach']='5 ft';}if(v[repeatingString+'_properties']&&v[repeatingString+'_properties'].indexOf('Finesse')!==-1){submit[repeatingString+'_damage_ability']='finesse';}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_parsed'])||v[repeatingString+'_parsed']&&v[repeatingString+'_parsed'].indexOf('properties')===-1&&v[repeatingString+'_parsed'].indexOf('damageProperties')===-1){if((0,_utilities.exists)(v[repeatingString+'_properties'])){if(v[repeatingString+'_properties'].indexOf('Versatile')!==-1){if((0,_utilities.isUndefined)(v[repeatingString+'_damage_ability'])){submit[repeatingString+'_damage_ability']='strength';}if((0,_utilities.isUndefined)(v[repeatingString+'_second_damage_ability'])){submit[repeatingString+'_second_damage_ability']='strength';}if((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_bonus')&&(0,_utilities.isUndefined)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_second_damage_bonus'))){submit[repeatingString+'_second_damage_bonus']=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_damage_bonus');}submit[repeatingString+'_second_damage_type']=v[repeatingString+'_damage_type'];}if(!submit[repeatingString+'_parsed']){submit[repeatingString+'_parsed']='';}submit[repeatingString+'_parsed']+=' properties';}}};var parseRechargeFromSRD=function parseRechargeFromSRD(v,submit,repeatingString){var rechargeShortRestRegex=/\s*?\(Recharges\safter\sa\s(.*)\)/gi;var rechargeDayRegex=/\s*?\((\d+)\/Day\)/gi;var rechargeTurnRegex=/\s*?\((\d+)\/Turn\)/gi;var rechargeRangeRegex=/\s*?\(Recharge\s*?(\d+)-(\d+)\)/gi;var rechargeValueRegex=/\s*?\(Recharge\s*?(\d+)\)/gi;if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_name'])){var rechargeShortRestResult=rechargeShortRestRegex.exec(v[repeatingString+'_name']);var rechargeDayResult=rechargeDayRegex.exec(v[repeatingString+'_name']);var rechargeTurnResult=rechargeTurnRegex.exec(v[repeatingString+'_name']);var rechargeRangeResult=rechargeRangeRegex.exec(v[repeatingString+'_name']);var rechargeValueResult=rechargeValueRegex.exec(v[repeatingString+'_name']);if(rechargeShortRestResult){submit[repeatingString+'_recharge']='SHORT_OR_LONG_REST';submit[repeatingString+'_uses']=1;submit[repeatingString+'_uses_max']=1;submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(rechargeShortRestRegex,'');}else if(rechargeDayResult&&rechargeDayResult[1]){submit[repeatingString+'_recharge']='LONG_REST';submit[repeatingString+'_uses']=rechargeDayResult[1];submit[repeatingString+'_uses_max']=rechargeDayResult[1];submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(rechargeDayRegex,'');}else if(rechargeTurnResult&&rechargeTurnResult[1]){submit[repeatingString+'_recharge']='TURN';submit[repeatingString+'_uses']=rechargeTurnResult[1];submit[repeatingString+'_uses_max']=rechargeTurnResult[1];submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(rechargeTurnRegex,'');}else if(rechargeRangeResult&&rechargeRangeResult[1]&&rechargeRangeResult[2]){submit[repeatingString+'_recharge']='RECHARGE_'+rechargeRangeResult[1]+'_'+rechargeRangeResult[2];submit[repeatingString+'_uses']=1;submit[repeatingString+'_uses_max']=1;submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(rechargeRangeRegex,'');}else if(rechargeValueResult&&rechargeValueResult[1]){submit[repeatingString+'_recharge']='RECHARGE_'+rechargeValueResult[1];submit[repeatingString+'_uses']=1;submit[repeatingString+'_uses_max']=1;submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(rechargeValueRegex,'');}}};var parseCostFromSRD=function parseCostFromSRD(v,submit,repeatingString){var costRegex=/\s*?\(Costs\s(\d+)\sActions\)/gi;if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_name'])){var costResult=costRegex.exec(v[repeatingString+'_name']);if(costResult&&costResult[1]){submit[repeatingString+'_cost']='COSTS_'+costResult[1]+'_ACTIONS';submit[repeatingString+'_name']=v[repeatingString+'_name'].replace(costRegex,'');}}};var parseFromSRD=function parseFromSRD(v,submit,repeatingString){parseModifiersFromSRD(v,submit,repeatingString);parsePropertiesFromSRD(v,submit,repeatingString);parseRechargeFromSRD(v,submit,repeatingString);parseCostFromSRD(v,submit,repeatingString);};exports.parseFromSRD=parseFromSRD;exports.updateAmmoToggle=updateAmmoToggle;exports.updateAttackToggle=updateAttackToggle;exports.updateContentToggle=updateContentToggle;exports.updateDamageToggle=updateDamageToggle;exports.updateExtrasToggle=updateExtrasToggle;exports.updateHealToggle=updateHealToggle;exports.updateHigherLevelToggle=updateHigherLevelToggle;exports.updateSavingThrowToggle=updateSavingThrowToggle;exports.updateSpecialEffectsToggle=updateSpecialEffectsToggle;

},{"../scripts/constants":19,"../scripts/utilities":21}],2:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Classes=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../scripts/constants');var _Spells=require('./../spells/Spells');var _Traits=require('./../traits/Traits');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var spells=new _Spells.Spells();var traits=new _Traits.Traits();var Classes=exports.Classes=function(){function Classes(){_classCallCheck(this,Classes);}_createClass(Classes,[{key:'updateLevels',value:function updateLevels(repeatingInfo){var _this=this;var hd={d20:0,d12:0,d10:0,d8:0,d6:0,d4:0,d2:0,d0:0};var spellcasting={full:0,half:0,third:0,fullPsionics:0,halfPsionics:0,thirdPsionics:0,warlock:0};var totalLevel=0;var classLevels={};var classesWithSpellcasting=0;var hasCantrips=false;var preparedCasting=false;var collectionArray=['is_npc','caster_level','caster_type','class_and_level','level','xp_next_level','spells_level_0_show','has_warlock_slots','warlock_spell_slots_calc','warlock_spells_max_level','prepared_matters'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.CLASSES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var className=_step.value;collectionArray.push(className+'_level');collectionArray.push('has_'+className+'_levels');}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}for(var key in hd){if(hd.hasOwnProperty(key)){collectionArray.push('hd_'+key);collectionArray.push('hd_'+key+'_max');collectionArray.push('hd_'+key+'_query');collectionArray.push('hd_'+key+'_toggle');}}(0,_utilities.getSetRepeatingItems)('classes.updateLevels',{repeatingItems:['repeating_class'],collectionArray:collectionArray,collectionArrayAddItems:['level','name','custom_name','hd','spellcasting','custom_class_toggle'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=repeatingStrings[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var repeatingString=_step2.value;var name=v[repeatingString+'_name'];var classLevel=v[repeatingString+'_level'];if((0,_utilities.isUndefinedOrEmpty)(name)){removeRepeatingRow(repeatingString);continue;}else{name=name.toLowerCase();}if(name==='custom'){submit[repeatingString+'_custom_class_toggle']=1;var customName=v[repeatingString+'_custom_name'];if((0,_utilities.exists)(customName)){name=customName.toLowerCase();}else{name='custom';}}else if(v[repeatingString+'_custom_class_toggle']){submit[repeatingString+'_custom_class_toggle']=0;}if((0,_utilities.isUndefinedOrEmpty)(classLevel)){classLevel=1;submit[repeatingString+'_level']=classLevel;submit[name+'_level']=classLevel;}else{classLevel=(0,_utilities.getIntValue)(classLevel);totalLevel+=classLevel;if(classLevels[name]){classLevels[name]+=classLevel;}else{classLevels[name]=classLevel;}}var classHd=v[repeatingString+'_hd'];if(repeatingInfo&&repeatingInfo.field==='name'){if(_constants.CLASS_DETAILS.hasOwnProperty(name)){classHd=_constants.CLASS_DETAILS[name].hd;}submit[repeatingString+'_hd']=classHd;}if(classHd&&classLevel){hd[classHd]+=classLevel;}var classSpellcasting=v[repeatingString+'_spellcasting'];if(repeatingInfo&&repeatingInfo.field==='name'){if(_constants.CLASS_DETAILS.hasOwnProperty(name)&&_constants.CLASS_DETAILS[name].spellcasting){classSpellcasting=_constants.CLASS_DETAILS[name].spellcasting;submit[repeatingString+'_spellcasting']=classSpellcasting;}else{submit[repeatingString+'_spellcasting']='none';}if(!hasCantrips&&_constants.CLASS_DETAILS.hasOwnProperty(name)&&_constants.CLASS_DETAILS[name].cantrips){hasCantrips=true;}if(!preparedCasting&&_constants.CLASS_DETAILS.hasOwnProperty(name)&&_constants.CLASS_DETAILS[name].preparedCasting){preparedCasting=true;}}if(classSpellcasting==='warlock'){spellcasting[classSpellcasting]+=classLevel;}else if(classSpellcasting&&classSpellcasting!=='none'){classesWithSpellcasting+=1;spellcasting[classSpellcasting]+=classLevel;}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}if(hasCantrips){submit.spells_level_0_show='true';}if(preparedCasting){submit.prepared_matters=1;}else if(!(0,_utilities.isUndefined)(v.prepared_matters)){submit.prepared_matters=0;}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=_constants.CLASSES[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var className=_step3.value;if(classLevels.hasOwnProperty(className)&&classLevels[className]>0){submit[className+'_level']=classLevels[className];}else if(v[className+'_level']){submit[className+'_level']='';}}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}var classAndLevel=[];for(var prop in classLevels){if(classLevels.hasOwnProperty(prop)&&classLevels[prop]>0){classAndLevel.push((0,_utilities.capitalize)(prop)+' '+classLevels[prop]);}}if(classAndLevel.length>0){submit.class_and_level=classAndLevel.join(', ');}submit.level=totalLevel;var xpForNextLevel=0;if(!totalLevel){totalLevel=0;}if(totalLevel>30){xpForNextLevel=_constants.XP_TABLE[30];}else{xpForNextLevel=_constants.XP_TABLE[totalLevel];}if(xpForNextLevel>0){submit.xp_next_level=xpForNextLevel;}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=_constants.CLASSES[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _className=_step4.value;if(submit[_className+'_level']>0){submit['has_'+_className+'_levels']=1;}else if(!(0,_utilities.isUndefinedOrEmpty)(v['has_'+_className+'_levels'])){submit['has_'+_className+'_levels']=0;}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}(0,_utilities.updateHD)(v,submit,hd);if(classesWithSpellcasting>0){submit.show_spells=1;submit.spell_slots_toggle='on';}var casterLevel=0;if(!(0,_utilities.isNpc)(v)){if(classesWithSpellcasting>1){casterLevel+=spellcasting.full;casterLevel+=Math.floor(spellcasting.half/2);casterLevel+=Math.floor(spellcasting.third/3);}else{casterLevel=spellcasting.full+spellcasting.half+spellcasting.third;}submit.caster_level=casterLevel;}if(classesWithSpellcasting>1||spellcasting.full){submit.caster_type='full';}else if(spellcasting.half){submit.caster_type='half';}else if(spellcasting.third){submit.caster_type='third';}if(spellcasting.warlock){submit.show_spells=1;submit.has_warlock_slots=1;var warlockSpellSlots=void 0;if(spellcasting.warlock>=17){warlockSpellSlots=4;}else if(spellcasting.warlock>=11){warlockSpellSlots=3;}else if(spellcasting.warlock>=2){warlockSpellSlots=2;}else{warlockSpellSlots=1;}submit.warlock_spell_slots_calc=warlockSpellSlots;var warlockSpellsMaxLevel=void 0;if(spellcasting.warlock>=9){warlockSpellsMaxLevel=5;}else if(spellcasting.warlock>=7){warlockSpellsMaxLevel=4;}else if(spellcasting.warlock>=5){warlockSpellsMaxLevel=3;}else if(spellcasting.warlock>=3){warlockSpellsMaxLevel=2;}else{warlockSpellsMaxLevel=1;}submit.warlock_spells_max_level=(0,_utilities.ordinalSpellLevel)(warlockSpellsMaxLevel);}else{if(!(0,_utilities.isUndefined)(v.has_warlock_slots)){submit.has_warlock_slots=0;}if(!(0,_utilities.isUndefined)(v.warlock_spell_slots_calc)){submit.warlock_spell_slots_calc=0;}if(!(0,_utilities.isUndefined)(v.warlock_spells_max_level)){submit.warlock_spells_max_level=(0,_utilities.ordinalSpellLevel)(1);}}},setFinalAttrsCallback:function setFinalAttrsCallback(){_this.set();spells.updateSlots();}});}},{key:'watchForClassLevelChanges',value:function watchForClassLevelChanges(){var _this2=this;var classFeatureWatch=[];var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=_constants.ABILITIES[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var ability=_step5.value;classFeatureWatch.push('change:'+ability+'_mod');}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}classFeatureWatch.push('change:careful_spell_toggle');classFeatureWatch.push('change:distant_spell_toggle');classFeatureWatch.push('change:empowered_spell_toggle');classFeatureWatch.push('change:extended_spell_toggle');classFeatureWatch.push('change:heightened_spell_toggle');classFeatureWatch.push('change:quickened_spell_toggle');classFeatureWatch.push('change:subtle_spell_toggle');classFeatureWatch.push('change:twinned_spell_toggle');on(classFeatureWatch.join(' '),function(){_this2.set();});}},{key:'extraAttack',value:function extraAttack(v){if(v.fighter_level>=5){var extraAttackTimes=void 0;if(v.fighter_level>=20){extraAttackTimes=getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_FOUR');}else if(v.fighter_level>=11){extraAttackTimes=getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_THREE');}else{extraAttackTimes=getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_TWICE');}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_TEXT').replace('NUMBER_OF_TIMES',extraAttackTimes),name:getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK'),storageName:'Extra Attack'});}else if(v.barbarian_level>=5||v.monk_level>=5||v.paladin_level>=5||v.ranger_level>=5){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_TEXT').replace('NUMBER_OF_TIMES',getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK_TWICE')),name:getTranslationByKey('CLASS_FEATURE_EXTRA_ATTACK'),storageName:'Extra Attack'});}}},{key:'barbarian',value:function barbarian(v,submit){if(v.barbarian_level){var rageUses=void 0;if(v.barbarian_level>=20){rageUses=999999;}else if(v.barbarian_level>=17){rageUses=6;}else if(v.barbarian_level>=12){rageUses=5;}else if(v.barbarian_level>=6){rageUses=4;}else if(v.barbarian_level>=3){rageUses=3;}else{rageUses=2;}var rageDamage=void 0;if(v.barbarian_level>=16){rageDamage=4;}else if(v.barbarian_level>=9){rageDamage=3;}else{rageDamage=2;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_RAGE_TEXT').replace('RAGE_DAMAGE',rageDamage),name:getTranslationByKey('CLASS_FEATURE_RAGE'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Rage',type:'Other',uses_max:rageUses});if((0,_utilities.isUndefinedOrEmpty)(v.ac_unarmored_ability)){submit.ac_unarmored_ability='constitution';}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_UNARMORED_DEFENSE_BARBARIAN_TEXT'),name:getTranslationByKey('CLASS_FEATURE_UNARMORED_DEFENSE'),storageName:'Unarmored Defense Barbarian'});if(v.barbarian_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_RECKLESS_ATTACK_TEXT'),name:getTranslationByKey('CLASS_FEATURE_RECKLESS_ATTACK'),storageName:'Reckless Attack'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DANGER_SENSE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DANGER_SENSE'),storageName:'Danger Sense'});}if(v.barbarian_level>=5){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FAST_MOVEMENT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FAST_MOVEMENT'),storageName:'Fast Movement'});}if(v.barbarian_level>=7){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FERAL_INSTINCT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FERAL_INSTINCT'),storageName:'Feral Instinct'});}if(v.barbarian_level>=9){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_BRUTAL_CRITICAL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_BRUTAL_CRITICAL'),storageName:'Brutal Critical'});}if(v.barbarian_level>=11){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_RELENTLESS_RAGE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_RELENTLESS_RAGE'),storageName:'Relentless Rage'});}if(v.barbarian_level>=15){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PERSISTENT_RAGE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PERSISTENT_RAGE'),storageName:'Persistent Rage'});}if(v.barbarian_level>=18){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_INDOMITABLE_MIGHT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_INDOMITABLE_MIGHT'),storageName:'Indomitable Might'});}if(v.barbarian_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PRIMAL_CHAMPION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PRIMAL_CHAMPION'),storageName:'Primal Champion'});}}}},{key:'bard',value:function bard(v,submit){if(v.bard_level){var die=void 0;if(v.bard_level>=15){die='d12';}else if(v.bard_level>=10){die='d10';}else if(v.bard_level>=5){die='d8';}else{die='d6';}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_BARDIC_INSPIRATION_TEXT').replace('d6',die),name:getTranslationByKey('CLASS_FEATURE_BARDIC_INSPIRATION'),recharge:v.bard_level>=5?'RECHARGE_AFTER_SHORT_OR_LONG_REST':'RECHARGE_AFTER_LONG_REST',storageName:'Bardic Inspiration',uses_max:Math.max((0,_utilities.getIntValue)(v.charisma_mod),1)});if(v.bard_level>=2){submit.jack_of_all_trades_toggle='@{jack_of_all_trades}';var heal=void 0;if(v.bard_level>=17){heal='d12';}else if(v.bard_level>=13){heal='d10';}else if(v.bard_level>=9){heal='d8';}else{heal='d6';}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SONG_OF_REST_TEXT'),heal:heal,name:getTranslationByKey('CLASS_FEATURE_SONG_OF_REST'),storageName:'Song of Rest'});}if(v.bard_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EXPERTISE_BARD_TEXT'),name:getTranslationByKey('CLASS_FEATURE_EXPERTISE'),storageName:'Expertise Bard'});}if(v.bard_level>=6){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_COUNTERCHARM_TEXT'),name:getTranslationByKey('CLASS_FEATURE_COUNTERCHARM'),storageName:'Countercharm'});}if(v.bard_level>=10){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_MAGICAL_SECRETS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_MAGICAL_SECRETS'),storageName:'Magical Secrets'});}if(v.bard_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SUPERIOR_INSPIRATION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SUPERIOR_INSPIRATION'),storageName:'Superior Inspiration'});}}}},{key:'cleric',value:function cleric(v){if(v.cleric_level){if(v.cleric_level>=2){var channelDivinityUses=void 0;if(v.cleric_level>=18){channelDivinityUses=3;}else if(v.cleric_level>=6){channelDivinityUses=2;}else{channelDivinityUses=1;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY_CLERIC_TEXT'),name:getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Channel Divinity Cleric',uses_max:channelDivinityUses});var turnUndeadText=getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY_TURN_UNDEAD_TEXT');if(v.cleric_level>=5){var turnUndeadDestroyCR=void 0;if(v.cleric_level>=17){turnUndeadDestroyCR='4';}else if(v.cleric_level>=14){turnUndeadDestroyCR='3';}else if(v.cleric_level>=11){turnUndeadDestroyCR='2';}else if(v.cleric_level>=8){turnUndeadDestroyCR='1';}else{turnUndeadDestroyCR='1/2';}turnUndeadText+='\n'+getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY_TURN_UNDEAD_TEXT_PART_2').replace('CHALLENGE_RATING',turnUndeadDestroyCR);}traits.set({freetext:turnUndeadText,name:getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY_TURN_UNDEAD'),saving_throw_ability:'wisdom',saving_throw_vs_ability:'WISDOM',storageName:'Turn Undead'});if(v.cleric_level>=10){traits.set({freeform:'{{text_top=[[d100]] > [[@{cleric_level}]]}}',freetext:getTranslationByKey('CLASS_FEATURE_DIVINE_INTERVENTION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DIVINE_INTERVENTION'),storageName:'Divine Intervention',uses_max:1});}}}}},{key:'druid',value:function druid(v){if(v.druid_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DRUIDIC_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DRUIDIC'),storageName:'Druidic'});if(v.druid_level>=2){var wildShapeHours=Math.floor(v.druid_level/2);var wildShapeUses=void 0;var wildShapeCR=void 0;var wildShapeLimitations=void 0;if(v.druid_level>=4){wildShapeCR='1/2';wildShapeLimitations=getTranslationByKey('CLASS_FEATURE_WILD_SHAPE_NO_FLYING');}else if(v.druid_level>=8){wildShapeCR=1;wildShapeLimitations='';}else{wildShapeCR='1/4';wildShapeLimitations=getTranslationByKey('CLASS_FEATURE_WILD_SHAPE_NO_FLYING_OR_SWIMMING');}if(v.druid_level>=20){wildShapeUses=999999;}else{wildShapeUses=2;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_WILD_SHAPE_TEXT').replace('WILD_SHAPE_HOURS',wildShapeHours).replace('CHALLENGE_RATING',wildShapeCR).replace('LIMITATIONS',' '+wildShapeLimitations),name:getTranslationByKey('CLASS_FEATURE_WILD_SHAPE'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Wild Shape',uses_max:wildShapeUses});}if(v.druid_level>=18){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_TIMELESS_BODY_DRUID_TEXT'),name:getTranslationByKey('CLASS_FEATURE_TIMELESS_BODY'),storageName:'Timeless Body'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_BEAST_SPELLS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_BEAST_SPELLS'),storageName:'Beast Spells'});}if(v.druid_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ARCHDRUID_TEXT'),name:getTranslationByKey('CLASS_FEATURE_ARCHDRUID'),storageName:'Archdruid'});}}}},{key:'fighter',value:function fighter(v){if(v.fighter_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_TEXT')+' '+getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_FIGHTER_OPTIONS'),name:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE'),storageName:'Fighting Style'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SECOND_WIND_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SECOND_WIND'),heal:'d10 + @{fighter_level}',recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Second Wind',uses_max:1});if(v.fighter_level>=2){var actionSurgeUses=void 0;if(v.fighter_level>=17){actionSurgeUses=2;}else{actionSurgeUses=1;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ACTION_SURGE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_ACTION_SURGE'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Action Surge',uses_max:actionSurgeUses});}if(v.fighter_level>=9){var indomitableUses=void 0;if(v.fighter_level>=17){indomitableUses=3;}else if(v.fighter_level>=13){indomitableUses=2;}else{indomitableUses=1;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_INDOMITABLE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_INDOMITABLE'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Indomitable',uses_max:indomitableUses});}}}},{key:'monk',value:function monk(v,submit){if(v.monk_level){if((0,_utilities.isUndefinedOrEmpty)(v.ac_unarmored_ability)){submit.ac_unarmored_ability='wisdom';}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_UNARMORED_DEFENSE_MONK_TEXT'),name:getTranslationByKey('CLASS_FEATURE_UNARMORED_DEFENSE'),storageName:'Unarmored Defense Monk'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_MARTIAL_ARTS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_MARTIAL_ARTS'),storageName:'Martial Arts'});if(v.monk_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_KI_TEXT'),name:getTranslationByKey('CLASS_FEATURE_KI'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Ki',uses_max:v.monk_level});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FLURRY_OF_BLOWS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FLURRY_OF_BLOWS'),storageName:'Flurry of Blows'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PATIENT_DEFENSE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PATIENT_DEFENSE'),storageName:'Patient Defense'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_STEP_OF_THE_WIND_TEXT'),name:getTranslationByKey('CLASS_FEATURE_STEP_OF_THE_WIND'),storageName:'Step of the Wind'});var unarmoredMovementFeet=void 0;if(v.monk_level>=18){unarmoredMovementFeet=30;}else if(v.monk_level>=14){unarmoredMovementFeet=25;}else if(v.monk_level>=10){unarmoredMovementFeet=20;}else if(v.monk_level>=6){unarmoredMovementFeet=15;}else{unarmoredMovementFeet=10;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_UNARMORED_MOVEMENT_TEXT').replace('UNARMORED_MOVEMENT_FEET',unarmoredMovementFeet),name:getTranslationByKey('CLASS_FEATURE_UNARMORED_MOVEMENT'),storageName:'Unarmored Movement'});}if(v.monk_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DEFLECT_MISSILES_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DEFLECT_MISSILES'),storageName:'Deflect Missiles'});}if(v.monk_level>=4){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SLOW_FALL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SLOW_FALL'),storageName:'Slow Fall'});}if(v.monk_level>=5){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_STUNNING_STRIKE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_STUNNING_STRIKE'),saving_throw_ability:'wisdom',saving_throw_failure:getTranslationByKey('CLASS_FEATURE_STUNNING_STRIKE_SAVING_THROW_FAILURE'),saving_throw_vs_ability:'CONSTITUTION',storageName:'Stunning Strike'});}if(v.monk_level>=6){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_KI_EMPOWERED_STRIKES_TEXT'),name:getTranslationByKey('CLASS_FEATURE_KI_EMPOWERED_STRIKES'),storageName:'Ki-Empowered Strikes'});}if(v.monk_level>=7){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EVASION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_EVASION'),storageName:'Evasion'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_STILLNESS_OF_MIND_TEXT'),name:getTranslationByKey('CLASS_FEATURE_STILLNESS_OF_MIND'),storageName:'Stillness of Mind'});}if(v.monk_level>=10){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PURITY_OF_BODY_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PURITY_OF_BODY'),storageName:'Purity of Body'});}if(v.monk_level>=13){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_TONGUE_OF_THE_SUN_AND_MOON_TEXT'),name:getTranslationByKey('CLASS_FEATURE_TONGUE_OF_THE_SUN_AND_MOON'),storageName:'Tongue of the Sun and Moon'});}if(v.monk_level>=14){submit.death_saving_throw_prof='@{pb}';traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DIAMOND_SOUL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DIAMOND_SOUL'),storageName:'Diamond Soul'});}if(v.monk_level>=15){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_TIMELESS_BODY_MONK_TEXT'),name:getTranslationByKey('CLASS_FEATURE_TIMELESS_BODY'),storageName:'Timeless Body'});}if(v.monk_level>=15){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EMPTY_BODY_TEXT'),name:getTranslationByKey('CLASS_FEATURE_EMPTY_BODY'),storageName:'Empty Body'});}if(v.monk_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PERFECT_SELF_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PERFECT_SELF'),storageName:'Perfect Self'});}}}},{key:'paladin',value:function paladin(v){if(v.paladin_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DIVINE_SENSE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DIVINE_SENSE'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Divine Sense',uses_max:Math.max(1+v.charisma_mod,1)});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_LAY_ON_HANDS_TEXT'),heal_query_toggle:_constants.HEAL_QUERY,name:getTranslationByKey('CLASS_FEATURE_LAY_ON_HANDS'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Lay on Hands',perUse:_constants.HEAL_QUERY,uses_max:5*v.paladin_level});if(v.paladin_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_TEXT')+' '+getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_PALADIN_OPTIONS'),name:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE'),storageName:'Fighting Style'});traits.set({damage:'(?{Spell Level|1|2|3|4+, 4} + 1)d8',damage_type:getTranslationByKey('RADIANT'),freeform:'{{subheader=(as ?{Spell Level|1|2|3|4+})}}',freetext:getTranslationByKey('CLASS_FEATURE_DIVINE_SMITE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DIVINE_SMITE'),second_damage:'d8',second_damage_type:getTranslationByKey('VS_FIEND_OR_UNDEAD'),storageName:'Divine Smite',type:'Other'});}if(v.paladin_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_DIVINE_HEALTH_TEXT'),name:getTranslationByKey('CLASS_FEATURE_DIVINE_HEALTH'),storageName:'Divine Health'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY_PALADIN_TEXT'),name:getTranslationByKey('CLASS_FEATURE_CHANNEL_DIVINITY'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Channel Divinity Paladin',uses_max:1});}if(v.paladin_level>=6){var auraRange=void 0;if(v.paladin_level>=18){auraRange=30;}else{auraRange=10;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_AURA_OF_PROTECTION_TEXT').replace('AURA_RANGE',auraRange),name:getTranslationByKey('CLASS_FEATURE_AURA_OF_PROTECTION'),storageName:'Aura of Protection'});if(v.paladin_level>=10){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_AURA_OF_COURAGE_TEXT').replace('AURA_RANGE',auraRange),name:getTranslationByKey('CLASS_FEATURE_AURA_OF_COURAGE'),storageName:'Aura of Courage'});}}if(v.paladin_level>=11){traits.set({damage:'1d8',damage_type:'radiant',freetext:getTranslationByKey('CLASS_FEATURE_IMPROVED_DIVINE_SMITE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_IMPROVED_DIVINE_SMITE'),storageName:'Improved Divine Smite',type:'Other'});}if(v.paladin_level>=14){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_CLEANSING_TOUCH_TEXT'),name:getTranslationByKey('CLASS_FEATURE_CLEANSING_TOUCH'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Cleaning Touch',uses_max:Math.max((0,_utilities.getIntValue)(v.charisma_mod),1)});}}}},{key:'ranger',value:function ranger(v){if(v.ranger_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FAVORED_ENEMY_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FAVORED_ENEMY'),storageName:'Favored Enemy'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_NATURAL_EXPLORER_TEXT'),name:getTranslationByKey('CLASS_FEATURE_NATURAL_EXPLORER'),storageName:'Natural Explorer'});if(v.ranger_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_TEXT')+' '+getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE_RANGER_OPTIONS'),name:getTranslationByKey('CLASS_FEATURE_FIGHTING_STYLE'),storageName:'Fighting Style'});}if(v.ranger_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PRIMEVAL_AWARENESS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PRIMEVAL_AWARENESS'),storageName:'Primeval Awareness'});}if(v.ranger_level>=8){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_LANDS_STRIDE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_LANDS_STRIDE'),storageName:'Land\'s Stride'});}if(v.ranger_level>=10){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_HIDE_IN_PLAIN_SIGHT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_HIDE_IN_PLAIN_SIGHT'),storageName:'Hide in Plain Sight'});}if(v.ranger_level>=14){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_VANISH_TEXT'),name:getTranslationByKey('CLASS_FEATURE_VANISH'),storageName:'Vanish'});}if(v.ranger_level>=18){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FERAL_SENSES_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FERAL_SENSES'),storageName:'Feral Senses'});}if(v.ranger_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FOE_SLAYER_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FOE_SLAYER'),storageName:'Foe Slayer'});}}}},{key:'rogue',value:function rogue(v){if(v.rogue_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EXPERTISE_ROGUE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_EXPERTISE'),storageName:'Expertise Rogue'});traits.set({damage:Math.ceil((0,_utilities.getIntValue)(v.rogue_level)/2)+'d6',freetext:getTranslationByKey('CLASS_FEATURE_SNEAK_ATTACK_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SNEAK_ATTACK'),storageName:'Sneak Attack'});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_THIEVES_CANT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_THIEVES_CANT'),storageName:'Thieves\' Cant'});if(v.rogue_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_CUNNING_ACTION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_CUNNING_ACTION'),storageName:'Cunning Action'});}if(v.rogue_level>=5){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_UNCANNY_DODGE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_UNCANNY_DODGE'),storageName:'Uncanny Dodge'});}if(v.rogue_level>=7){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_EVASION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_EVASION'),storageName:'Evasion'});}if(v.rogue_level>=11){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_RELIABLE_TALENT_TEXT'),name:getTranslationByKey('CLASS_FEATURE_RELIABLE_TALENT'),storageName:'Reliable Talent'});}if(v.rogue_level>=14){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_BLINDSENSE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_BLINDSENSE'),storageName:'Blindsense'});}if(v.rogue_level>=15){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SLIPPERY_MIND_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SLIPPERY_MIND'),storageName:'Slippery Mind'});}if(v.rogue_level>=18){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ELUSIVE_TEXT'),name:getTranslationByKey('CLASS_FEATURE_ELUSIVE'),storageName:'Elusive'});}if(v.rogue_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_STROKE_OF_LUCK_TEXT'),name:getTranslationByKey('CLASS_FEATURE_STROKE_OF_LUCK'),recharge:'RECHARGE_AFTER_SHORT_OR_LONG_REST',storageName:'Stroke of Luck',uses_max:1});}}}},{key:'sorcerer',value:function sorcerer(v){if(v.sorcerer_level){if(v.sorcerer_level>=2){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SORCERY_POINTS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SORCERY_POINTS'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Sorcery Points',uses_max:v.sorcerer_level});traits.set({freetext:getTranslationByKey('CLASS_FEATURE_FLEXIBLE_CASTING_TEXT'),name:getTranslationByKey('CLASS_FEATURE_FLEXIBLE_CASTING'),storageName:'Flexible Casting'});if(v.sorcerer_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC'),storageName:'Metamagic'});}if(v.sorcerer_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SORCEROUS_RESTORATION_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SORCEROUS_RESTORATION'),storageName:'Sorcerous Restoration'});}}}}},{key:'warlock',value:function warlock(v){if(v.warlock_level){if(v.warlock_level>=2){var eldritchInvocations=void 0;if(v.warlock_level>=17){eldritchInvocations=8;}else if(v.warlock_level>=15){eldritchInvocations=7;}else if(v.warlock_level>=12){eldritchInvocations=6;}else if(v.warlock_level>=9){eldritchInvocations=5;}else if(v.warlock_level>=7){eldritchInvocations=4;}else if(v.warlock_level>=5){eldritchInvocations=3;}else{eldritchInvocations=2;}traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ELDRITCH_INVOCATIONS_TEXT').replace('NUMBER_OF_INVOCATIONS_KNOWN',eldritchInvocations),name:getTranslationByKey('CLASS_FEATURE_ELDRITCH_INVOCATIONS'),storageName:'Eldritch Invocations'});}if(v.warlock_level>=3){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_PACT_BOON_TEXT'),name:getTranslationByKey('CLASS_FEATURE_PACT_BOON'),storageName:'Pact Boon'});}if(v.warlock_level>=11){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_MYSTIC_ARCANUM_TEXT'),name:getTranslationByKey('CLASS_FEATURE_MYSTIC_ARCANUM'),storageName:'Mystic Arcanum'});}if(v.warlock_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ELDRITCH_MASTER_TEXT'),name:getTranslationByKey('CLASS_FEATURE_ELDRITCH_MASTER'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Eldritch Master'});}}}},{key:'wizard',value:function wizard(v){if(v.wizard_level){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_ARCANE_RECOVERY_TEXT'),name:getTranslationByKey('CLASS_FEATURE_ARCANE_RECOVERY'),recharge:'RECHARGE_AFTER_LONG_REST',storageName:'Arcane Recovery',uses_max:1});if(v.wizard_level>=18){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SPELL_MASTERY_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SPELL_MASTERY'),storageName:'Spell Mastery'});}if(v.wizard_level>=20){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_SIGNATURE_SPELLS_TEXT'),name:getTranslationByKey('CLASS_FEATURE_SIGNATURE_SPELLS'),storageName:'Signature Spells'});}}}},{key:'set',value:function set(){var _this3=this;var collectionArray=['create_class_features','ac_unarmored_ability'];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=_constants.ABILITIES[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var ability=_step6.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=_constants.CLASSES[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var className=_step7.value;collectionArray.push(className+'_level');}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}(0,_utilities.getSetItems)('classes.set',{collectionArray:collectionArray,callback:function callback(v,submit){if((0,_utilities.isUndefined)(v.create_class_features)||(0,_utilities.exists)(v.create_class_features)){_this3.extraAttack(v);_this3.barbarian(v,submit);_this3.bard(v,submit);_this3.cleric(v);_this3.druid(v);_this3.fighter(v);_this3.monk(v,submit);_this3.paladin(v);_this3.ranger(v);_this3.rogue(v);_this3.sorcerer(v);_this3.warlock(v);_this3.wizard(v);}}});}},{key:'setup',value:function setup(){var _this4=this;on('change:repeating_class',function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_class',eventInfo);if(repeatingInfo){_this4.updateLevels(repeatingInfo);}});on('remove:repeating_class',function(){_this4.updateLevels();});this.watchForClassLevelChanges();}}]);return Classes;}();

},{"../scripts/constants":19,"../scripts/utilities":21,"./../spells/Spells":27,"./../traits/Traits":28}],3:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Conversion=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('./../scripts/constants');var _Traits=require('./../traits/Traits');var _utilities=require('./../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var traits=new _Traits.Traits();var Conversion=exports.Conversion=function(){function Conversion(){_classCallCheck(this,Conversion);}_createClass(Conversion,[{key:'parseSpellcastingAbility',value:function parseSpellcastingAbility(v,submit){if(v.spellcasting_ability){submit.spell_ability=v.spellcasting_ability.replace('0*','').replace('@','').replace('{','').replace('_mod','').replace('}','').replace('+','').toUpperCase();}}},{key:'parseSizeTypeAlignment',value:function parseSizeTypeAlignment(v,submit){var type=v.npc_type;var match=type.match(/(.*?) (.*?), (.*)/i);if(!type||!type[1]||!type[2]||!type[3]){console.error('Character doesn\'t have valid type/size/alignment format');}submit.size=match[1].toUpperCase();submit.type=match[2];submit.alignment=match[3];}},{key:'parseHD',value:function parseHD(v,submit){submit.hp_srd=v.hp_max+' ('+v.npc_hpformula+')';}},{key:'parseSavingThrows',value:function parseSavingThrows(v,submit){var savingThrows=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;var saveValue=v['npc_'+(0,_utilities.getAbilityShortName)(ability)+'_save'];if(saveValue){savingThrows.push((0,_utilities.getAbilityShortName)(ability,true)+' +'+saveValue);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}if(savingThrows.length>0){submit.saving_throws_srd=savingThrows.join(', ');}}},{key:'parseNPCSkills',value:function parseNPCSkills(v,submit){var skills=[];for(var skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(skill)){var skillValue=v['npc_'+skill.toLowerCase()];if(skillValue){skills.push((0,_utilities.capitalize)(skill.toLowerCase())+' +'+skillValue);}}}if(skills.length>1){submit.skills_srd=skills.join(', ');}}},{key:'convertJackOfAllTrades',value:function convertJackOfAllTrades(v,submit){if(v.jack_of_all_trades==='(floor(@{pb}/2))'){submit.jack_of_all_trades_toggle='@{jack_of_all_trades}';}}},{key:'convertProficienciesAndLanguages',value:function convertProficienciesAndLanguages(v,submit){if(v.other_proficiencies_and_languages){var proficieniesMatch=v.other_proficiencies_and_languages.match(/Proficiencies. (.*)/i);if(proficieniesMatch&&proficieniesMatch[1]){submit.proficiencies=proficieniesMatch[1];}var languagesMatch=v.other_proficiencies_and_languages.match(/Languages. (.*)/i);if(languagesMatch&&languagesMatch[1]){submit.languages=languagesMatch[1];}}}},{key:'convertClass',value:function convertClass(){(0,_utilities.getSetRepeatingItems)('conversion.convertClass',{repeatingItems:['repeating_class'],collectionArray:['class','base_level','multiclass1_flag'],callback:function callback(v,submit){if(v.class){var repeatingString='repeating_class_'+generateRowID();submit[repeatingString+'_name']=v.class.toLowerCase();submit[repeatingString+'_level']=(0,_utilities.getIntValue)(v.base_level);for(var i=1;i<=3;i+=1){if(v['multiclass'+i+'_flag']){repeatingString='repeating_class_'+generateRowID();submit[repeatingString+'_name']=v['multiclass'+i].toLowerCase();submit[repeatingString+'_level']=(0,_utilities.getIntValue)(v['multiclass'+i+'_lvl']);}}}}});}},{key:'convertPCSkills',value:function convertPCSkills(){var collectionArray=[];for(var skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(skill)){collectionArray.push(skill.toLowerCase()+'_prof');collectionArray.push(skill.toLowerCase()+'_type');}}(0,_utilities.getSetRepeatingItems)('conversion.convertPCSkills',{repeatingItems:['repeating_skill'],collectionArray:collectionArray,collectionArrayAddItems:['proficiency'],callback:function callback(v,submit,repeatingStrings){for(var _skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(_skill)){var skillId=(0,_utilities.getSkillIdByStorageName)(v,repeatingStrings,_skill);var repeatingString='repeating_skill_'+skillId;if(v[_skill.toLowerCase()+'_type']==='2'){submit[repeatingString+'_proficiency']='expertise';}else if(v[_skill.toLowerCase()+'_prof']){submit[repeatingString+'_proficiency']='proficient';}}}}});}},{key:'convertTraits',value:function convertTraits(){(0,_utilities.getSetRepeatingItems)('conversion.convertTraits',{repeatingItems:['repeating_npctrait'],collectionArrayAddItems:['name','desc'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=repeatingStrings[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var repeatingString=_step2.value;traits.set({freetext:v[repeatingString+'_desc'],name:v[repeatingString+'_name'].replace('.','')});}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}});}},{key:'convertActions',value:function convertActions(oldRepeatingName,repeatingName){(0,_utilities.getSetRepeatingItems)('conversion.convertActions',{repeatingItems:['repeating_'+oldRepeatingName],collectionArrayAddItems:['name','attack_flag','attack_type_display','attack_tohitrange','attack_tohit','attack_onhit','description'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;var repeatingStringNew='repeating_'+repeatingName+'_'+generateRowID();if(!v[repeatingString+'_name']){continue;}submit[repeatingStringNew+'_name']=v[repeatingString+'_name'];submit[repeatingStringNew+'_freetext']='';if(v[repeatingString+'_attack_flag']==='on'&&v[repeatingString+'_attack_type_display']){submit[repeatingStringNew+'_roll_toggle']=1;submit[repeatingStringNew+'_freetext']+=v[repeatingString+'_attack_type_display']+' '+v[repeatingString+'_attack_tohitrange']+' Hit: ';}if(v[repeatingString+'_attack_onhit']){submit[repeatingStringNew+'_freetext']+=''+v[repeatingString+'_attack_onhit'];if(v[repeatingString+'_description']){submit[repeatingStringNew+'_freetext']+=' '+v[repeatingString+'_description'];}}else if(v[repeatingString+'_description']){submit[repeatingStringNew+'_freetext']+=''+v[repeatingString+'_description'];}submit[repeatingStringNew+'_freetext']=submit[repeatingStringNew+'_freetext'].replace(/Attack:\s?\+(\d+)/i,'Attack: +$1 to hit').trim().replace(/.*(\\n)/,'').trim().replace(/.*(\\n)/,'').trim().replace(/.*(\\n)/,'');}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'convertNPCSpells',value:function convertNPCSpells(){(0,_utilities.getSetRepeatingItems)('conversion.convertNPCSpells',{repeatingItems:['repeating_spell-npc'],collectionArrayAddItems:['spellname_base','spellprepared','spellritual','spellschool','spellcastingtime','spellrange','spelltarget','spellcomp_v','spellcomp_s','spellcomp_m','spellcomp_materials','spellconcentration','spellduration','spelldescription','spellathigherlevels','spellattack','spelldamage','spelldamagetype','spelldamage2','spelldamagetype2','spellhealing','spellsave','spellsavesuccess','spellhldie'],callback:function callback(v,submit,repeatingStrings){var levelFromPreviousField=0;var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;var level=levelFromPreviousField;var nameLevelMatch=void 0;if(v[repeatingString+'_spellname_base']){if(v[repeatingString+'_spellname_base'].indexOf('INNATE')!==-1||v[repeatingString+'_spellname_base'].indexOf('CANTRIPS')!==-1||v[repeatingString+'_spellname_base'].indexOf('1st LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('2nd LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('3rd LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('4th LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('5th LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('6th LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('7th LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('8th LEVEL')!==-1||v[repeatingString+'_spellname_base'].indexOf('9th LEVEL')!==-1){var levelFromName=(0,_utilities.getIntValue)(v[repeatingString+'_spellname_base']);if(levelFromName){levelFromPreviousField=levelFromName;}removeRepeatingRow(repeatingString);continue;}nameLevelMatch=v[repeatingString+'_spellname_base'].match(/(.*) \((.*)\)/i);if(nameLevelMatch&&nameLevelMatch[2]&&nameLevelMatch[2]!=='Cantrip'){level=(0,_utilities.getIntValue)(nameLevelMatch[2].replace('Level ',''));}}else{removeRepeatingRow(repeatingString);continue;}var repeatingStringNew='repeating_spell'+level+'_'+generateRowID();if(nameLevelMatch&&nameLevelMatch[1]){submit[repeatingStringNew+'_name']=nameLevelMatch[1];}else{submit[repeatingStringNew+'_name']=v[repeatingString+'_spellname_base'];}submit[repeatingStringNew+'_spell_level']=(0,_utilities.ordinalSpellLevel)(level);if(!v[repeatingString+'_spellprepared']||(0,_utilities.exists)(v[repeatingString+'_spellprepared'])){submit[repeatingStringNew+'_is_prepared']='Yes';}if(v[repeatingString+'_spellritual']){submit[repeatingStringNew+'_ritual']='Yes';}if(v[repeatingString+'_spellschool']){submit[repeatingStringNew+'_school']=v[repeatingString+'_spellschool'].toUpperCase();}if(v[repeatingString+'_spellcastingtime']){submit[repeatingStringNew+'_casting_time']=v[repeatingString+'_spellcastingtime'].toUpperCase().trim().replace(/\s/g,'_');}if(v[repeatingString+'_spellrange']){submit[repeatingStringNew+'_range']=v[repeatingString+'_spellrange'];}var components=[];if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_spellcomp_v'])||v[repeatingString+'_spellcomp_v']==='{{v=1}}'){components.push('V');}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_spellcomp_s'])||v[repeatingString+'_spellcomp_s']==='{{s=1}}'){components.push('S');}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_spellcomp_m'])||v[repeatingString+'_spellcomp_m']==='{{m=1}}'){components.push('M');}if(components.length>0){submit[repeatingStringNew+'_components']='COMPONENTS_'+components.join('_');}if(v[repeatingString+'_spellcomp_materials']){submit[repeatingStringNew+'_materials']=v[repeatingString+'_spellcomp_materials'];}if(v[repeatingString+'_spellduration']){var duration='';if(v[repeatingString+'_spellconcentration']){duration+='CONCENTRATION_';}duration+=v[repeatingString+'_spellduration'].toUpperCase().trim().replace(/\s/g,'_');submit[repeatingStringNew+'_duration']=duration;}if(v[repeatingString+'_spellattack']==='Melee'||v[repeatingString+'_spellattack']==='Ranged'){submit[repeatingStringNew+'_roll_toggle']=1;}if(v[repeatingString+'_spelldamage']){submit[repeatingStringNew+'_damage_toggle']=1;submit[repeatingStringNew+'_damage']=v[repeatingString+'_spelldamage'];}if(v[repeatingString+'_spelldamagetype']){submit[repeatingStringNew+'_damage_type']=v[repeatingString+'_spelldamagetype'];}if(v[repeatingString+'_spelldamage2']){submit[repeatingStringNew+'_second_damage']=v[repeatingString+'_spelldamage2'];}if(v[repeatingString+'_spelldamagetype2']){submit[repeatingStringNew+'_second_damage_type']=v[repeatingString+'_spelldamagetype2'];}if(v[repeatingString+'_spellhealing']){submit[repeatingStringNew+'_heal']=v[repeatingString+'_spellhealing'];}if(v[repeatingString+'_spellsave']){submit[repeatingStringNew+'_saving_throw_vs_ability']=v[repeatingString+'_spellsave'].toUpperCase();}if(v[repeatingString+'_spellsavesuccess']){submit[repeatingStringNew+'_saving_throw_success']=v[repeatingString+'_spellsavesuccess'];}if(v[repeatingString+'_spellhldie']){submit[repeatingStringNew+'_higher_level_dice']=v[repeatingString+'_spellhldie'];}if(v[repeatingString+'_spellhldietype']){submit[repeatingStringNew+'_higher_level_die']=v[repeatingString+'_spellhldietype'];}var content='';if(v[repeatingString+'_spelldescription']){content+=v[repeatingString+'_spelldescription'];}if(v[repeatingString+'_spellathigherlevels']){content+='\nAt Higher Levels: '+v[repeatingString+'_spellathigherlevels'];}submit[repeatingStringNew+'_content']=content;submit[repeatingStringNew+'_toggle_details']='0';removeRepeatingRow(repeatingString);}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});}},{key:'convertFromOGL',value:function convertFromOGL(){var _this=this;(0,_utilities.addToProcessing)('convertFromOGL',function(){var oldToNew={npc:'is_npc',npc_ac:'AC',npc_actype:'ac_note',npc_challenge:'challenge',npc_name:'character_name',npc_vulnerabilities:'damage_vulnerabilities',npc_resistances:'damage_resistances',npc_immunities:'damage_immunities',npc_condition_immunities:'condition_immunities',npc_senses:'senses',npc_languages:'languages',hp_temp:'temp_HP',experience:'xp',npc_legendary_actions:'legendary_action_amount'};var collectionArray=['npc_type','hp_max','npc_hpformula','jack_of_all_trades','other_proficiencies_and_languages','spellcasting_ability'];var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=_constants.ABILITIES[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var ability=_step5.value;collectionArray.push('npc_'+(0,_utilities.getAbilityShortName)(ability).toLowerCase()+'_save');}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}for(var skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(skill)){collectionArray.push('npc_'+skill.toLowerCase());}}for(var key in oldToNew){if(oldToNew.hasOwnProperty(key)){collectionArray.push(key);}}(0,_utilities.getSetItems)('conversion.convertFromOGL',{collectionArray:collectionArray,callback:function callback(v,submit){submit.tab='core';for(var _key in oldToNew){if(oldToNew.hasOwnProperty(_key)){if(v[_key]){submit[oldToNew[_key]]=v[_key];}}}_this.parseSpellcastingAbility(v,submit);_this.parseSizeTypeAlignment(v,submit);_this.parseHD(v,submit);_this.parseSavingThrows(v,submit);_this.parseNPCSkills(v,submit);_this.convertJackOfAllTrades(v,submit);_this.convertProficienciesAndLanguages(v,submit);}});_this.convertPCSkills();_this.convertTraits();_this.convertActions('npcaction','action');_this.convertActions('npcaction-l','legendaryaction');_this.convertActions('npcreaction','reaction');_this.convertClass();_this.convertNPCSpells();});}}]);return Conversion;}();

},{"./../scripts/constants":19,"./../scripts/utilities":21,"./../traits/Traits":28}],4:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Attacks=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../scripts/constants');var _updateToggles=require('../../actionComponents/updateToggles');var _Equipment=require('./Equipment');var _utilities=require('../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var equipment=new _Equipment.Equipment();var Attacks=exports.Attacks=function(){function Attacks(){_classCallCheck(this,Attacks);}_createClass(Attacks,[{key:'findAmmo',value:function findAmmo(name,_callback){(0,_utilities.getSetRepeatingItems)('attacks.findAmmo',{repeatingItems:['repeating_ammo'],collectionArrayAddItems:['name','qty'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=repeatingStrings[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _repeatingString=_step.value;if(v[_repeatingString+'_name']===name){_callback('@{'+_repeatingString+'_qty}');return;}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}console.warn('cannot find ammo field by the name '+name+', adding it');var repeatingString='repeating_ammo_'+generateRowID();submit[repeatingString+'_name']=name;submit[repeatingString+'_qty']=20;_callback('@{'+repeatingString+'_qty}');}});}},{key:'update',value:function update(rowId){var _this=this;var collectionArray=['pb','strength_mod','finesse_mod','global_attack_bonus','global_melee_attack_bonus','global_ranged_attack_bonus','global_damage_bonus','global_melee_damage_bonus','global_ranged_damage_bonus','ammo_auto_use','base_dc','weight_system','shaped_d20'];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var ability=_step2.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}(0,_utilities.getSetRepeatingItems)('attacks.update',{repeatingItems:['repeating_attack'],collectionArray:collectionArray,collectionArrayAddItems:['name','type','reach','roll_formula','roll_toggle','to_hit','proficiency','attack_ability','attack_bonus','ammo_toggle','ammo_toggle_var','ammo_field_name','ammo_per_use','saving_throw_toggle','saving_throw_ability','saving_throw_bonus','saving_throw_dc','damage_toggle','damage_formula','damage','damage_ability','damage_bonus','damage_type','damage_crit','second_damage_toggle','second_damage_formula','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','second_damage_crit','damage_string','modifiers','properties','weight','weight_system','parsed'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{var _loop=function _loop(){var repeatingString=_step3.value;var attackName=v[repeatingString+'_name'];if((0,_utilities.isUndefinedOrEmpty)(attackName)){return{v:void 0};}(0,_updateToggles.parseFromSRD)(v,submit,repeatingString);var attackOptions={globalAttackBonus:v.global_attack_bonus,globalAttackBonusLabel:'global attack bonus',globalMeleeAttackBonus:v.global_melee_attack_bonus,globalRangedAttackBonus:v.global_ranged_attack_bonus,type:'attack'};(0,_updateToggles.updateAttackToggle)(v,submit,repeatingString,attackOptions);var ammoName=v[repeatingString+'_ammo_field_name'];if(!(0,_utilities.isUndefinedOrEmpty)(ammoName)){(function(){var ammoAutoUse=void 0;if((0,_utilities.exists)(v.ammo_auto_use)){ammoAutoUse=1;}else{ammoAutoUse=0;}_this.findAmmo(ammoName,function(ammoQtyName){var setAmmo={};var ammoPerUse=(0,_utilities.getIntValue)(v[repeatingString+'_ammo_per_use'],1);setAmmo[repeatingString+'_ammo_toggle_var']='{{ammo=[['+ammoQtyName+'-'+ammoAutoUse*ammoPerUse+']]}} {{ammo_name='+ammoName+'}}';(0,_utilities.setFinalAttrs)(v,setAmmo,'findAmmo',{});});})();}(0,_updateToggles.updateSavingThrowToggle)(v,submit,repeatingString);var damageOptions={globalDamageBonus:v.global_damage_bonus,globalMeleeDamageBonus:v.global_melee_damage_bonus,globalRangedDamageBonus:v.global_ranged_damage_bonus,type:'attack'};(0,_updateToggles.updateDamageToggle)(v,submit,repeatingString,damageOptions);if(v.damage_type){submit.damage_type=(0,_utilities.lowercaseDamageTypes)(v.damage_type);}if(v.second_damage_type){submit.second_damage_type=(0,_utilities.lowercaseDamageTypes)(v.second_damage_type);}(0,_utilities.setCritDamage)(v,submit,repeatingString);(0,_updateToggles.updateAmmoToggle)(v,submit,repeatingString);(0,_updateToggles.updateExtrasToggle)(v,submit,repeatingString);equipment.changeWeightSystem(v,submit,repeatingString);};for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _ret=_loop();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object")return _ret.v;}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'weigh',value:function weigh(){var options={collection:'attack',toggle:'carried',qty:'qty'};var sumItems=[{fieldToAdd:'weight',itemTotal:'weight_total',totalField:'weight_attacks'}];(0,_utilities.sumRepeating)(options,sumItems);}},{key:'updateChatMacro',value:function updateChatMacro(){(0,_utilities.getSetRepeatingItems)('attacks.updateChatMacro',{repeatingItems:['repeating_attack'],collectionArray:['attacks_macro_var'],collectionArrayAddItems:['name'],callback:function callback(v,submit,repeatingStrings){submit.attacks_macro_var='';var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _repeatingString2=_step4.value;var actionName=v[_repeatingString2+'_name'];if(actionName&&actionName.length>50){actionName=actionName.substring(0,50)+'...';}if(_repeatingString2!==repeatingStrings[0]){submit.attacks_macro_var+=', ';}submit.attacks_macro_var+='['+actionName+'](~'+_repeatingString2+'_attack)';}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});}},{key:'setup',value:function setup(){var _this2=this;on('change:repeating_attack',function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_attack',eventInfo);if(repeatingInfo&&repeatingInfo.field!=='roll_formula'&&repeatingInfo.field!=='toggle_details'&&repeatingInfo.field!=='to_hit'&&repeatingInfo.field!=='damage_formula'&&repeatingInfo.field!=='damage_crit'&&repeatingInfo.field!=='second_damage_formula'&&repeatingInfo.field!=='second_damage_crit'&&repeatingInfo.field!=='damage_string'&&repeatingInfo.field!=='saving_throw_dc'&&repeatingInfo.field!=='qty'&&repeatingInfo.field!=='weight'&&repeatingInfo.field!=='parsed'){_this2.update(repeatingInfo.rowId);}});on('change:pb, change:global_attack_bonus change:global_melee_attack_bonus change:global_ranged_attack_bonus change:global_damage_bonus change:global_melee_damage_bonus change:global_ranged_damage_bonus change:ammo_auto_use change:weight_system',function(){_this2.update();});on('change:repeating_attack:carried change:repeating_attack:qty change:repeating_attack:weight remove:repeating_attack',function(){_this2.weigh();});on('change:repeating_attack remove:repeating_attack',function(){_this2.updateChatMacro();});}}]);return Attacks;}();

},{"../../actionComponents/updateToggles":1,"../../scripts/constants":19,"../../scripts/utilities":21,"./Equipment":5}],5:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Equipment=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../scripts/constants');var _utilities=require('../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Equipment=exports.Equipment=function(){function Equipment(){_classCallCheck(this,Equipment);}_createClass(Equipment,[{key:'setAdvantageOnStealth',value:function setAdvantageOnStealth(mode){(0,_utilities.getSetRepeatingItems)('equipment.setAdvantageOnStealth',{repeatingItems:['repeating_skill'],collectionArrayAddItems:['storage_name','skill_d20'],callback:function callback(v,submit,repeatingStrings){for(var skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(skill)){var skillId=(0,_utilities.getSkillIdByStorageName)(v,repeatingStrings,skill);var repeatingString='repeating_skill_'+skillId;if(v[repeatingString+'_storage_name']==='STEALTH'){if(mode==='dis'){submit[repeatingString+'_skill_d20']='2d20kl1';}else if(mode==='normal'){submit[repeatingString+'_skill_d20']='@{shaped_d20}';}break;}}}}});}},{key:'changeWeightSystem',value:function changeWeightSystem(v,submit,repeatingString,defaultWeight){var globalWeightSystem=v.weight_system;var localWeightSystem=v[repeatingString+'_weight_system']||'pounds';var weight=(0,_utilities.getFloatValue)(v[repeatingString+'_weight'])||defaultWeight;if((0,_utilities.exists)(weight)&&localWeightSystem!==globalWeightSystem){if(globalWeightSystem==='pounds'){submit[repeatingString+'_weight']=(0,_utilities.round)(weight*2.204622621848776,-3);}else if(globalWeightSystem==='kilograms'){submit[repeatingString+'_weight']=(0,_utilities.round)(weight*0.45359237,-3);}}submit[repeatingString+'_weight_system']=globalWeightSystem;}},{key:'updateArmor',value:function updateArmor(rowId){var _this=this;var stealthPenalty=void 0;(0,_utilities.getSetRepeatingItems)('equipment.updateArmor',{repeatingItems:['repeating_armor'],collectionArray:['is_npc','ac_srd','weight_system'],collectionArrayAddItems:['modifiers','stealth','weight','weight_system'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){if((0,_utilities.isNpc)(v)||v.ac_srd){return;}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=repeatingStrings[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var repeatingString=_step.value;if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_ac_bonus'])&&v[repeatingString+'_modifiers']){submit[repeatingString+'_ac_bonus']=v[repeatingString+'_modifiers'].replace(/^\D+/g,'');}if(v[repeatingString+'_stealth']==='Disadvantage'){stealthPenalty=true;}_this.changeWeightSystem(v,submit,repeatingString);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}if(stealthPenalty){_this.setAdvantageOnStealth('dis');}else{_this.setAdvantageOnStealth('normal');}}});var options={collection:'armor',getExtraFields:['base_ac','medium_armor_max_dex','dexterity_mod','ac_unarmored_ability','is_npc','ac_srd'],toggle:'worn'};var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var ability=_step2.value;options.getExtraFields.push(ability+'_mod');}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var sumItems=[{fieldToAdd:'weight',totalField:'weight_armor'},{fieldToAdd:'ac_base',bonus:'ac_bonus',armorType:'type',itemTotal:'ac_total',totalField:'ac_armored_calc',totalFieldBonus:'ac_armored_bonus',totalFieldSecondary:'ac_unarmored_calc',totalFieldSecondaryBonus:'ac_unarmored_bonus'}];(0,_utilities.sumRepeating)(options,sumItems);}},{key:'update',value:function update(rowId){var _this2=this;(0,_utilities.getSetRepeatingItems)('equipment.update',{repeatingItems:['repeating_equipment'],collectionArray:['weight_system'],collectionArrayAddItems:['content','weight','weight_system'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_parsed'])||v[repeatingString+'_parsed'].indexOf('content')===-1){var content=v[repeatingString+'_content'];if((0,_utilities.exists)(content)){content=content.replace(/\s(\d+d\d+\s(?:\+|-)\s\d+)\s/g,' [[$1]] ').replace(/\s(\d+d\d+)\s/g,' [[$1]] ').replace(/\s(\d+)\s/g,' [[$1]] ');submit[repeatingString+'_content']=content;if((0,_utilities.isUndefinedOrEmpty)(submit[repeatingString+'_parsed'])){submit[repeatingString+'_parsed']='';}submit[repeatingString+'_parsed']+=' content';}}_this2.changeWeightSystem(v,submit,repeatingString);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'weigh',value:function weigh(){var options={collection:'equipment',toggle:'carried',qty:'qty'};var sumItems=[{fieldToAdd:'weight',itemTotal:'weight_total',totalField:'weight_equipment'}];(0,_utilities.sumRepeating)(options,sumItems);}},{key:'updateWeight',value:function updateWeight(){(0,_utilities.getSetItems)('equipment.updateWeight',{collectionArray:['weight_attacks','weight_ammo','weight_armor','weight_equipment','weight_coinage'],callback:function callback(v,submit){submit.weight_total=(0,_utilities.round)((0,_utilities.getFloatValue)(v.weight_attacks)+(0,_utilities.getFloatValue)(v.weight_ammo)+(0,_utilities.getFloatValue)(v.weight_armor)+(0,_utilities.getFloatValue)(v.weight_equipment)+(0,_utilities.getFloatValue)(v.weight_coinage),-2);}});}},{key:'weighAmmo',value:function weighAmmo(){var _this3=this;(0,_utilities.getSetRepeatingItems)('equipment.weighAmmo',{repeatingItems:['repeating_ammo'],collectionArray:['weight_system'],collectionArrayAddItems:['weight','weight_system'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;_this3.changeWeightSystem(v,submit,repeatingString,0.05);}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});var options={collection:'ammo',qty:'qty'};var sumItems=[{fieldToAdd:'weight',totalField:'weight_ammo'}];(0,_utilities.sumRepeating)(options,sumItems);}},{key:'calculateGold',value:function calculateGold(){(0,_utilities.getSetItems)('equipment.calculateGold',{collectionArray:['cp','copper_per_gold','sp','silver_per_gold','ep','electrum_per_gold','gp','pp','platinum_per_gold','weight_per_coin'],callback:function callback(v,submit){var copperPieces=(0,_utilities.getFloatValue)(v.cp);var silverPieces=(0,_utilities.getFloatValue)(v.sp);var electrumPieces=(0,_utilities.getFloatValue)(v.ep);var goldPieces=(0,_utilities.getFloatValue)(v.gp);var platinumPieces=(0,_utilities.getFloatValue)(v.pp);var copperPerGold=(0,_utilities.getFloatValue)(v.copper_per_gold,100);var silverPerGold=(0,_utilities.getFloatValue)(v.silver_per_gold,10);var electrumPerGold=(0,_utilities.getFloatValue)(v.electrum_per_gold,2);var platinumPerGold=(0,_utilities.getFloatValue)(v.platinum_per_gold,10);var weightPerCoin=(0,_utilities.getFloatValue)(v.weight_per_coin,0);submit.total_gp=(copperPieces/copperPerGold+silverPieces/silverPerGold+electrumPieces/electrumPerGold+goldPieces+platinumPieces*platinumPerGold).toFixed(2);submit.weight_coinage=(copperPieces+silverPieces+electrumPieces+goldPieces+platinumPieces)*weightPerCoin;}});}},{key:'updateCarryingCapacity',value:function updateCarryingCapacity(){(0,_utilities.getSetItems)('equipment.updateCarryingCapacity',{collectionArray:['strength_calculated','weight_multiplier','carrying_capacity','carrying_capacity_multiplier'],callback:function callback(v,submit){var strength=(0,_utilities.getIntValue)(v.strength_calculated,10);var weightMultiplier=(0,_utilities.getFloatValue)(v.weight_multiplier,1);var carringCapacityMultiplier=(0,_utilities.getFloatValue)(v.carrying_capacity_multiplier);submit.carrying_capacity=(0,_utilities.round)(strength*carringCapacityMultiplier*weightMultiplier,-2);}});}},{key:'updateMaxPushDragLift',value:function updateMaxPushDragLift(){(0,_utilities.getSetItems)('equipment.updateMaxPushDragLift',{collectionArray:['strength_calculated','weight_multiplier','max_push_drag_lift','max_push_drag_lift_multiplier'],callback:function callback(v,submit){var strength=(0,_utilities.getIntValue)(v.strength_calculated,10);var weightMultiplier=(0,_utilities.getFloatValue)(v.weight_multiplier,1);var maxPushDragLiftMultiplier=(0,_utilities.getFloatValue)(v.max_push_drag_lift_multiplier);submit.max_push_drag_lift=(0,_utilities.round)(strength*maxPushDragLiftMultiplier*weightMultiplier,-2);}});}},{key:'updateEncumbered',value:function updateEncumbered(){(0,_utilities.getSetItems)('equipment.updateEncumbered',{collectionArray:['strength_calculated','weight_multiplier','encumbered','encumbered_multiplier','encumbrance_multiplier'],callback:function callback(v,submit){var strength=(0,_utilities.getIntValue)(v.strength_calculated,10);var weightMultiplier=(0,_utilities.getFloatValue)(v.weight_multiplier,1);var encumberedMultiplier=(0,_utilities.getFloatValue)(v.encumbered_multiplier);var encumbranceMultiplier=(0,_utilities.getFloatValue)(v.encumbrance_multiplier,1);submit.encumbered=(0,_utilities.round)(strength*encumberedMultiplier*encumbranceMultiplier*weightMultiplier,-2);}});}},{key:'updateHeavilyEncumbered',value:function updateHeavilyEncumbered(){(0,_utilities.getSetItems)('equipment.updateHeavilyEncumbered',{collectionArray:['strength_calculated','weight_multiplier','heavily_encumbered','heavily_encumbered_multiplier','encumbrance_multiplier'],callback:function callback(v,submit){var strength=(0,_utilities.getIntValue)(v.strength_calculated,10);var weightMultiplier=(0,_utilities.getFloatValue)(v.weight_multiplier,1);var heavilyEncumberedMultiplier=(0,_utilities.getFloatValue)(v.heavily_encumbered_multiplier);var encumbranceMultiplier=(0,_utilities.getFloatValue)(v.encumbrance_multiplier,1);submit.heavily_encumbered=(0,_utilities.round)(strength*heavilyEncumberedMultiplier*encumbranceMultiplier*weightMultiplier,-2);}});}},{key:'setup',value:function setup(){var _this4=this;on('change:repeating_armor',function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_armor',eventInfo);if(repeatingInfo&&repeatingInfo.field!=='ac_total'){_this4.updateArmor(repeatingInfo.rowId);}});on('change:base_ac change:dexterity_mod change:medium_armor_max_dex change:ac_unarmored_ability change:ac_armored_bonus change:ac_unarmored_bonus remove:repeating_armor',function(){_this4.updateArmor();});on('change:repeating_equipment',function(eventInfo){_this4.update((0,_utilities.getRepeatingInfo)('repeating_equipment',eventInfo).rowId);});on('change:repeating_equipment:carried change:repeating_equipment:qty change:repeating_equipment:weight remove:repeating_equipment',function(){_this4.weigh();});on('change:repeating_ammo:weight change:repeating_ammo:qty',function(){_this4.weighAmmo();});on('change:weight_attacks change:weight_ammo change:weight_armor change:weight_equipment change:weight_coinage',function(){_this4.updateWeight();});on('change:cp change:copper_per_gold change:sp change:silver_per_gold change:ep change:electrum_per_gold change:gp change:pp change:platinum_per_gold change:weight_per_coin',function(){_this4.calculateGold();});on('change:strength_calculated change:weight_multiplier change:carrying_capacity_multiplier',function(){_this4.updateCarryingCapacity();});on('change:strength_calculated change:weight_multiplier change:max_push_drag_lift_multiplier',function(){_this4.updateMaxPushDragLift();});on('change:strength_calculated change:weight_multiplier change:encumbered_multiplier change:encumbrance_multiplier',function(){_this4.updateEncumbered();});on('change:strength_calculated change:weight_multiplier change:heavily_encumbered_multiplier change:encumbrance_multiplier',function(){_this4.updateHeavilyEncumbered();});on('change:weight_system',function(){_this4.updateArmor();_this4.update();_this4.weighAmmo();});}}]);return Equipment;}();

},{"../../scripts/constants":19,"../../scripts/utilities":21}],6:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Abilities=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../scripts/constants');var _AbilityChecks=require('./AbilityChecks');var _Actions=require('../../npc/rightColumn/actions/Actions');var _Attacks=require('../centerColumn/Attacks');var _Spells=require('../../spells/Spells');var _utilities=require('../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var abilityChecks=new _AbilityChecks.AbilityChecks();var actions=new _Actions.Actions();var attacks=new _Attacks.Attacks();var spells=new _Spells.Spells();var Abilities=exports.Abilities=function(){function Abilities(){_classCallCheck(this,Abilities);}_createClass(Abilities,[{key:'updateModifier',value:function updateModifier(ability){var collectionArray=[ability,ability+'_formula',ability+'_calculated',ability+'_bonus',ability+'_mod',ability+'_mod_with_sign',ability+'_check_mod',ability+'_check_mod_with_sign',ability+'_check_mod_formula',ability+'_check_bonus','global_ability_bonus','strength_mod','dexterity_mod','jack_of_all_trades_toggle','jack_of_all_trades','remarkable_athlete_toggle','remarkable_athlete','global_check_bonus'];if(ability==='strength'||ability==='dexterity'){collectionArray.push('finesse_mod');}(0,_utilities.getSetItems)('abilities.updateModifier',{collectionArray:collectionArray,callback:function callback(v,submit){var abilityScore=(0,_utilities.getIntValue)(v[ability]);var abilityBonus=(0,_utilities.getIntValue)(v[ability+'_bonus']);var globalAbilityBonus=v.global_ability_bonus;var abilityScoreCalc=abilityScore+abilityBonus;if(!isNaN(globalAbilityBonus)){abilityScoreCalc+=(0,_utilities.getIntValue)(globalAbilityBonus);}var abilityCheckBonus=(0,_utilities.getIntValue)(v[ability+'_check_bonus']);var abilityMod=(0,_utilities.getAbilityMod)(abilityScoreCalc);submit[ability+'_formula']=(abilityMod||0)+'['+ability+' '+getTranslationByKey('MOD').toLowerCase()+']';var abilityCheck=abilityMod;var abilityCheckFormula='';if((ability==='strength'||ability==='dexterity'||ability==='constitution')&&v.remarkable_athlete_toggle==='@{remarkable_athlete}'){var remarkableAthlete=(0,_utilities.getIntValue)(v.remarkable_athlete);abilityCheck+=remarkableAthlete;abilityCheckFormula+=(0,_utilities.addArithmeticOperator)(abilityCheckFormula,remarkableAthlete)+'['+getTranslationByKey('CLASS_FEATURE_REMARKABLE_ATHLETE').toLowerCase()+']';}else if(v.jack_of_all_trades_toggle==='@{jack_of_all_trades}'){var jackOfAllTrades=(0,_utilities.getIntValue)(v.jack_of_all_trades);abilityCheck+=jackOfAllTrades;abilityCheckFormula+=(0,_utilities.addArithmeticOperator)(abilityCheckFormula,jackOfAllTrades)+'['+getTranslationByKey('CLASS_FEATURE_JACK_OF_ALL_TRADES').toLowerCase()+']';}if(abilityCheckBonus){abilityCheck+=abilityCheckBonus;abilityCheckFormula+=(0,_utilities.addArithmeticOperator)(abilityCheckFormula,abilityCheckBonus)+'['+ability+' '+getTranslationByKey('CHECK_BONUS').toLowerCase()+']';}if((0,_utilities.exists)(v.global_check_bonus)){if(!isNaN(v.global_check_bonus)){abilityCheck+=(0,_utilities.getIntValue)(v.global_check_bonus);}if(abilityCheckFormula){abilityCheckFormula+=' + ';}abilityCheckFormula+='(@{global_check_bonus})[;'+getTranslationByKey('GLOBAL_CHECK_BONUS').toLowerCase()+']';}submit[ability+'_calculated']=abilityScoreCalc;submit[ability+'_mod']=abilityMod;submit[ability+'_mod_with_sign']=(0,_utilities.showSign)(abilityMod);submit[ability+'_check_mod']=abilityCheck;submit[ability+'_check_mod_with_sign']=(0,_utilities.showSign)(abilityCheck);submit[ability+'_check_mod_formula']=abilityCheckFormula;if(ability==='strength'){submit.finesse_mod=Math.max(abilityMod,(0,_utilities.getIntValue)(v.dexterity_mod));}else if(ability==='dexterity'){submit.finesse_mod=Math.max(abilityMod,(0,_utilities.getIntValue)(v.strength_mod));}}});}},{key:'updateModifiers',value:function updateModifiers(){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;this.updateModifier(ability);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}},{key:'setup',value:function setup(){var _this=this;on('change:jack_of_all_trades_toggle change:jack_of_all_trades change:global_ability_bonus change:global_check_bonus',function(){_this.updateModifiers();});var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{var _loop=function _loop(){var ability=_step2.value;var abilityWatch=[''+ability,ability+'_bonus',ability+'_check_mod',ability+'_check_bonus'];if(ability==='strength'||ability==='dexterity'||ability==='constitution'){abilityWatch.push('remarkable_athlete_toggle');abilityWatch.push('remarkable_athlete');}abilityWatch=abilityWatch.map(function(savingThrow){return'change:'+savingThrow;}).join(' ');on(abilityWatch,function(){_this.updateModifier(ability);});};for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){_loop();}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var abilityModWatch=_constants.ABILITIES.map(function(ability){return'change:'+ability+'_mod';}).join(' ');on(abilityModWatch,function(){abilityChecks.updateSkill();attacks.update();spells.update();spells.updateDCAndAttack();actions.updateAll();});}}]);return Abilities;}();

},{"../../npc/rightColumn/actions/Actions":13,"../../scripts/constants":19,"../../scripts/utilities":21,"../../spells/Spells":27,"../centerColumn/Attacks":4,"./AbilityChecks":7}],7:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.AbilityChecks=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../../scripts/utilities');var _constants=require('../../scripts/constants');var _ProficiencyBonus=require('./ProficiencyBonus');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var proficiencyBonus=new _ProficiencyBonus.ProficiencyBonus();var AbilityChecks=exports.AbilityChecks=function(){function AbilityChecks(){_classCallCheck(this,AbilityChecks);}_createClass(AbilityChecks,[{key:'updateMacro',value:function updateMacro(){var collectionArray=['ability_checks_query_var','ability_checks_macro_var','skills_macro_var','honor_toggle','sanity_toggle'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;collectionArray.push(ability+'_check_mod');collectionArray.push(ability+'_check_mod_with_sign');}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}(0,_utilities.getSetRepeatingItems)('abilityChecks.updateMacro',{repeatingItems:['repeating_skill'],collectionArray:collectionArray,collectionArrayAddItems:['name','ability','total_with_sign'],callback:function callback(v,submit,repeatingStrings){var macroArray=[];var skillsMacroArray=[];var queryArray=[];submit.skills_macro_var='';var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var ability=_step2.value;if(ability==='honor'&&(0,_utilities.getIntValue)(v.honor_toggle)!==1||ability==='sanity'&&(0,_utilities.getIntValue)(v.sanity_toggle)!==1){continue;}var total=v[ability+'_check_mod_with_sign']||'+0';macroArray.push('['+getTranslationByKey(ability.toUpperCase())+' '+total+'](~shaped_'+ability+'_check)');queryArray.push(getTranslationByKey(ability.toUpperCase())+' '+total+',{{title='+getTranslationByKey(ability.toUpperCase())+'&#125;&#125; {{roll1=[[@{shaped_d20}@{d20_mod} + '+v[ability+'_check_mod']+']]&#125;&#125; {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + '+v[ability+'_check_mod']+']]&#125;&#125;');}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;var _total=v[repeatingString+'_total_with_sign']||'+0';var skillButton='['+v[repeatingString+'_name']+' '+_total+'](~'+repeatingString+'_skill)';macroArray.push(skillButton);skillsMacroArray.push(skillButton);queryArray.push(v[repeatingString+'_name']+', {{title='+v[repeatingString+'_name']+' ('+getTranslationByKey((0,_utilities.getAbilityShortName)(v[repeatingString+'_ability']).toUpperCase())+')&#125;&#125; {{roll1=[[@{shaped_d20}@{d20_mod} + @{'+repeatingString+'_formula}]]&#125;&#125; {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{'+repeatingString+'_formula}]]&#125;&#125;');}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}submit.ability_checks_macro_var=macroArray.join(', ');submit.skills_macro_var=skillsMacroArray.join(', ');submit.ability_checks_query_var='?{Ability Check|'+queryArray.join('|')+'}';}});}},{key:'updateSkillToggle',value:function updateSkillToggle(rowId){(0,_utilities.getSetRepeatingItems)('abilityChecks.updateSkillToggle',{repeatingItems:['repeating_skill'],collectionArrayAddItems:['proficiency'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;if((0,_utilities.isUndefined)(v[repeatingString+'_proficiency'])||v[repeatingString+'_proficiency']==='unproficient'){submit[repeatingString+'_proficiency']='proficient';}else if(v[repeatingString+'_proficiency']==='proficient'){submit[repeatingString+'_proficiency']='expertise';}else if(v[repeatingString+'_proficiency']==='expertise'){submit[repeatingString+'_proficiency']='unproficient';}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});}},{key:'updateSkill',value:function updateSkill(rowId){var _this=this;var collectionArray=['jack_of_all_trades_toggle','jack_of_all_trades','remarkable_athlete_toggle','remarkable_athlete','reliable_talent','pb','exp','global_check_bonus','show_passive_skills'];var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=_constants.ABILITIES[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var ability=_step5.value;collectionArray.push(ability+'_mod');collectionArray.push(ability+'_check_bonus');}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}(0,_utilities.getSetRepeatingItems)('abilityChecks.updateSkill',{repeatingItems:['repeating_skill'],collectionArray:collectionArray,collectionArrayAddItems:['skill_d20','skill_d20_wrap','proficiency','name','storage_name','ability','bonus','ability_key','formula','total','total_with_sign','passive_bonus','passive_total'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=repeatingStrings[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var repeatingString=_step6.value;var skillName=v[repeatingString+'_name'];if((0,_utilities.isUndefinedOrEmpty)(skillName)){return;}var ability=v[repeatingString+'_ability']||'strength';submit[repeatingString+'_ability_key']=(0,_utilities.getAbilityShortName)(ability).toUpperCase();var total=0;var totalFormula='';var proficiency=v[repeatingString+'_proficiency'];if(!proficiency||proficiency==='unproficient'){if((ability==='strength'||ability==='dexterity'||ability==='constitution')&&v.remarkable_athlete_toggle==='@{remarkable_athlete}'){var remarkableAthlete=(0,_utilities.getIntValue)(v.remarkable_athlete);total+=remarkableAthlete;totalFormula+=remarkableAthlete+'['+getTranslationByKey('CLASS_FEATURE_REMARKABLE_ATHLETE').toLowerCase()+']';}else if(v.jack_of_all_trades_toggle==='@{jack_of_all_trades}'){var jackOfAllTrades=(0,_utilities.getIntValue)(v.jack_of_all_trades);total+=jackOfAllTrades;totalFormula+=jackOfAllTrades+'['+getTranslationByKey('CLASS_FEATURE_JACK_OF_ALL_TRADES').toLowerCase()+']';}if((0,_utilities.exists)(v[repeatingString+'_skill_d20_wrap'])){submit[repeatingString+'_skill_d20_wrap']='@{skill_d20}@{d20_mod}';}}else if(proficiency==='proficient'||proficiency==='expertise'){if((0,_utilities.exists)(v.reliable_talent)){submit[repeatingString+'_skill_d20_wrap']='{@{skill_d20}@{d20_mod}, 0d0+10}kh1['+getTranslationByKey('CLASS_FEATURE_RELIABLE_TALENT').toLowerCase()+']';}else if((0,_utilities.exists)(v[repeatingString+'_skill_d20_wrap'])){submit[repeatingString+'_skill_d20_wrap']='@{skill_d20}@{d20_mod}';}if(proficiency==='proficient'){var pb=(0,_utilities.getIntValue)(v.pb);total+=pb;totalFormula+=pb+'['+getTranslationByKey('PROFICIENT').toLowerCase()+']';}else if(proficiency==='expertise'){var exp=(0,_utilities.getIntValue)(v.exp);total+=exp;totalFormula+=exp+'['+getTranslationByKey('EXPERTISE').toLowerCase()+']';}}var abilityValue=(0,_utilities.getAbilityValue)(v,ability,'strength')||0;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,abilityValue)+'['+(0,_utilities.getAbilityShortName)(ability)+']';if((0,_utilities.exists)(v[repeatingString+'_ability'])){if((0,_utilities.exists)(abilityValue)){total+=abilityValue;}var checkBonus=v[ability+'_check_bonus'];if((0,_utilities.exists)(checkBonus)){checkBonus=(0,_utilities.getIntValue)(checkBonus);total+=checkBonus;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,checkBonus)+'['+(0,_utilities.getAbilityShortName)(ability)+' '+getTranslationByKey('CHECK_BONUS').toLowerCase()+']';}}var skillBonus=(0,_utilities.getIntValue)(v[repeatingString+'_bonus']);if((0,_utilities.exists)(skillBonus)){total+=skillBonus;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,skillBonus)+'['+getTranslationByKey('BONUS').toLowerCase()+']';}if((0,_utilities.exists)(v.global_check_bonus)){if(!isNaN(v.global_check_bonus)){total+=(0,_utilities.getIntValue)(v.global_check_bonus);}if(totalFormula){totalFormula+=' + ';}totalFormula+='(@{global_check_bonus})['+getTranslationByKey('GLOBAL_CHECK_BONUS').toLowerCase()+']';}var advantageOrDisadvantage=0;if(v[repeatingString+'_skill_d20']&&v[repeatingString+'_skill_d20'].indexOf('kh1')!==-1){advantageOrDisadvantage=5;}else if(v[repeatingString+'_skill_d20']&&v[repeatingString+'_skill_d20'].indexOf('kl1')!==-1){advantageOrDisadvantage=-5;}submit[repeatingString+'_total']=total;if((0,_utilities.exists)(v.show_passive_skills)){var passiveBonus=(0,_utilities.getIntValue)(v[repeatingString+'_passive_bonus']);var passiveTotal=10+total+passiveBonus+advantageOrDisadvantage;submit[repeatingString+'_passive']=passiveTotal;var storageNameOrName=v[repeatingString+'_storage_name']||v[repeatingString+'_name'];if(storageNameOrName){submit[storageNameOrName.toLowerCase()+'_passive']=passiveTotal;}}submit[repeatingString+'_total_with_sign']=(0,_utilities.showSign)(total);submit[repeatingString+'_formula']=totalFormula;}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}},setFinalAttrsCallback:function setFinalAttrsCallback(){_this.updateMacro();}});}},{key:'updateSkillsFromSRD',value:function updateSkillsFromSRD(){var collectionArray=['skills_srd','level','challenge','expertise_as_advantage'];var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=_constants.ABILITIES[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var ability=_step7.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}(0,_utilities.getSetRepeatingItems)('abilityChecks.updateSkillsFromSRD',{repeatingItems:['repeating_skill'],collectionArray:collectionArray,collectionArrayAddItems:['name','ability'],callback:function callback(v,submit,repeatingStrings){var skillsFromSRD=v.skills_srd;var skillsObj={};var pb=proficiencyBonus.get(v.level,v.challenge);var expertise=pb*2;var skillName=void 0;if(!(0,_utilities.isUndefinedOrEmpty)(skillsFromSRD)){var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=repeatingStrings[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var repeatingString=_step8.value;skillName=v[repeatingString+'_name'];skillsObj[skillName]=(0,_utilities.getIdOfRepeatingString)(repeatingString);}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}var re=/(\w+)\s?((?:\+|-)\d+)/gi;var match=void 0;while((match=re.exec(skillsFromSRD))!==null){if(match&&match[1]&&match[2]){skillName=match[1];if(skillsObj[skillName]){var skillId=skillsObj[skillName];var repeatingStringNew='repeating_skill_'+skillId;var skillAbility=v[repeatingStringNew+'_ability'];var abilityValue=(0,_utilities.getAbilityValue)(v,skillAbility);var skillBonus=(0,_utilities.getIntValue)(match[2])-abilityValue;if(skillBonus>=expertise){if((0,_utilities.exists)(v.expertise_as_advantage)){submit[repeatingStringNew+'_skill_d20']='2d20kh1';submit[repeatingStringNew+'_proficiency']='proficient';}else{submit[repeatingStringNew+'_proficiency']='expertise';}if(skillBonus>expertise){submit[repeatingStringNew+'_bonus']=skillBonus-expertise;}}else if(skillBonus>=pb){submit[repeatingStringNew+'_proficiency']='proficient';if(skillBonus>pb){submit[repeatingStringNew+'_bonus']=skillBonus-pb;}}}else{console.warn(skillName+' does not exist in the list of skills');}}}}}});}},{key:'updateInitiative',value:function updateInitiative(){var collectionArray=['initiative','initiative_ability','initiative_formula','initiative_bonus','jack_of_all_trades_toggle','jack_of_all_trades','remarkable_athlete_toggle','remarkable_athlete','global_check_bonus'];var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=_constants.ABILITIES[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var ability=_step9.value;collectionArray.push(ability+'_mod');collectionArray.push(ability+'_check_bonus');}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}(0,_utilities.getSetItems)('abilityChecks.updateInitiative',{collectionArray:collectionArray,callback:function callback(v,submit){submit.initiative=0;var initiativeAbility=v.initiative_ability;if((0,_utilities.isUndefined)(initiativeAbility)){initiativeAbility='dexterity';}var abilityMod=(0,_utilities.getAbilityValue)(v,initiativeAbility);if((0,_utilities.exists)(abilityMod)){submit.initiative+=abilityMod;}submit.initiative_formula=abilityMod+'['+(0,_utilities.getAbilityShortName)(initiativeAbility)+']';var abilityCheckBonus=(0,_utilities.getIntValue)(v[initiativeAbility+'_check_bonus']);if((0,_utilities.exists)(abilityCheckBonus)){submit.initiative+=abilityCheckBonus;submit.initiative_formula+=(0,_utilities.addArithmeticOperator)(submit.initiative_formula,abilityCheckBonus)+'['+(0,_utilities.getAbilityShortName)(initiativeAbility)+' '+getTranslationByKey('CHECK_BONUS').toLowerCase()+']';}var initiativeBonus=v.initiative_bonus;if((0,_utilities.exists)(initiativeBonus)){if(!isNaN(initiativeBonus)){submit.initiative+=(0,_utilities.getIntValue)(initiativeBonus);}submit.initiative_formula+=(0,_utilities.addArithmeticOperator)(submit.initiative_formula,initiativeBonus)+'['+getTranslationByKey('INITIATIVE_BONUS').toLowerCase()+']';}if(v.remarkable_athlete_toggle==='@{remarkable_athlete}'){var remarkableAthlete=(0,_utilities.getIntValue)(v.remarkable_athlete);if((0,_utilities.exists)(remarkableAthlete)){submit.initiative+=remarkableAthlete;submit.initiative_formula+=(0,_utilities.addArithmeticOperator)(submit.initiative_formula,remarkableAthlete)+'['+getTranslationByKey('CLASS_FEATURE_REMARKABLE_ATHLETE').toLowerCase()+']';}}else if(v.jack_of_all_trades_toggle==='@{jack_of_all_trades}'){var jackOfAllTrades=(0,_utilities.getIntValue)(v.jack_of_all_trades);if((0,_utilities.exists)(jackOfAllTrades)){submit.initiative+=jackOfAllTrades;submit.initiative_formula+=(0,_utilities.addArithmeticOperator)(submit.initiative_formula,jackOfAllTrades)+'['+getTranslationByKey('CLASS_FEATURE_JACK_OF_ALL_TRADES').toLowerCase()+']';}}if(submit.initiative){submit.initiative=(0,_utilities.showSign)(submit.initiative);}if((0,_utilities.exists)(v.global_check_bonus)){if(submit.initiative_formula){submit.initiative_formula+=' + ';}submit.initiative_formula+='(@{global_check_bonus})['+getTranslationByKey('GLOBAL_CHECK_BONUS').toLowerCase()+']';}}});}},{key:'setup',value:function setup(){var _this2=this;on('change:repeating_skill',function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_skill',eventInfo);if(repeatingInfo&&repeatingInfo.field==='prof_toggle'){_this2.updateSkillToggle(repeatingInfo.rowId);}if(repeatingInfo&&repeatingInfo.field!=='prof_toggle'&&repeatingInfo.field!=='ability_key'&&repeatingInfo.field!=='total'&&repeatingInfo.field!=='total_with_sign'&&repeatingInfo.field!=='passive_total'&&repeatingInfo.field!=='passive_total_with_sign'&&repeatingInfo.field!=='formula'){_this2.updateSkill(repeatingInfo.rowId);}});var updateSkillWatch=['pb','jack_of_all_trades_toggle','jack_of_all_trades','remarkable_athlete_toggle','remarkable_athlete','reliable_talent','global_check_bonus'];var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=_constants.ABILITIES[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var ability=_step10.value;updateSkillWatch.push(ability+'_check_mod');}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}updateSkillWatch=updateSkillWatch.map(function(ability){return'change:'+ability;}).join(' ');on(updateSkillWatch,function(){_this2.updateSkill();});on('change:skills_srd',function(){_this2.updateSkillsFromSRD();});on('remove:repeating_skill change:honor_toggle change:sanity_toggle',function(){_this2.updateMacro();});var initiativeWatch=['initiative_ability','initiative_bonus','jack_of_all_trades_toggle','jack_of_all_trades','remarkable_athlete_toggle','remarkable_athlete','global_check_bonus'];var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=_constants.ABILITIES[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var _ability=_step11.value;initiativeWatch.push(_ability+'_check_mod');}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}initiativeWatch=initiativeWatch.map(function(field){return'change:'+field;}).join(' ');on(initiativeWatch,function(){_this2.updateInitiative();});}}]);return AbilityChecks;}();

},{"../../scripts/constants":19,"../../scripts/utilities":21,"./ProficiencyBonus":8}],8:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.ProficiencyBonus=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ProficiencyBonus=exports.ProficiencyBonus=function(){function ProficiencyBonus(){_classCallCheck(this,ProficiencyBonus);}_createClass(ProficiencyBonus,[{key:'get',value:function get(level,challenge){var pb=2;level=(0,_utilities.getIntValue)(level);if(challenge==='1/8'||challenge==='1/4'||challenge==='1/2'){challenge=1;}else{(0,_utilities.getIntValue)(challenge);}var levelOrChallenge=Math.max(level,challenge);if((0,_utilities.exists)(levelOrChallenge)){pb+=Math.floor(Math.abs((levelOrChallenge-1)/4));}return pb;}},{key:'update',value:function update(){var _this=this;(0,_utilities.getSetItems)('proficiencyBonus.update',{collectionArray:['level','challenge','pb','exp','h_PB'],callback:function callback(v,submit){var pb=_this.get(v.level,v.challenge);submit.pb=pb;submit.exp=pb*2;submit.h_PB=pb/2;}});}},{key:'setup',value:function setup(){var _this2=this;on('change:level',function(){_this2.update();});}}]);return ProficiencyBonus;}();

},{"../../scripts/utilities":21}],9:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.SavingThrows=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../scripts/constants');var _ProficiencyBonus=require('./ProficiencyBonus');var _utilities=require('../../scripts/utilities');function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var proficiencyBonus=new _ProficiencyBonus.ProficiencyBonus();var SavingThrows=exports.SavingThrows=function(){function SavingThrows(){_classCallCheck(this,SavingThrows);}_createClass(SavingThrows,[{key:'getHighestOfAbilityScoresForSavingThrow',value:function getHighestOfAbilityScoresForSavingThrow(v,savingThrowName){var abilityName=void 0;var highestValue=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;var abilityMod=(0,_utilities.getIntValue)(v[ability+'_mod']);if((0,_utilities.exists)(v[savingThrowName+'_'+ability])&&(highestValue===0||abilityMod>highestValue)){highestValue=abilityMod;abilityName=ability;}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return abilityName;}},{key:'findHighest',value:function findHighest(arr){var highestAbility=Math.max.apply(Math,_toConsumableArray(arr.map(function(ability){return ability.score;})));return arr.find(function(ability){return ability.score===highestAbility;});}},{key:'getHighestAbilityScores',value:function getHighestAbilityScores(v,savingThrowName){var _this=this;var abilities=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var ability=_step2.value;if((0,_utilities.exists)(v[savingThrowName+'_'+ability])){abilities.push({name:ability,score:(0,_utilities.getIntValue)(v[ability+'_calculated'])});}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var highestAbilities=[];if(abilities.length>0){(function(){var highestAbilityObj=_this.findHighest(abilities);highestAbilities.push(highestAbilityObj);abilities.splice(abilities.findIndex(function(ability){return ability.name===highestAbilityObj.name;}),1);})();}if(abilities.length>0){var secondHighestAbilityObj=this.findHighest(abilities);highestAbilities.push(secondHighestAbilityObj);}return highestAbilities;}},{key:'getAverageOfHighestAbilityScoresForSavingThrow',value:function getAverageOfHighestAbilityScoresForSavingThrow(v,savingThrowName){var obj={abilitiesUsed:[]};var sum=0;var highestAbilities=this.getHighestAbilityScores(v,savingThrowName);var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=highestAbilities[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var ability=_step3.value;obj.abilitiesUsed.push((0,_utilities.getAbilityShortName)(ability.name));sum+=(0,_utilities.getIntValue)(v[ability.name+'_calculated']);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}if(obj.abilitiesUsed.length>0){obj.avg=(0,_utilities.getAbilityMod)(sum/obj.abilitiesUsed.length);}return obj;}},{key:'setCustomSaveProf',value:function setCustomSaveProf(v,submit,savingThrowName){var pbVar='@{PB}';var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=_constants.ABILITIES[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var ability=_step4.value;if((0,_utilities.exists)(v[savingThrowName+'_'+ability])&&v[ability+'_save_prof']===pbVar&&!(0,_utilities.exists)(v[savingThrowName+'_save_prof'])){submit[savingThrowName+'_save_prof']=pbVar;}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}},{key:'update',value:function update(savingThrowName){var _this2=this;var collectionArray=['pb',savingThrowName+'_save_prof',savingThrowName+'_save_bonus',savingThrowName+'_saving_throw_mod',savingThrowName+'_saving_throw_mod_with_sign','global_saving_throw_bonus','saving_throws_half_proficiency','average_of_abilities'];var customSavingThrow=_constants.CUSTOM_SAVING_THROWS.indexOf(savingThrowName)!==-1;var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=_constants.ABILITIES[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var ability=_step5.value;collectionArray.push(ability+'_calculated');collectionArray.push(ability+'_mod');if(customSavingThrow){collectionArray.push(ability+'_save_prof');collectionArray.push(savingThrowName+'_'+ability);}}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}(0,_utilities.getSetItems)('savingThrows.update',{collectionArray:collectionArray,callback:function callback(v,submit){var total=0;var totalFormula='';var ability=void 0;if(customSavingThrow){if((0,_utilities.exists)(v.average_of_abilities)){var obj=_this2.getAverageOfHighestAbilityScoresForSavingThrow(v,savingThrowName);if(obj.avg){total=obj.avg;totalFormula=obj.avg+'['+obj.abilitiesUsed.join(' ')+' '+getTranslationByKey('AVG').toLowerCase()+']';}}else{ability=_this2.getHighestOfAbilityScoresForSavingThrow(v,savingThrowName);}_this2.setCustomSaveProf(v,submit,savingThrowName);}else{ability=savingThrowName;}if(ability){var abilityMod=(0,_utilities.getIntValue)(v[ability+'_mod']);total=abilityMod;}var pb=(0,_utilities.getIntValue)(v.pb);if(v[savingThrowName+'_save_prof']==='@{PB}'){total+=pb;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,pb)+'['+getTranslationByKey('PROFICIENT').toLowerCase()+']';}else if(v.saving_throws_half_proficiency==='on'){var halfPB=Math.floor(pb/2);total+=halfPB;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,halfPB)+'['+getTranslationByKey('HALF_PROFICIENCY').toLowerCase()+']';}var abilitySavingThrowBonus=(0,_utilities.getIntValue)(v[savingThrowName+'_save_bonus']);if(abilitySavingThrowBonus){total+=abilitySavingThrowBonus;totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,abilitySavingThrowBonus)+'['+(0,_utilities.getAbilityShortName)(ability)+' '+getTranslationByKey('SAVING_THROW_BONUS').toLowerCase()+']';}var globalSavingThrowBonus=v.global_saving_throw_bonus;if((0,_utilities.exists)(globalSavingThrowBonus)){if(!isNaN(globalSavingThrowBonus)){total+=(0,_utilities.getIntValue)(globalSavingThrowBonus);}totalFormula+=(0,_utilities.addArithmeticOperator)(totalFormula,globalSavingThrowBonus)+'['+getTranslationByKey('GLOBAL_SAVING_THROW_BONUS').toLowerCase()+']';}submit[savingThrowName+'_saving_throw_mod']=totalFormula;submit[savingThrowName+'_saving_throw_mod_with_sign']=(0,_utilities.showSign)(total);},setFinalAttrsCallback:function setFinalAttrsCallback(){_this2.updateMacro();}});}},{key:'updateMacro',value:function updateMacro(){var collectionArray=['saving_throw_macro_var','saving_throw_query_var','use_custom_saving_throws','honor_toggle','sanity_toggle'];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=_constants.CUSTOM_SAVING_THROWS[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var customSavingThrow=_step6.value;collectionArray.push(customSavingThrow+'_saving_throw_mod_with_sign');}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=_constants.ABILITIES[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var ability=_step7.value;collectionArray.push(ability+'_saving_throw_mod_with_sign');}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}(0,_utilities.getSetItems)('savingThrows.updateMacro',{collectionArray:collectionArray,callback:function callback(v,submit){var macroArray=[];var queryArray=[];if((0,_utilities.exists)(v.use_custom_saving_throws)){var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=_constants.CUSTOM_SAVING_THROWS[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var customSavingThrow=_step8.value;var total=v[customSavingThrow+'_saving_throw_mod_with_sign']||'+0';macroArray.push('[^{'+customSavingThrow.toUpperCase()+'} '+total+'](~shaped_'+customSavingThrow+'_saving_throw)');queryArray.push((0,_utilities.capitalize)(customSavingThrow)+' '+total+',{{title='+getTranslationByKey(customSavingThrow.toUpperCase())+' '+getTranslationByKey('SAVE')+'&#125;&#125; {{roll1=[[@{shaped_d20}@{d20_mod} + @{'+customSavingThrow+'_formula} + @{'+customSavingThrow+'_saving_throw_mod}]]&#125;&#125; {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{'+customSavingThrow+'_formula} + @{'+customSavingThrow+'_saving_throw_mod}]]&#125;&#125;');}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}else{var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=_constants.ABILITIES[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var ability=_step9.value;if(ability==='honor'&&(0,_utilities.getIntValue)(v.honor_toggle)!==1||ability==='sanity'&&(0,_utilities.getIntValue)(v.sanity_toggle)!==1){continue;}var _total=v[ability+'_saving_throw_mod_with_sign']||'+0';macroArray.push('[^{'+ability.toUpperCase()+'} '+_total+'](~shaped_'+ability+'_saving_throw)');queryArray.push((0,_utilities.capitalize)(ability)+' '+_total+',{{title='+getTranslationByKey(ability.toUpperCase())+' '+getTranslationByKey('SAVE')+'&#125;&#125; {{roll1=[[@{shaped_d20}@{d20_mod} + @{'+ability+'_formula} + @{'+ability+'_saving_throw_mod}]]&#125;&#125; {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{'+ability+'_formula} + @{'+ability+'_saving_throw_mod}]]&#125;&#125;');}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}macroArray.push('[^{DEATH} +0](~shaped_death_saving_throw)');queryArray.push(getTranslationByKey('DEATH')+' +0, {{title='+getTranslationByKey('DEATH')+' '+getTranslationByKey('SAVE')+'&#125;&#125; {{roll1=[[@{shaped_d20}@{d20_mod} + @{death_saving_throw_prof}['+getTranslationByKey('PROFICIENT').toLowerCase()+']]]&#125;&#125; {{@{roll_setting}=[[@{shaped_d20}@{d20_mod} + @{death_saving_throw_prof}['+getTranslationByKey('PROFICIENT').toLowerCase()+']]]&#125;&#125;');submit.saving_throw_macro_var=macroArray.join(', ');submit.saving_throw_query_var='?{Saving Throw|'+queryArray.join('|')+'}';}});}},{key:'updateCustomSavingThrows',value:function updateCustomSavingThrows(){var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=_constants.CUSTOM_SAVING_THROWS[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var customSavingThrow=_step10.value;this.update(customSavingThrow);}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}}},{key:'updateSavingThrows',value:function updateSavingThrows(){var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=_constants.ABILITIES[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var ability=_step11.value;this.update(ability);}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}this.updateCustomSavingThrows();}},{key:'updateFromSRD',value:function updateFromSRD(checkedSavingThrowSRDCount){var _this3=this;var collectionArray=['level','challenge','saving_throws_srd','global_ability_bonus'];if(!checkedSavingThrowSRDCount){checkedSavingThrowSRDCount=0;}var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=_constants.ABILITIES[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var ability=_step12.value;collectionArray.push(''+ability);collectionArray.push(ability+'_bonus');collectionArray.push(ability+'_save_prof');collectionArray.push(ability+'_save_bonus');}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}(0,_utilities.getSetItems)('savingThrows.updateFromSRD',{collectionArray:collectionArray,callback:function callback(v,submit){if(v.pb===2&&checkedSavingThrowSRDCount<50){checkedSavingThrowSRDCount+=1;_this3.updateFromSRD(checkedSavingThrowSRDCount);return;}var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=_constants.ABILITIES[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var ability=_step13.value;var shortAbility=(0,_utilities.getAbilityShortName)(ability,true);if(v.saving_throws_srd&&v.saving_throws_srd.indexOf(shortAbility)!==-1){submit[ability+'_save_prof']='@{PB}';var regex=new RegExp(shortAbility+'\\s?\\+(\\d+)','i');var match=v.saving_throws_srd.match(regex);if(match&&match[1]){var abilityScore=(0,_utilities.getIntValue)(v[ability]);var abilityBonus=(0,_utilities.getIntValue)(v[ability+'_bonus']);var globalAbilityBonus=(0,_utilities.getIntValue)(v.global_ability_bonus);var pb=proficiencyBonus.get(v.level,v.challenge);var abilityMod=(0,_utilities.getAbilityMod)(abilityScore+abilityBonus+globalAbilityBonus);var savingThrowValue=(0,_utilities.getIntValue)(match[1])-pb-abilityMod;if(savingThrowValue!==0){submit[ability+'_save_bonus']=savingThrowValue;}}}}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}}});}},{key:'watchAbilityChanges',value:function watchAbilityChanges(){var _this4=this;var classFeatureWatch=[];var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=_constants.ABILITIES[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var ability=_step14.value;classFeatureWatch.push('change:'+ability);classFeatureWatch.push('change:'+ability+'_mod');}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14.return){_iterator14.return();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}on(classFeatureWatch.join(' '),function(){_this4.updateCustomSavingThrows();});}},{key:'setup',value:function setup(){var _this5=this;var _iteratorNormalCompletion15=true;var _didIteratorError15=false;var _iteratorError15=undefined;try{var _loop=function _loop(){var ability=_step15.value;on('change:'+ability+'_mod change:'+ability+'_save_prof change:'+ability+'_save_bonus',function(){_this5.update(ability);});};for(var _iterator15=_constants.ABILITIES[Symbol.iterator](),_step15;!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=true){_loop();}}catch(err){_didIteratorError15=true;_iteratorError15=err;}finally{try{if(!_iteratorNormalCompletion15&&_iterator15.return){_iterator15.return();}}finally{if(_didIteratorError15){throw _iteratorError15;}}}var _iteratorNormalCompletion16=true;var _didIteratorError16=false;var _iteratorError16=undefined;try{var _loop2=function _loop2(){var customSavingThrow=_step16.value;var savingThrowWatch=[customSavingThrow+'_save_prof',customSavingThrow+'_save_bonus','average_of_abilities'];var _iteratorNormalCompletion17=true;var _didIteratorError17=false;var _iteratorError17=undefined;try{for(var _iterator17=_constants.ABILITIES[Symbol.iterator](),_step17;!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=true){var _ability=_step17.value;savingThrowWatch.push(customSavingThrow+'_'+_ability);}}catch(err){_didIteratorError17=true;_iteratorError17=err;}finally{try{if(!_iteratorNormalCompletion17&&_iterator17.return){_iterator17.return();}}finally{if(_didIteratorError17){throw _iteratorError17;}}}savingThrowWatch=savingThrowWatch.map(function(savingThrow){return'change:'+savingThrow;}).join(' ');on(savingThrowWatch,function(){_this5.update(customSavingThrow);});};for(var _iterator16=_constants.CUSTOM_SAVING_THROWS[Symbol.iterator](),_step16;!(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done);_iteratorNormalCompletion16=true){_loop2();}}catch(err){_didIteratorError16=true;_iteratorError16=err;}finally{try{if(!_iteratorNormalCompletion16&&_iterator16.return){_iterator16.return();}}finally{if(_didIteratorError16){throw _iteratorError16;}}}on('change:pb change:global_saving_throw_bonus change:saving_throws_half_proficiency',function(){_this5.updateSavingThrows();});on('change:use_custom_saving_throws change:honor_toggle change:sanity_toggle',function(){_this5.updateMacro();});on('change:saving_throws_srd',function(){_this5.updateFromSRD();});this.watchAbilityChanges();}}]);return SavingThrows;}();

},{"../../scripts/constants":19,"../../scripts/utilities":21,"./ProficiencyBonus":8}],10:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Features=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Traits=require('../../../traits/Traits');var _utilities=require('../../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var traits=new _Traits.Traits();var Features=exports.Features=function(){function Features(){_classCallCheck(this,Features);}_createClass(Features,[{key:'updateJackOfAllTrades',value:function updateJackOfAllTrades(){(0,_utilities.getSetItems)('features.updateJackOfAllTrades',{collectionArray:['pb','jack_of_all_trades'],callback:function callback(v,submit){submit.jack_of_all_trades=Math.floor((0,_utilities.getIntValue)(v.pb)/2);if(v.jack_of_all_trades_toggle==='@{jack_of_all_trades}'){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_JACK_OF_ALL_TRADES_TEXT'),name:getTranslationByKey('CLASS_FEATURE_JACK_OF_ALL_TRADES'),storageName:'Jack of All Trades'});}else{traits.remove('Jack of All Trades');}}});}},{key:'updateRemarkableAthlete',value:function updateRemarkableAthlete(){(0,_utilities.getSetItems)('features.updateRemarkableAthlete',{collectionArray:['pb','remarkable_athlete'],callback:function callback(v,submit){submit.remarkable_athlete=Math.ceil((0,_utilities.getIntValue)(v.pb)/2);}});}},{key:'updateD20Mod',value:function updateD20Mod(){(0,_utilities.getSetItems)('features.updateD20Mod',{collectionArray:['halfling_luck'],callback:function callback(v,submit){if(v.halfling_luck==='on'){submit.d20_mod='ro<1';}else{submit.d20_mod='';}}});}},{key:'updateCarefulSpell',value:function updateCarefulSpell(){(0,_utilities.getSetItems)('features.updateCarefulSpell',{collectionArray:['careful_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.careful_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_CAREFUL_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_CAREFUL_SPELL'),storageName:'Careful Spell'});}else{traits.remove('Careful Spell');}}});}},{key:'updateDistantSpell',value:function updateDistantSpell(){(0,_utilities.getSetItems)('features.updateDistantSpell',{collectionArray:['distant_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.distant_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_DISTANT_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_DISTANT_SPELL'),storageName:'Distant Spell'});}else{traits.remove('Distant Spell');}}});}},{key:'updateEmpoweredSpell',value:function updateEmpoweredSpell(){(0,_utilities.getSetItems)('features.updateEmpoweredSpell',{collectionArray:['empowered_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.empowered_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_EMPOWERED_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_EMPOWERED_SPELL'),storageName:'Empowered Spell'});}else{traits.remove('Empowered Spell');}}});}},{key:'updateExtendedSpell',value:function updateExtendedSpell(){(0,_utilities.getSetItems)('features.updateExtendedSpell',{collectionArray:['extended_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.extended_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_EXTENDED_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_EXTENDED_SPELL'),storageName:'Extended Spell'});}else{traits.remove('Extended Spell');}}});}},{key:'updateHeightenedSpell',value:function updateHeightenedSpell(){(0,_utilities.getSetItems)('features.updateHeightenedSpell',{collectionArray:['heightened_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.heightened_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_HEIGHTENED_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_HEIGHTENED_SPELL'),storageName:'Heightened Spell'});}else{traits.remove('Heightened Spell');}}});}},{key:'updateQuickenedSpell',value:function updateQuickenedSpell(){(0,_utilities.getSetItems)('features.updateQuickenedSpell',{collectionArray:['quickened_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.quickened_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_QUICKENED_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_QUICKENED_SPELL'),storageName:'Quickened Spell'});}else{traits.remove('Quickened Spell');}}});}},{key:'updateSubtleSpell',value:function updateSubtleSpell(){(0,_utilities.getSetItems)('features.updateSubtleSpell',{collectionArray:['subtle_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.subtle_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_SUBTLE_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_SUBTLE_SPELL'),storageName:'Subtle Spell'});}else{traits.remove('Subtle Spell');}}});}},{key:'updateTwinnedSpell',value:function updateTwinnedSpell(){(0,_utilities.getSetItems)('features.updateTwinnedSpell',{collectionArray:['twinned_spell_toggle'],callback:function callback(v){if((0,_utilities.exists)(v.twinned_spell_toggle)){traits.set({freetext:getTranslationByKey('CLASS_FEATURE_METAMAGIC_TWINNED_SPELL_TEXT'),name:getTranslationByKey('CLASS_FEATURE_METAMAGIC_TWINNED_SPELL'),storageName:'Twinned Spell'});}else{traits.remove('Twinned Spell');}}});}},{key:'setup',value:function setup(){var _this=this;on('change:pb change:jack_of_all_trades_toggle',function(){_this.updateJackOfAllTrades();});on('change:pb change:remarkable_athlete_toggle',function(){_this.updateRemarkableAthlete();});on('change:halfling_luck',function(){_this.updateD20Mod();});on('change:careful_spell_toggle',function(){_this.updateCarefulSpell();});on('change:distant_spell_toggle',function(){_this.updateDistantSpell();});on('change:empowered_spell_toggle',function(){_this.updateEmpoweredSpell();});on('change:extended_spell_toggle',function(){_this.updateExtendedSpell();});on('change:heightened_spell_toggle',function(){_this.updateHeightenedSpell();});on('change:quickened_spell_toggle',function(){_this.updateQuickenedSpell();});on('change:subtle_spell_toggle',function(){_this.updateSubtleSpell();});on('change:twinned_spell_toggle',function(){_this.updateTwinnedSpell();});}}]);return Features;}();

},{"../../../scripts/utilities":21,"../../../traits/Traits":28}],11:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Header=exports.Header=function(){function Header(){_classCallCheck(this,Header);}_createClass(Header,[{key:'updateAlignment',value:function updateAlignment(){(0,_utilities.getSetItems)('header.updateAlignment',{collectionArray:['alignment','is_npc'],callback:function callback(v,submit){if(v.alignment&&(0,_utilities.isNpc)(v)){submit.alignment=v.alignment.toLowerCase();}}});}},{key:'setup',value:function setup(){var _this=this;on('change:alignment',function(){_this.updateAlignment();});}}]);return Header;}();

},{"../scripts/utilities":21}],12:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Npc=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../scripts/constants');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Npc=exports.Npc=function(){function Npc(){_classCallCheck(this,Npc);}_createClass(Npc,[{key:'updateType',value:function updateType(){(0,_utilities.getSetItems)('npc.updateType',{collectionArray:['type'],callback:function callback(v,submit){if(v.type){submit.type=v.type.toLowerCase();}}});}},{key:'updateSize',value:function updateSize(){(0,_utilities.getSetItems)('npc.updateSize',{collectionArray:['size'],callback:function callback(v,submit){var creatureSize='LARGE';if(v.size){creatureSize=v.size.toUpperCase();}submit.size=creatureSize;var sizeToHdSize={TINY:4,SMALL:6,MEDIUM:8,LARGE:10,HUGE:12,GARGANTUAN:20};submit.hit_die='d'+sizeToHdSize[creatureSize];}});}},{key:'updateAC',value:function updateAC(){(0,_utilities.getSetItems)('npc.updateAC',{collectionArray:['ac_srd','ac','ac_note','dexterity_mod'],callback:function callback(v,submit){if((0,_utilities.exists)(v.ac_srd)){var match=v.ac_srd.match(/(\d+)\s?(.*)/);if(match&&match[1]){submit.AC=match[1];}if(match&&match[2]){submit.ac_note=match[2].replace(/\(|\)/g,'');}}}});}},{key:'switchTo',value:function switchTo(){(0,_utilities.getSetItems)('npc.switchTo',{collectionArray:['is_npc','size','ac_srd'],callback:function callback(v,submit){if((0,_utilities.isNpc)(v)){submit.hit_dice_output_option='/w GM';if((0,_utilities.isUndefinedOrEmpty)(v.size)){submit.size='LARGE';}if(v.ac_srd){submit.ac_srd='';}}else{submit.hit_dice_output_option='';}}});}},{key:'updateChallenge',value:function updateChallenge(){var xpPerChallenge={0:0,'1/8':25,'1/4':50,'1/2':100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5000,10:5900,11:7200,12:8400,13:10000,14:11500,15:13000,16:15000,17:18000,18:20000,19:22000,20:25000,21:33000,22:41000,23:50000,24:62000,25:75000,26:90000,27:105000,28:120000,29:135000,30:155000};(0,_utilities.getSetItems)('npc.updateChallenge',{collectionArray:['challenge','xp'],callback:function callback(v,submit){var challenge=v.challenge;submit.xp=xpPerChallenge[challenge];submit.xp_readable=(0,_utilities.numberWithCommas)(submit.xp);submit.level=challenge;if(submit.level<1){submit.level=1;}}});}},{key:'updateHPFromSRD',value:function updateHPFromSRD(){(0,_utilities.getSetItems)('npc.updateHPFromSRD',{collectionArray:['hp_srd','constitution','constitution_mod','constitution_bonus','global_ability_bonus'],callback:function callback(v,submit){if((0,_utilities.exists)(v.hp_srd)){var match=v.hp_srd.match(/\((\d+)d(\d+)(?:\s?(\+|-)\s?(\d+))?\)/i);if(!match||!match[1]||!match[2]){console.warn('Character doesn\'t have valid HP/HD format');}else{var hdNum=(0,_utilities.getIntValue)(match[1]);var conMod=(0,_utilities.getIntValue)(v.constitution_mod);if(!conMod){var conScore=(0,_utilities.getIntValue)(v.constitution);var conBonus=(0,_utilities.getIntValue)(v.constitution_bonus);var globalAbilityBonus=(0,_utilities.getIntValue)(v.global_ability_bonus);conMod=(0,_utilities.getAbilityMod)(conScore+conBonus+globalAbilityBonus);}submit.hit_dice=hdNum;submit.hit_die='d'+(0,_utilities.getIntValue)(match[2]);var hpExpectedBonus=hdNum*conMod;var hpBonusSign=match[3];var hpBonus=(0,_utilities.getIntValue)(match[4]);if(hpBonus!==hpExpectedBonus){if(hpBonusSign==='-'){submit.hp_extra=hpBonus+hpExpectedBonus;}else{submit.hp_extra=hpBonus-hpExpectedBonus;}}}}}});}},{key:'updateHP',value:function updateHP(){(0,_utilities.getSetItems)('npc.updateHP',{collectionArray:['HP','HP_max','hp_formula','hit_dice','hit_die','hp_extra','constitution_mod'],callback:function callback(v,submit){var hdNum=(0,_utilities.getIntValue)(v.hit_dice);var hdSize=(0,_utilities.getIntValue)(v.hit_die.replace('d',''));var hdAverage=hdSize/2+0.5;var hpFormula=hdNum+'d'+hdSize;var conMod=(0,_utilities.getIntValue)(v.constitution_mod);var totalHP=Math.floor(hdNum*hdAverage);var amount=void 0;if(conMod!==0){var bonusHP=hdNum*conMod;totalHP+=bonusHP;hpFormula+=(0,_utilities.addArithmeticOperator)(hpFormula,bonusHP);}if((0,_utilities.exists)(v.hp_extra)){var regex=/(?:(\+|-)\s?)?(\d+)(?:d(\d+))?/gi;var splitFormula=void 0;while((splitFormula=regex.exec(v.hp_extra))!==null){if(!splitFormula||!splitFormula[2]){console.warn('Character doesn\'t have valid hp formula');}else{amount=0;if(!splitFormula[3]){amount=(0,_utilities.getIntValue)(splitFormula[2]);}else{var extraHdNum=(0,_utilities.getIntValue)(splitFormula[2]);var extraHdSize=(0,_utilities.getIntValue)(splitFormula[3]);var extraHdAverage=extraHdSize/2+0.5;amount=Math.floor(extraHdNum*extraHdAverage);}if(!splitFormula[1]||splitFormula[1]==='+'){totalHP+=amount;hpFormula+=' + '+amount;}else if(splitFormula[1]==='-'){totalHP-=amount;hpFormula+=' - '+amount;}}v.hp_extra.toString().replace(splitFormula[0],'');}}if(totalHP){submit.HP=totalHP;submit.HP_max=totalHP;submit.hp_formula=hpFormula;}}});}},{key:'updateHD',value:function updateHD(){var hd={d20:0,d12:0,d10:0,d8:0,d6:0,d4:0,d2:0,d0:0};var collectionArray=['hit_dice','hit_die'];for(var key in hd){if(hd.hasOwnProperty(key)){collectionArray.push('hd_'+key);collectionArray.push('hd_'+key+'_max');collectionArray.push('hd_'+key+'_query');collectionArray.push('hd_'+key+'_toggle');}}(0,_utilities.getSetItems)('npc.updateHD',{collectionArray:collectionArray,callback:function callback(v,submit){var hdNum=(0,_utilities.getIntValue)(v.hit_dice);var hdSize=v.hit_die;if(hdNum&&hdSize){hd[hdSize]=hdNum;(0,_utilities.updateHD)(v,submit,hd);}}});}},{key:'parseSRDContentSection',value:function parseSRDContentSection(content,submit,title,name){var re=/@(.*)@:\s([^@]+)/gi;var match=void 0;var section=void 0;if(content&&content.indexOf(title)!==-1){var contentSplit=content.split(title+'\n');section=contentSplit[1];content=contentSplit[0];}if((0,_utilities.exists)(section)){if(name==='legendaryaction'){var legendaryActionsMatch=section.match(/Can take (\d+) Legendary Actions/i);if(legendaryActionsMatch&&legendaryActionsMatch[1]){submit.legendary_action_amount=legendaryActionsMatch[1];}}while((match=re.exec(section.replace(/\*\*/g,'@')))!==null){if(match&&match[1]&&match[2]){var repeatingString='repeating_'+name+'_'+generateRowID();submit[repeatingString+'_name']=match[1];var text=match[2].trim();if(name==='trait'){submit[repeatingString+'_display_text']=text;}submit[repeatingString+'_freetext']=text;}else{console.warn('Character doesn\'t have a valid '+name+' format');}}}return content;}},{key:'setSpellAbility',value:function setSpellAbility(v,submit){var abilityScores=[(0,_utilities.getIntValue)(v.intelligence),(0,_utilities.getIntValue)(v.wisdom),(0,_utilities.getIntValue)(v.charisma)];var highestAbilityScore=Math.max.apply(Math,abilityScores);var highestAbilityName='intelligence';if(highestAbilityScore===abilityScores[1]){highestAbilityName='wisdom';}else if(highestAbilityScore===abilityScores[2]){highestAbilityName='charisma';}submit.spell_ability=highestAbilityName.toUpperCase();}},{key:'updateContent',value:function updateContent(){var _this=this;(0,_utilities.addToProcessing)('NPC from SRD',function(){var collectionArray=['content_srd'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;collectionArray.push(ability);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}(0,_utilities.getSetItems)('npc.updateContent',{collectionArray:collectionArray,callback:function callback(v,submit){var content=v.content_srd;var regionalEffects=void 0;var lairActions=void 0;var repeatingString=void 0;_this.setSpellAbility(v,submit);if((0,_utilities.exists)(content)){if(content.indexOf('Regional Effects')!==-1){var regionalEffectsSplit=content.split(/Regional Effects\n/);regionalEffects=regionalEffectsSplit[1];content=regionalEffectsSplit[0];}if((0,_utilities.exists)(regionalEffects)){var regionalEffectsList=regionalEffects.split(/\*\*/);regionalEffectsList.slice(1,-1).forEach(function(regionalEffect){repeatingString='repeating_regionaleffect_'+generateRowID();submit[repeatingString+'_freetext']=regionalEffect.trim();});}if(content.indexOf('Lair Actions')!==-1){var lairActionsSplit=content.split(/Lair Actions\n/);lairActions=lairActionsSplit[1];content=lairActionsSplit[0];}if((0,_utilities.exists)(lairActions)){lairActions.split(/\*\*/).slice(1).forEach(function(lairAction){repeatingString='repeating_lairaction_'+generateRowID();submit[repeatingString+'_freetext']=lairAction.trim();});}content=_this.parseSRDContentSection(content,submit,'Legendary Actions','legendaryaction');content=_this.parseSRDContentSection(content,submit,'Reactions','reaction');content=_this.parseSRDContentSection(content,submit,'Actions','action');_this.parseSRDContentSection(content,submit,'Traits','trait');}}});});}},{key:'updateLanguages',value:function updateLanguages(){(0,_utilities.getSetItems)('npc.updateLanguages',{collectionArray:['languages','languages_exist','languages_chat_var'],callback:function callback(v,submit){submit.languages_exist=0;submit.languages_chat_var='';if(v.languages){submit.languages_exist=1;submit.languages_chat_var='{{Languages=@{languages}}}';}}});}},{key:'updateACNote',value:function updateACNote(){(0,_utilities.getSetItems)('npc.updateACNote',{collectionArray:['ac_note'],callback:function callback(v,submit){if(v.ac_note){submit.ac_note=v.ac_note.toLowerCase();}}});}},{key:'updateCasterLevel',value:function updateCasterLevel(){(0,_utilities.getSetItems)('npc.updateCasterLevel',{collectionArray:['spellcaster_level','caster_level'],callback:function callback(v,submit){submit.caster_level=(0,_utilities.getIntValue)(v.spellcaster_level);}});}},{key:'npcDroppedOnTabletop',value:function npcDroppedOnTabletop(){(0,_utilities.getSetItems)('npc.npcDroppedOnTabletop',{collectionArray:['is_npc','edit_mode','hp_max'].concat(_constants.SENSES),callback:function callback(v,submit){submit.is_npc=1;submit.edit_mode=0;var hp=(0,_utilities.getIntValue)(v.hp_max);var tokenProps={bar1_value:hp,bar1_max:hp,bar2_link:'AC',bar3_link:'speed',showname:true,showplayers_aura1:true,showplayers_aura2:true,light_angle:360,light_hassight:true,light_losangle:360};if(v.senses){v.senses=v.senses.toLowerCase();var radius=0;var dimRadius=void 0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.SENSES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var sense=_step2.value;if(v[sense]){var senseRange=(0,_utilities.getIntValue)(v[sense]);if(sense==='darkvision'){dimRadius=(0,_utilities.round)(-5*(senseRange/60));}if(!radius||senseRange>radius){radius=(0,_utilities.round)(senseRange*1.166666666666);}else if(senseRange<radius){dimRadius=senseRange;}}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}if(radius){tokenProps.light_radius=radius;}if(dimRadius){tokenProps.light_dimradius=dimRadius;}}setDefaultToken(tokenProps);}});}},{key:'turnOnSlotsIfItsNotSet',value:function turnOnSlotsIfItsNotSet(){(0,_utilities.getSetItems)('npc.turnOnSlotsIfItsNotSet',{collectionArray:['spellcasting','spell_slots_toggle'],callback:function callback(v,submit){if((0,_utilities.exists)(v.spellcasting)){submit.spell_slots_toggle='on';}}});}},{key:'setup',value:function setup(){var _this2=this;on('change:type',function(){_this2.updateType();});on('change:size',function(){_this2.updateSize();});on('change:ac_srd',function(){_this2.updateAC();});on('change:is_npc',function(){_this2.switchTo();});on('change:challenge',function(){_this2.updateChallenge();});on('change:hp_srd',function(){_this2.updateHPFromSRD();});on('change:hit_dice change:hit_die change:hp_extra change:constitution_mod',function(){_this2.updateHP();});on('change:hit_dice change:hit_die',function(){_this2.updateHD();});on('change:content_srd',function(){_this2.updateContent();});on('change:languages',function(){_this2.updateLanguages();});on('change:ac_note',function(){_this2.updateACNote();});on('change:spellcaster_level',function(){_this2.updateCasterLevel();});on('change:spellcasting',function(){_this2.turnOnSlotsIfItsNotSet();});on('sheet:compendium-drop',function(){_this2.npcDroppedOnTabletop();});}}]);return Npc;}();

},{"../scripts/constants":19,"../scripts/utilities":21}],13:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Actions=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../../scripts/constants');var _ProficiencyBonus=require('../../../core/leftColumn/ProficiencyBonus');var _utilities=require('../../../scripts/utilities');var _updateToggles=require('../../../actionComponents/updateToggles');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var proficiencyBonus=new _ProficiencyBonus.ProficiencyBonus();var Actions=exports.Actions=function(){function Actions(){_classCallCheck(this,Actions);}_createClass(Actions,[{key:'updateAll',value:function updateAll(){this.update('trait');this.update('action');this.update('reaction');this.update('legendaryaction');this.update('lairaction');this.update('regionaleffect');}},{key:'update',value:function update(type,rowId){var collectionArray=['pb','strength_mod','finesse_mod','global_attack_bonus','global_melee_attack_bonus','global_ranged_attack_bonus','global_damage_bonus','global_melee_damage_bonus','global_ranged_damage_bonus','base_dc','shaped_d20'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}(0,_utilities.getSetRepeatingItems)('actions.update',{repeatingItems:['repeating_'+type],collectionArray:collectionArray,collectionArrayAddItems:['name','type','cost','cost_display','uses','uses_max','has_uses','reach','range','recharge','recharge_display','roll_formula','roll_toggle','to_hit','proficiency','attack_ability','attack_bonus','saving_throw_toggle','saving_throw_ability','saving_throw_bonus','saving_throw_dc','damage_toggle','damage_formula','damage','damage_ability','damage_bonus','damage_type','damage_crit','second_damage_toggle','second_damage_formula','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','second_damage_crit','damage_string','heal_toggle','heal','heal_ability','heal_bonus','heal_query_toggle','modifiers','properties','weight','weight_system','parsed','extras_toggle','emote','freetext','freeform'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=repeatingStrings[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var repeatingString=_step2.value;if(repeatingString.indexOf('lairaction')===-1&&repeatingString.indexOf('regionaleffect')===-1&&(0,_utilities.isUndefined)(v[repeatingString+'_name'])){removeRepeatingRow(repeatingString);continue;}if(v[repeatingString+'_uses']||v[repeatingString+'_uses_max']){submit[repeatingString+'_has_uses']=1;}else if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_has_uses'])){submit[repeatingString+'_has_uses']=0;}var recharge=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_recharge');if(!(0,_utilities.isUndefinedOrEmpty)(recharge)){submit[repeatingString+'_recharge_display']=' (';if(v[repeatingString+'_uses_max']){submit[repeatingString+'_recharge_display']+=v[repeatingString+'_uses_max']+'/';}submit[repeatingString+'_recharge_display']+=getTranslationByKey(recharge)+')';}else if((0,_utilities.exists)(v[repeatingString+'_recharge_display'])){submit[repeatingString+'_recharge_display']='';}var cost=(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_cost');if(!(0,_utilities.isUndefinedOrEmpty)(cost)){submit[repeatingString+'_cost_display']=' ('+getTranslationByKey(cost)+')';}else if((0,_utilities.exists)(v[repeatingString+'_cost_display'])){submit[repeatingString+'_cost_display']='';}(0,_updateToggles.parseFromSRD)(v,submit,repeatingString);var attackOptions={};if(type!=='trait'){attackOptions={globalAttackBonus:v.global_attack_bonus,globalAttackBonusLabel:'global attack bonus',globalMeleeAttackBonus:v.global_melee_attack_bonus,globalRangedAttackBonus:v.global_ranged_attack_bonus,type:'attack'};}(0,_updateToggles.updateAttackToggle)(v,submit,repeatingString,attackOptions);(0,_updateToggles.updateSavingThrowToggle)(v,submit,repeatingString);var damageOptions={};if(type!=='trait'){damageOptions={globalDamageBonus:v.global_damage_bonus,globalMeleeDamageBonus:v.global_melee_damage_bonus,globalRangedDamageBonus:v.global_ranged_damage_bonus,type:'attack'};}(0,_updateToggles.updateDamageToggle)(v,submit,repeatingString,damageOptions);if(v.damage_type){submit.damage_type=(0,_utilities.lowercaseDamageTypes)(v.damage_type);}if(v.second_damage_type){submit.second_damage_type=(0,_utilities.lowercaseDamageTypes)(v.second_damage_type);}(0,_utilities.setCritDamage)(v,submit,repeatingString);(0,_updateToggles.updateHealToggle)(v,submit,repeatingString);(0,_updateToggles.updateExtrasToggle)(v,submit,repeatingString);}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}});}},{key:'updateChatMacro',value:function updateChatMacro(type){(0,_utilities.getSetRepeatingItems)('actions.updateChatMacro',{repeatingItems:['repeating_'+type],collectionArray:[type+'s_macro_var',type+'s_chat_var',type+'s_exist'],collectionArrayAddItems:['name','freetext','recharge_display','cost_display'],callback:function callback(v,submit,repeatingStrings){submit[type+'s_macro_var']='';submit[type+'s_chat_var']='';var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;var actionName=v[repeatingString+'_name'];if(repeatingString!==repeatingStrings[0]){submit[type+'s_macro_var']+=', ';}var actionType='action';var title=void 0;if(type==='trait'){title='Traits';actionType='trait';}else if(type==='action'){title='Actions';}else if(type==='reaction'){title='Reactions';}else if(type==='legendaryaction'){title='Legendary Actions';}else if(type==='lairaction'){title='Lair Actions';actionName=v[repeatingString+'_freetext'];}else if(type==='regionaleffect'){title='Regional Effects';actionName=v[repeatingString+'_freetext'];}if(actionName&&actionName.length>50){actionName=actionName.substring(0,50)+'...';}if(v[repeatingString+'_recharge_display']||v[repeatingString+'_cost_display']){if(v[repeatingString+'_recharge_display']){actionName+=v[repeatingString+'_recharge_display'];}if(v[repeatingString+'_cost_display']){actionName+=v[repeatingString+'_cost_display'];}}submit[type+'s_macro_var']+='['+actionName+'](~'+repeatingString+'_'+actionType+')';submit[type+'s_chat_var']+='{{'+title+'='+submit[type+'s_macro_var']+'}}';}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'findClosest',value:function findClosest(array,goal){return array.reduce(function(prev,curr){return Math.abs(curr-goal)<Math.abs(prev-goal)?curr:prev;});}},{key:'getCorrectAbilityBasedOnBonus',value:function getCorrectAbilityBasedOnBonus(submit,repeatingString,fieldName,bonus,abilities,spellAttack,rangedAttack){var meleeMods=[abilities.str,abilities.dex];var spellMods=[abilities.int,abilities.wis,abilities.cha];var closest=void 0;if(bonus){if(spellAttack){closest=this.findClosest(spellMods,bonus);bonus-=closest;if(closest===spellMods[0]){submit[repeatingString+'_'+fieldName]='intelligence';}else if(closest===spellMods[1]){submit[repeatingString+'_'+fieldName]='wisdom';}else if(closest===spellMods[2]){submit[repeatingString+'_'+fieldName]='charisma';}}else if(rangedAttack){submit[repeatingString+'_attack_ability']='dexterity';bonus-=abilities.dex;}else{closest=this.findClosest(meleeMods,bonus);bonus-=closest;if(closest===meleeMods[0]){submit[repeatingString+'_'+fieldName]='strength';}else if(closest===meleeMods[1]){submit[repeatingString+'_'+fieldName]='dexterity';}}}else{submit[repeatingString+'_'+fieldName]=0;}return bonus;}},{key:'getAnyCorrectAbilityBasedOnBonus',value:function getAnyCorrectAbilityBasedOnBonus(submit,repeatingString,fieldName,bonus,abilities){var abilityMods=Object.values(abilities);var closest=this.findClosest(abilityMods,bonus);if(bonus){bonus-=closest;if(closest===abilityMods[0]){submit[repeatingString+'_'+fieldName]='strength';}else if(closest===abilityMods[1]){submit[repeatingString+'_'+fieldName]='dexterity';}else if(closest===abilityMods[2]){submit[repeatingString+'_'+fieldName]='constitution';}else if(closest===abilityMods[3]){submit[repeatingString+'_'+fieldName]='intelligence';}else if(closest===abilityMods[4]){submit[repeatingString+'_'+fieldName]='wisdom';}else if(closest===abilityMods[5]){submit[repeatingString+'_'+fieldName]='charisma';}}else{submit[repeatingString+'_'+fieldName]=0;}return bonus;}},{key:'parseReachAndRange',value:function parseReachAndRange(v,submit,repeatingString){var reachRegex=/(?:reach)\s?(\d+)\s?(?:ft)/gi;var rangeRegex=/(?:range)\s?(\d+)\/(\d+)\s?(ft)/gi;var reach=reachRegex.exec(v[repeatingString+'_freetext']);if(reach&&reach[1]){submit[repeatingString+'_reach']=reach[1]+'ft.';v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(reachRegex,'');}var range=rangeRegex.exec(v[repeatingString+'_freetext']);if(range&&range[1]&&range[2]){submit[repeatingString+'_range']=range[1]+'ft.';v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(rangeRegex,'');}}},{key:'parseToHit',value:function parseToHit(v,submit,repeatingString,abilities,spellAttack,rangedAttack){var toHitRegex=/:\s?\+\s?(\d+)\s*(?:to hit)/gi;var toHit=toHitRegex.exec(v[repeatingString+'_freetext']);if(toHit&&toHit[1]){var hitBonus=toHit[1];hitBonus-=proficiencyBonus.get(v.level,v.challenge);hitBonus=this.getCorrectAbilityBasedOnBonus(submit,repeatingString,'attack_ability',hitBonus,abilities,spellAttack,rangedAttack);if(hitBonus){submit[repeatingString+'_attack_bonus']=hitBonus;}v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(toHitRegex,'');submit[repeatingString+'_roll_toggle']=1;}}},{key:'parseSavingThrow',value:function parseSavingThrow(v,submit,repeatingString,abilities){var savingThrowRe=/(?:DC)\s*?(\d+)\s*?([a-zA-Z]*)\s*?(?:saving throw)/;var saveSuccess=/or\s(.*)?\son a successful one./;var savingThrowRegex=new RegExp(savingThrowRe.source,'i');var saveSuccessRegex=new RegExp(saveSuccess.source,'i');var savingThrow=savingThrowRegex.exec(v[repeatingString+'_freetext']);if(savingThrow){if(savingThrow[1]){var savingThrowTotal=savingThrow[1];savingThrowTotal-=8;savingThrowTotal-=proficiencyBonus.get(v.level,v.challenge);savingThrowTotal=this.getAnyCorrectAbilityBasedOnBonus(submit,repeatingString,'saving_throw_ability',savingThrowTotal,abilities);if(savingThrowTotal){submit[repeatingString+'_saving_throw_bonus']=savingThrowTotal;}v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(savingThrowRegex,'');submit[repeatingString+'_saving_throw_toggle']=1;}if(savingThrow[2]){submit[repeatingString+'_saving_throw_vs_ability']=savingThrow[2].toUpperCase();}var halfDamage=saveSuccessRegex.exec(v[repeatingString+'_freetext']);if(halfDamage&&halfDamage[1]){submit[repeatingString+'_saving_throw_success']=halfDamage[1];v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(saveSuccessRegex,'');}}}},{key:'parseDamage',value:function parseDamage(v,submit,repeatingString,regex,name,abilities,spellAttack,rangedAttack){var damageParseRegex=/(\d+d?\d+)(?:\s?(?:\+|-)\s?(\d+))?/gi;var damage=regex.exec(v[repeatingString+'_freetext']);var damageBonus=void 0;if(damage){if(damage[1]){var damageParsed=damageParseRegex.exec(damage[1]);if(damageParsed){if(damageParsed[1]){submit[repeatingString+'_'+name]=damageParsed[1];}if(damageParsed[2]){damageBonus=damageParsed[2];}}}damageBonus=this.getCorrectAbilityBasedOnBonus(submit,repeatingString,name+'_ability',damageBonus,abilities,spellAttack,rangedAttack);if(damage[2]){submit[repeatingString+'_'+name+'_type']=damage[2];}if(damageBonus){submit[repeatingString+'_'+name+'_bonus']=damageBonus;}v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(regex,'');submit[repeatingString+'_'+name+'_toggle']=1;}}},{key:'parseSpellcastingAbilityFromTraits',value:function parseSpellcastingAbilityFromTraits(v,submit,repeatingString){var spellcastingAbilityRegex=/spellcasting ability is (\w+)/i;var spellcastingAbilityRegexSecond=/uses (\w+) as (her|his) spellcasting ability/i;var spellcastingSearch=spellcastingAbilityRegex.exec(v[repeatingString+'_freetext']);if(spellcastingSearch&&spellcastingSearch[1]){submit.spell_ability=spellcastingSearch[1].toUpperCase();}else{var spellcastingSearchSecond=spellcastingAbilityRegexSecond.exec(v[repeatingString+'_freetext']);if(spellcastingSearchSecond&&spellcastingSearchSecond[1]){submit.spell_ability=spellcastingSearchSecond[1].toUpperCase();}}}},{key:'parseSpellsPerLevel',value:function parseSpellsPerLevel(spellsToParseObj){var collectionArray=[];var repeatingItems=[];for(var level in spellsToParseObj){if(spellsToParseObj.hasOwnProperty(level)){repeatingItems.push('repeating_spell'+level);collectionArray.push('spell_slots_l'+level+'_bonus');}}(0,_utilities.getSetRepeatingItems)('actions.parseSpellsPerLevel',{repeatingItems:repeatingItems,collectionArray:collectionArray,collectionArrayAddItems:['name'],callback:function callback(v,submit,repeatingStrings){var listOfSpells=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;listOfSpells.push(v[repeatingString+'_name'].toLowerCase());}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}for(var _level in spellsToParseObj){if(spellsToParseObj.hasOwnProperty(_level)){if(spellsToParseObj[_level].hasOwnProperty('bonusSlots')){submit['spell_slots_l'+_level+'_bonus']=spellsToParseObj[_level].bonusSlots;}var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=spellsToParseObj[_level].spells.split(',')[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var spell=_step5.value;spell=spell.trim();if(listOfSpells.indexOf(spell)===-1){var repeatingStringNew='repeating_spell'+_level+'_'+generateRowID();submit[repeatingStringNew+'_name']=spell;submit[repeatingStringNew+'_spell_level']=(0,_utilities.ordinalSpellLevel)(_level);submit[repeatingStringNew+'_toggle_details']=0;}}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}}}});}},{key:'parseSpellcastingFromTraits',value:function parseSpellcastingFromTraits(v,submit,repeatingString){submit.spell_slots_toggle='on';submit.spellcasting=1;var cantripsRegex=/Cantrips.*:\s(.*)/gi;var spellcastingRegex=/(\d+)\w+\slevel\s\((\d+)\s?slot(?:s)?\):?\s?(.*)/gi;var spellcastingLevelRegex=/(\d+)(?:st|dn|rd|th)-level spellcaster/i;var spellcastingClassRegex=/following (\w+) spells prepared/i;var spellcastingClassRegexSecond=/following spells prepared from the (\w+) list/i;var spellsToParseObj={};var cantripsSearch=cantripsRegex.exec(v[repeatingString+'_freetext']);if(cantripsSearch&&cantripsSearch[1]){spellsToParseObj[0]={spells:cantripsSearch[1]};}var match=void 0;while((match=spellcastingRegex.exec(v[repeatingString+'_freetext']))!==null){if(match&&match[1]&&match[2]&&match[3]){spellsToParseObj[match[1]]={bonusSlots:match[2],spells:match[3]};}}if(Object.keys(spellsToParseObj).length>0){this.parseSpellsPerLevel(spellsToParseObj);}var spellcastingLevelSearch=spellcastingLevelRegex.exec(v[repeatingString+'_freetext']);if(spellcastingLevelSearch&&spellcastingLevelSearch[1]){submit.caster_level=spellcastingLevelSearch[1];submit.spellcaster_level=(0,_utilities.ordinalSpellLevel)(spellcastingLevelSearch[1]);}var spellcastingClassSearch=spellcastingClassRegex.exec(v[repeatingString+'_freetext']);if(spellcastingClassSearch&&spellcastingClassSearch[1]){submit.spellcasting_class=spellcastingClassSearch[1].toUpperCase();}else{var spellcastingClassSearchSecond=spellcastingClassRegexSecond.exec(v[repeatingString+'_freetext']);if(spellcastingClassSearchSecond&&spellcastingClassSearchSecond[1]){submit.spellcasting_class=spellcastingClassSearchSecond[1].toUpperCase();}}}},{key:'parseInnateSpellcastingFromTraits',value:function parseInnateSpellcastingFromTraits(v,submit,repeatingString){submit.innate_spellcasting=1;var innateSpellsRegex=/(?:At will|each):\s(.*)/gi;var innateSpellcastingComponentRegex=/(.*requiring no material components:)/i;var innateSpellcastingComponentRegexSecond=/(.*requiring only verbal components:)/i;var spellsToParseObj={0:{spells:''},1:{spells:''},2:{spells:''},3:{spells:''},4:{spells:''},5:{spells:''},6:{spells:''},7:{spells:''},8:{spells:''},9:{spells:''}};var match=void 0;while((match=innateSpellsRegex.exec(v[repeatingString+'_freetext']))!==null){if(match&&match[1]){spellsToParseObj[0].spells+=', '+match[1];}}if(Object.keys(spellsToParseObj).length>0){this.parseSpellsPerLevel(spellsToParseObj);}var innateSpellcastingComponentSearch=innateSpellcastingComponentRegex.exec(v[repeatingString+'_freetext']);if(innateSpellcastingComponentSearch){submit.innate_spellcasting_components='INNATE_SPELLCASTING_NO_MATERIAL';if(innateSpellcastingComponentSearch[1]){submit.innate_spellcasting_blurb=v[repeatingString+'_freetext'].replace(innateSpellcastingComponentSearch[1],'').trim();}}else{var innateSpellcastingComponentSearchSecond=innateSpellcastingComponentRegexSecond.exec(v[repeatingString+'_freetext']);if(innateSpellcastingComponentSearchSecond){submit.innate_spellcasting_components='INNATE_SPELLCASTING_ONLY_VERBAL';if(innateSpellcastingComponentSearchSecond[1]){submit.innate_spellcasting_blurb=v[repeatingString+'_freetext'].replace(innateSpellcastingComponentSearchSecond[1],'').trim();}}}}},{key:'parse',value:function parse(type,rowId){var _this=this;var collectionArray=['level','challenge','global_attack_bonus','global_melee_attack_bonus','global_ranged_attack_bonus','global_damage_bonus','global_melee_damage_bonus','global_ranged_damage_bonus','spellcasting_class','innate_spellcasting','spellcasting'];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=_constants.ABILITIES[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var ability=_step6.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}var damageSyntax=/(?:(\d+d?\d+(?:\s?(?:\+|-)\s?\d+)?)(?:\))?)\s*?/;var damageType=/((?:[a-zA-Z]+|[a-zA-Z]+\s(?:or|and)\s[a-zA-Z]+)(?:\s*?\([a-zA-Z\s]+\))?)\s*damage\s?(\([a-zA-Z'\s]+\))?/;var altDamageSyntax=/(?:,\s*?or\s*?)/;var plus=/\s*?plus\s*?/;var damageRegex=new RegExp(damageSyntax.source+damageType.source,'i');var damagePlusRegex=new RegExp(plus.source+damageSyntax.source+damageType.source,'i');var altDamageRegex=new RegExp(altDamageSyntax.source+damageSyntax.source+damageType.source,'i');var deleteItem=false;(0,_utilities.getSetRepeatingItems)('actions.parse',{repeatingItems:['repeating_'+type],collectionArray:collectionArray,collectionArrayAddItems:['name','freetext','type','extras_toggle','toggle_details'],rowId:rowId,callback:function callback(v,submit,repeatingStrings){var abilities={str:(0,_utilities.getIntValue)(v.strength_mod),dex:(0,_utilities.getIntValue)(v.dexterity_mod),con:(0,_utilities.getIntValue)(v.constitution_mod),int:(0,_utilities.getIntValue)(v.intelligence_mod),wis:(0,_utilities.getIntValue)(v.wisdom_mod),cha:(0,_utilities.getIntValue)(v.charisma_mod)};var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=repeatingStrings[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var repeatingString=_step7.value;var rangedAttack=false;var spellAttack=false;var name=v[repeatingString+'_name'];if(type!=='lairaction'&&type!=='regionaleffect'&&(0,_utilities.isUndefined)(name)){deleteItem=true;removeRepeatingRow(repeatingString);continue;}if(name&&name.indexOf('Spellcasting')!==-1){_this.parseSpellcastingAbilityFromTraits(v,submit,repeatingString);submit.show_spells=1;if(v[repeatingString+'_name']&&v[repeatingString+'_name'].indexOf('Innate')!==-1){_this.parseInnateSpellcastingFromTraits(v,submit,repeatingString);}else if(v[repeatingString+'_name']&&v[repeatingString+'_name'].indexOf('Innate')===-1){_this.parseSpellcastingFromTraits(v,submit,repeatingString);}if(name&&name.indexOf('Innate')!==-1){deleteItem=true;removeRepeatingRow(repeatingString);continue;}else if(name&&name.indexOf('Innate')===-1&&name.indexOf('Shared')===-1){deleteItem=true;removeRepeatingRow(repeatingString);continue;}}var typeRegex=/(melee|ranged|melee or ranged)\s*(spell|weapon)\s*attack/gi;var actionType=typeRegex.exec(v[repeatingString+'_freetext']);if(actionType){if(actionType[1]){actionType[1]=actionType[1].toLowerCase();if((0,_utilities.isUndefined)(v[repeatingString+'_type'])&&(actionType[1]==='melee'||actionType[1]==='melee or ranged')){submit[repeatingString+'_type']='Melee Weapon';}else if((0,_utilities.isUndefined)(v[repeatingString+'_type'])&&actionType[1]==='ranged'){submit[repeatingString+'_type']='Ranged Weapon';rangedAttack=true;}}if(actionType[2]){actionType[2]=actionType[2].toLowerCase();if(actionType[2]==='spell'){spellAttack=true;}}v[repeatingString+'_freetext']=v[repeatingString+'_freetext'].replace(typeRegex,'');}_this.parseReachAndRange(v,submit,repeatingString);_this.parseToHit(v,submit,repeatingString,abilities,spellAttack,rangedAttack);_this.parseSavingThrow(v,submit,repeatingString,abilities);_this.parseDamage(v,submit,repeatingString,damageRegex,'damage',abilities,spellAttack,rangedAttack);_this.parseDamage(v,submit,repeatingString,altDamageRegex,'second_damage',abilities,spellAttack,rangedAttack);_this.parseDamage(v,submit,repeatingString,damagePlusRegex,'second_damage',abilities,spellAttack,rangedAttack);if(!(0,_utilities.exists)(submit[repeatingString+'_second_damage'])){_this.parseDamage(v,submit,repeatingString,damageRegex,'second_damage',abilities,spellAttack,rangedAttack);}if((0,_utilities.isUndefined)(v[repeatingString+'_extras_toggle'])){submit[repeatingString+'_extras_toggle']=1;}if((0,_utilities.isUndefined)(v[repeatingString+'_toggle_details'])){submit[repeatingString+'_toggle_details']=0;}}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}},setFinalAttrsCallback:function setFinalAttrsCallback(){if(!deleteItem){_this.update(type,rowId);}}});}},{key:'count',value:function count(type){(0,_utilities.getSetRepeatingItems)('actions.count',{repeatingItems:['repeating_'+type],collectionArray:[type+'s_exist'],callback:function callback(v,submit,repeatingStrings){if(repeatingStrings.length>0){submit[type+'s_exist']=1;}else if((0,_utilities.exists)(v[type+'s_exist'])){submit[type+'s_exist']=0;}}});}},{key:'setup',value:function setup(){var _this2=this;var actions=['trait','action','reaction','legendaryaction','lairaction','regionaleffect'];on('change:pb',function(){_this2.update();});var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{var _loop=function _loop(){var type=_step8.value;on('change:repeating_'+type,function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_'+type,eventInfo);if(repeatingInfo&&repeatingInfo.field!=='name'&&repeatingInfo.field!=='freetext'&&repeatingInfo.field!=='to_hit'&&repeatingInfo.field!=='damage_formula'&&repeatingInfo.field!=='damage_crit'&&repeatingInfo.field!=='second_damage_formula'&&repeatingInfo.field!=='second_damage_crit'&&repeatingInfo.field!=='damage_string'&&repeatingInfo.field!=='saving_throw_dc'&&repeatingInfo.field!=='parsed'&&repeatingInfo.field!=='recharge_display'){_this2.update(type,repeatingInfo.rowId);}});on('change:repeating_'+type,function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_'+type,eventInfo);if(repeatingInfo&&repeatingInfo.field!=='roll_formula'&&repeatingInfo.field!=='toggle_details'){_this2.count(type);_this2.updateChatMacro(type);}});on('remove:repeating_'+type,function(){_this2.count(type);_this2.updateChatMacro(type);});on('change:repeating_'+type+':freetext',function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_'+type,eventInfo);_this2.parse(type,repeatingInfo.rowId);});};for(var _iterator8=actions[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){_loop();}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}on('change:global_attack_bonus change:global_melee_attack_bonus change:global_ranged_attack_bonus change:global_damage_bonus change:global_melee_damage_bonus change:global_ranged_damage_bonus change:ammo_auto_use',function(){_this2.update('action');_this2.update('reaction');_this2.update('legendaryaction');_this2.update('lairaction');});}}]);return Actions;}();

},{"../../../actionComponents/updateToggles":1,"../../../core/leftColumn/ProficiencyBonus":8,"../../../scripts/constants":19,"../../../scripts/utilities":21}],14:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Processing=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Processing=exports.Processing=function(){function Processing(){_classCallCheck(this,Processing);}_createClass(Processing,[{key:'close',value:function close(){(0,_utilities.getSetItems)('Processing.close',{collectionArray:['processing'],callback:function callback(v,submit){submit.processing='';}});}},{key:'setup',value:function setup(){var _this=this;on('change:close_processing',function(){_this.close();});}}]);return Processing;}();

},{"../scripts/utilities":21}],15:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Resistances=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Resistances=exports.Resistances=function(){function Resistances(){_classCallCheck(this,Resistances);}_createClass(Resistances,[{key:'updateDamageResistancesVar',value:function updateDamageResistancesVar(){(0,_utilities.getSetItems)('resistances.updateDamageResistancesVar',{collectionArray:['damage_resistances_var','damage_vulnerabilities_exist','damage_resistances_exist','damage_immunities_exist','condition_immunities_exist'],callback:function callback(v,submit){var resistancesVar=[];if(v.damage_vulnerabilities_exist){resistancesVar.push('{{Damage Vulnerabilities=@{damage_vulnerabilities}}}');}if(v.damage_resistances_exist){resistancesVar.push('{{Damage Resistances=@{damage_resistances}}}');}if(v.damage_immunities_exist){resistancesVar.push('{{Damage Immunities=@{damage_immunities}}}');}if(v.condition_immunities_exist){resistancesVar.push('{{Condition Immunities=@{condition_immunities}}}');}submit.damage_resistances_var=resistancesVar.join(' ');}});}},{key:'updateDamageVulnerabilities',value:function updateDamageVulnerabilities(){(0,_utilities.getSetItems)('resistances.updateDamageVulnerabilities',{collectionArray:['damage_vulnerabilities'],callback:function callback(v,submit){if(v.damage_vulnerabilities){submit.damage_vulnerabilities_exist=1;submit.damage_vulnerabilities=(0,_utilities.lowercaseDamageTypes)(v.damage_vulnerabilities);}else{submit.damage_vulnerabilities_exist=0;}}});}},{key:'updateDamageResistances',value:function updateDamageResistances(){(0,_utilities.getSetItems)('resistances.updateDamageResistances',{collectionArray:['damage_resistances'],callback:function callback(v,submit){if(v.damage_resistances){submit.damage_resistances_exist=1;submit.damage_resistances=(0,_utilities.lowercaseDamageTypes)(v.damage_resistances);}else{submit.damage_resistances_exist=0;}}});}},{key:'updateDamageImmunities',value:function updateDamageImmunities(){(0,_utilities.getSetItems)('resistances.updateDamageImmunities',{collectionArray:['damage_immunities'],callback:function callback(v,submit){if(v.damage_immunities){submit.damage_immunities_exist=1;submit.damage_immunities=(0,_utilities.lowercaseDamageTypes)(v.damage_immunities);}else{submit.damage_immunities_exist=0;}}});}},{key:'updateConditionImmunities',value:function updateConditionImmunities(){(0,_utilities.getSetItems)('resistances.updateConditionImmunities',{collectionArray:['condition_immunities'],callback:function callback(v,submit){if(v.condition_immunities){submit.condition_immunities_exist=1;submit.condition_immunities=(0,_utilities.lowercaseDamageTypes)(v.condition_immunities);}else{submit.condition_immunities_exist=0;}}});}},{key:'setup',value:function setup(){var _this=this;on('change:damage_vulnerabilities change:damage_resistances change:damage_immunities change:condition_immunities',function(){_this.updateDamageResistancesVar();});on('change:damage_vulnerabilities',function(){_this.updateDamageVulnerabilities();});on('change:damage_resistances',function(){_this.updateDamageResistances();});on('change:damage_immunities',function(){_this.updateDamageImmunities();});on('change:condition_immunities',function(){_this.updateConditionImmunities();});}}]);return Resistances;}();

},{"../scripts/utilities":21}],16:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.ImportData=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Initialize=require('./Initialize');var _utilities=require('./utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var initialize=new _Initialize.Initialize();var ImportData=exports.ImportData=function(){function ImportData(){_classCallCheck(this,ImportData);}_createClass(ImportData,[{key:'import',value:function _import(){(0,_utilities.getSetItems)('importData.import',{collectionArray:['import_data','version'],callback:function callback(v,submit){if(v.import_data){var importObject=JSON.parse(v.import_data);if(importObject.npc){if(!v.version){initialize.sheetOpened();}for(var prop in importObject.npc){if(importObject.npc.hasOwnProperty(prop)){if(prop==='size'){submit[prop]=importObject.npc[prop].toUpperCase();}else{submit[prop]=importObject.npc[prop];}}}}if(importObject.spells){importObject.spells.forEach(function(spell){var level=(0,_utilities.getIntValue)(spell.spell_level);var repeatingString='repeating_spell'+level+'_'+generateRowID();for(var _prop in spell){if(spell.hasOwnProperty(_prop)){submit[repeatingString+'_'+_prop]=spell[_prop];}}});}submit.import_data='';submit.import_data_present='off';}}});}},{key:'delete',value:function _delete(){(0,_utilities.getSetItems)('importData.delete',{collectionArray:['import_data','version'],callback:function callback(v,submit){var importObject=JSON.parse(v.import_data);if(importObject.npc&&!v.version){initialize.sheetOpened();}submit.import_data='';submit.import_data_present='off';}});}},{key:'setup',value:function setup(){var _this=this;on('change:accept_import',function(){_this.import();});on('change:reject_import',function(){_this.delete();});}}]);return ImportData;}();

},{"./Initialize":17,"./utilities":21}],17:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Initialize=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Abilities=require('../core/leftColumn/Abilities');var _AbilityChecks=require('../core/leftColumn/AbilityChecks');var _constants=require('./constants');var _Conversion=require('./../conversion/Conversion');var _ProficiencyBonus=require('../core/leftColumn/ProficiencyBonus');var _SavingThrows=require('../core/leftColumn/SavingThrows');var _Upgrade=require('./Upgrade');var _utilities=require('./utilities');var _version=require('./version');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var abilities=new _Abilities.Abilities();var abilityChecks=new _AbilityChecks.AbilityChecks();var conversion=new _Conversion.Conversion();var proficiencyBonus=new _ProficiencyBonus.ProficiencyBonus();var savingThrows=new _SavingThrows.SavingThrows();var upgrade=new _Upgrade.Upgrade();var Initialize=exports.Initialize=function(){function Initialize(){_classCallCheck(this,Initialize);}_createClass(Initialize,[{key:'generateSkills',value:function generateSkills(){(0,_utilities.getSetRepeatingItems)('initialize.generateSkills',{repeatingItems:['repeating_skill'],collectionArrayAddItems:['storage_name','name','ability'],callback:function callback(v,submit,repeatingStrings){for(var skill in _constants.SKILLS){if(_constants.SKILLS.hasOwnProperty(skill)){var skillId=(0,_utilities.getSkillIdByStorageName)(v,repeatingStrings,skill);if(!skillId){skillId=generateRowID();}var repeatingString='repeating_skill_'+skillId;submit[repeatingString+'_storage_name']=skill;submit[repeatingString+'_name']=getTranslationByKey(skill);submit[repeatingString+'_ability']=_constants.SKILLS[skill];abilityChecks.updateSkill(skillId);}}},setFinalAttrsCallback:function setFinalAttrsCallback(){abilityChecks.updateMacro();}});}},{key:'setCurrentVersion',value:function setCurrentVersion(v,submit){if((0,_utilities.isUndefinedOrEmpty)(v.version)||!v.version||v.version!==_version.currentVersion){submit.version=_version.currentVersion;}}},{key:'sheetOpened',value:function sheetOpened(){var _this=this;var collectionArray=['version','npc','base_level','convertedFromOGL','import_data','roll_setting'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;collectionArray.push(ability);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}(0,_utilities.getSetItems)('initialize.sheetOpened',{collectionArray:collectionArray,callback:function callback(v,submit){var convertOGL=(v.npc||v.base_level)&&(0,_utilities.isUndefinedOrEmpty)(v.convertedFromOGL);if((0,_utilities.isUndefinedOrEmpty)(v.version)||convertOGL){if(!v.import_data&&!convertOGL){submit.edit_mode='on';}_this.generateSkills();if(convertOGL){proficiencyBonus.update();savingThrows.update();abilities.updateModifiers();conversion.convertFromOGL();if((0,_utilities.isUndefinedOrEmpty)(v.convertedFromOGL)||!v.convertedFromOGL){submit.convertedFromOGL=true;}}}else{upgrade.upgrade(v.version);}_this.setCurrentVersion(v,submit);}});}},{key:'setup',value:function setup(){var _this2=this;on('change:generate_skills',function(){_this2.generateSkills();});on('sheet:opened',function(){_this2.sheetOpened();});}}]);return Initialize;}();

},{"../core/leftColumn/Abilities":6,"../core/leftColumn/AbilityChecks":7,"../core/leftColumn/ProficiencyBonus":8,"../core/leftColumn/SavingThrows":9,"./../conversion/Conversion":3,"./Upgrade":18,"./constants":19,"./utilities":21,"./version":22}],18:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Upgrade=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Abilities=require('../core/leftColumn/Abilities');var _AbilityChecks=require('../core/leftColumn/AbilityChecks');var _Actions=require('../npc/rightColumn/actions/Actions');var _Attachers=require('../settings/attachers/Attachers');var _Attacks=require('../core/centerColumn/Attacks');var _Classes=require('../classes/Classes');var _Equipment=require('../core/centerColumn/Equipment');var _Features=require('../core/rightColumn/features/Features');var _Header=require('../header/Header');var _Npc=require('../npc/Npc');var _Resistances=require('../resistances/Resistances');var _SavingThrows=require('../core/leftColumn/SavingThrows');var _Senses=require('../senses/Senses');var _Settings=require('../settings/Settings');var _Speed=require('../speed/Speed');var _Spells=require('../spells/Spells');var _utilities=require('./utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var abilities=new _Abilities.Abilities();var abilityChecks=new _AbilityChecks.AbilityChecks();var actions=new _Actions.Actions();var attachers=new _Attachers.Attachers();var attacks=new _Attacks.Attacks();var classes=new _Classes.Classes();var equipment=new _Equipment.Equipment();var features=new _Features.Features();var header=new _Header.Header();var npc=new _Npc.Npc();var resistances=new _Resistances.Resistances();var savingThrows=new _SavingThrows.SavingThrows();var senses=new _Senses.Senses();var settings=new _Settings.Settings();var speed=new _Speed.Speed();var spells=new _Spells.Spells();var actionTypes=['trait','action','reaction','legendaryaction','lairaction','regionaleffect'];var Upgrade=exports.Upgrade=function(){function Upgrade(){_classCallCheck(this,Upgrade);}_createClass(Upgrade,[{key:'extasToExtrasFix',value:function extasToExtrasFix(repeatingSection){(0,_utilities.getSetRepeatingItems)('upgrade.extasToExtrasFix',{repeatingItems:[repeatingSection],collectionArrayAddItems:['extas_toggle'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=repeatingStrings[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var repeatingString=_step.value;if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_extas_toggle'])){submit[repeatingString+'_extras_toggle']=v[repeatingString+'_extas_toggle'];}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}});}},{key:'armorPlusDexRemoval',value:function armorPlusDexRemoval(){(0,_utilities.getSetRepeatingItems)('upgrade.armorPlusDexRemoval',{repeatingItems:['repeating_armor'],collectionArrayAddItems:['type'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=repeatingStrings[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var repeatingString=_step2.value;var armorType=v[repeatingString+'_type'];if(armorType==='Armor + Dex'){submit[repeatingString+'_type']='Light Armor';}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}});}},{key:'fixRollTwo',value:function fixRollTwo(){(0,_utilities.getSetItems)('upgrade.fixRollTwo',{collectionArray:['roll_setting'],callback:function callback(v,submit){if(v.roll_setting==='@{attr_roll_2}'){submit.roll_setting='{{roll2=[[d20@{d20_mod}';}}});}},{key:'defaultAbility',value:function defaultAbility(){(0,_utilities.getSetItems)('upgrade.defaultAbility',{collectionArray:['default_ability'],callback:function callback(v,submit){if(!(0,_utilities.isUndefinedOrEmpty)(v.default_ability)){submit.default_ability=(0,_utilities.getAbilityName)(v.default_ability);}}});}},{key:'defaultAbilityTranslate',value:function defaultAbilityTranslate(){(0,_utilities.getSetItems)('upgrade.defaultAbilityTranslate',{collectionArray:['default_ability'],callback:function callback(v,submit){if(!(0,_utilities.isUndefinedOrEmpty)(v.default_ability)){submit.default_ability=v.default_ability.toUpperCase();}}});}},{key:'hideFreetext',value:function hideFreetext(){(0,_utilities.getSetItems)('upgrade.hideFreetext',{collectionArray:['hide_freetext','hide_action_freetext'],callback:function callback(v,submit){if(!(0,_utilities.isUndefinedOrEmpty)(v.hide_action_freetext)){submit.hide_freetext=v.hide_action_freetext;}}});}},{key:'atSyntaxToAbilityName',value:function atSyntaxToAbilityName(v,submit,repeatingString,field){if(v[repeatingString+'_'+field]){submit[repeatingString+'_'+field]=(0,_utilities.getAbilityName)(v[repeatingString+'_'+field]);}}},{key:'skillAbility',value:function skillAbility(){var _this=this;(0,_utilities.getSetRepeatingItems)('upgrade.skillAbility',{repeatingItems:['repeating_skill'],collectionArrayAddItems:['ability'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;_this.atSyntaxToAbilityName(v,submit,repeatingString,'ability');}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'armorAbility',value:function armorAbility(){(0,_utilities.getSetItems)('upgrade.armorAbility',{collectionArray:['ac_unarmored_ability'],callback:function callback(v,submit){if(!(0,_utilities.isUndefinedOrEmpty)(v.ac_unarmored_ability)){submit.ac_unarmored_ability=(0,_utilities.getAbilityName)(v.ac_unarmored_ability);}}});}},{key:'actionComponents',value:function actionComponents(){var _this2=this;(0,_utilities.getSetRepeatingItems)('upgrade.actionComponents',{repeatingItems:['repeating_attack','repeating_spell','repeating_trait','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'],collectionArrayAddItems:['attack_ability','damage_ability','second_damage_ability','heal_ability','saving_throw_ability','saving_throw_vs_ability'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;_this2.atSyntaxToAbilityName(v,submit,repeatingString,'attack_ability');_this2.atSyntaxToAbilityName(v,submit,repeatingString,'damage_ability');_this2.atSyntaxToAbilityName(v,submit,repeatingString,'second_damage_ability');_this2.atSyntaxToAbilityName(v,submit,repeatingString,'heal_ability');_this2.atSyntaxToAbilityName(v,submit,repeatingString,'saving_throw_ability');if(v[repeatingString+'_saving_throw_vs_ability']){submit[repeatingString+'_saving_throw_vs_ability']=v[repeatingString+'_saving_throw_vs_ability'].toUpperCase();}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});}},{key:'newAbilityDefaults',value:function newAbilityDefaults(){(0,_utilities.getSetRepeatingItems)('upgrade.newAbilityDefaults',{repeatingItems:['repeating_attack','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'],collectionArrayAddItems:['roll_toggle','roll_ability','damage_toggle','damage_ability'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=repeatingStrings[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var repeatingString=_step5.value;if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_roll_toggle'])&&(0,_utilities.isUndefined)(v[repeatingString+'_roll_ability'])){submit[repeatingString+'_roll_ability']='strength';}if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_damage_toggle'])&&(0,_utilities.isUndefined)(v[repeatingString+'_damage_ability'])){submit[repeatingString+'_damage_ability']='strength';}}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}});}},{key:'changeOldToNew',value:function changeOldToNew(v,submit,field,oldValue,newValue){if(v[field]==='@{'+oldValue+'}'){submit[field]=newValue;}}},{key:'removeToggleVar',value:function removeToggleVar(){var _this3=this;(0,_utilities.getSetItems)('upgrade.removeToggleVar',{collectionArray:['careful_spell_toggle','distant_spell_toggle','empowered_spell_toggle','extended_spell_toggle','heightened_spell_toggle','quickened_spell_toggle','subtle_spell_toggle','twinned_spell_toggle','initiative_tie_breaker','ammo_auto_use','hide_attack','hide_damage','hide_saving_throw_dc','hide_spell_content','hide_action_freetext','hide_saving_throw_failure','hide_saving_throw_success','hide_recharge','initiative_output_option','output_option','death_save_output_option','hit_dice_output_option','roll_setting','show_character_name','attacks_vs_target_ac','attacks_vs_target_name','initiative_roll','initiative_to_tracker'],callback:function callback(v,submit){_this3.changeOldToNew(v,submit,'careful_spell_toggle','careful_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'distant_spell_toggle','distant_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'empowered_spell_toggle','empowered_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'extended_spell_toggle','extended_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'heightened_spell_toggle','heightened_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'quickened_spell_toggle','quickened_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'subtle_spell_toggle','subtle_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'twinned_spell_toggle','twinned_spell_toggle_var','1');_this3.changeOldToNew(v,submit,'initiative_tie_breaker','initiative_tie_breaker_var','[[@{initiative} / 100]][tie breaker]');_this3.changeOldToNew(v,submit,'ammo_auto_use','ammo_auto_use_var','1');_this3.changeOldToNew(v,submit,'hide_attack','hide_attack_var','{{hide_attack=1}}');_this3.changeOldToNew(v,submit,'hide_damage','hide_damage_var','{{hide_damage=1}}');_this3.changeOldToNew(v,submit,'hide_saving_throw_dc','hide_saving_throw_dc_var','{{hide_saving_throw_dc=1}}');_this3.changeOldToNew(v,submit,'hide_spell_content','hide_spell_content_var','{{hide_spell_content=1}}');_this3.changeOldToNew(v,submit,'hide_action_freetext','hide_action_freetext_var','{{hide_freetext=1}}');_this3.changeOldToNew(v,submit,'hide_saving_throw_failure','hide_saving_throw_failure_var','{{hide_saving_throw_failure=1}}');_this3.changeOldToNew(v,submit,'hide_saving_throw_success','hide_saving_throw_success_var','{{hide_saving_throw_success=1}}');_this3.changeOldToNew(v,submit,'hide_recharge','hide_recharge_var','{{hide_recharge=1}}');_this3.changeOldToNew(v,submit,'initiative_output_option','output_to_all','');_this3.changeOldToNew(v,submit,'initiative_output_option','output_to_gm','/w GM');_this3.changeOldToNew(v,submit,'output_option','output_to_all','');_this3.changeOldToNew(v,submit,'output_option','output_to_gm','/w GM');_this3.changeOldToNew(v,submit,'death_save_output_option','output_to_all','');_this3.changeOldToNew(v,submit,'death_save_output_option','output_to_gm','/w GM');_this3.changeOldToNew(v,submit,'hit_dice_output_option','output_to_all','');_this3.changeOldToNew(v,submit,'hit_dice_output_option','output_to_gm','/w GM');_this3.changeOldToNew(v,submit,'roll_setting','normal','{{ignore=[[0');_this3.changeOldToNew(v,submit,'roll_setting','roll_advantage','adv {{ignore=[[0');_this3.changeOldToNew(v,submit,'roll_setting','roll_disadvantage','dis {{ignore=[[0');_this3.changeOldToNew(v,submit,'roll_setting','roll_1','{{ignore=[[0');_this3.changeOldToNew(v,submit,'roll_setting','roll_2','{{roll2=[[d20@{d20_mod}');_this3.changeOldToNew(v,submit,'show_character_name','show_character_name_no','');_this3.changeOldToNew(v,submit,'show_character_name','show_character_name_yes','{{show_character_name=1}}');_this3.changeOldToNew(v,submit,'attacks_vs_target_ac','attacks_vs_target_ac_no','');_this3.changeOldToNew(v,submit,'attacks_vs_target_ac','attacks_vs_target_ac_yes','[[@{target|AC}]]');_this3.changeOldToNew(v,submit,'attacks_vs_target_name','attacks_vs_target_name_no','');_this3.changeOldToNew(v,submit,'attacks_vs_target_name','attacks_vs_target_name_yes','@{target|token_name}');_this3.changeOldToNew(v,submit,'initiative_roll','normal_initiative','@{shaped_d20}');_this3.changeOldToNew(v,submit,'initiative_roll','advantage_on_initiative','2d20kh1');_this3.changeOldToNew(v,submit,'initiative_roll','disadvantage_on_initiative','2d20kl1');_this3.changeOldToNew(v,submit,'initiative_to_tracker','initiative_to_tracker_yes','@{selected|initiative_formula} &{tracker}');_this3.changeOldToNew(v,submit,'initiative_to_tracker','initiative_to_tracker_no','@{initiative_formula}');}});}},{key:'changeOldRepeatingToggleToNew',value:function changeOldRepeatingToggleToNew(v,submit,repeatingString,field,oldValue,newValue){if(v[repeatingString+'_'+field]==='@{'+oldValue+'}'){submit[repeatingString+'_'+field]=newValue;}}},{key:'displayTextForTraits',value:function displayTextForTraits(){(0,_utilities.getSetRepeatingItems)('upgrade.displayTextForTraits',{repeatingItems:['repeating_trait'],collectionArrayAddItems:['display_text','freetext'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=repeatingStrings[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var repeatingString=_step6.value;if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_display_text'])){submit[repeatingString+'_display_text']=v[repeatingString+'_freetext'];}}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}}});}},{key:'spellToTranslations',value:function spellToTranslations(){(0,_utilities.getSetRepeatingItems)('upgrade.spellToTranslations',{repeatingItems:['repeating_spell'],collectionArrayAddItems:['spell_level','school','casting_time','components','duration','concentration','saving_throw_vs_ability'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=repeatingStrings[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var repeatingString=_step7.value;if(v[repeatingString+'_spell_level']){submit[repeatingString+'_spell_level']=(0,_utilities.ordinalSpellLevel)(v[repeatingString+'_spell_level']);}if(v[repeatingString+'_school']){submit[repeatingString+'_school']=v[repeatingString+'_school'].toUpperCase();}if(v[repeatingString+'_casting_time']){submit[repeatingString+'_casting_time']=v[repeatingString+'_casting_time'].toUpperCase().trim().replace(/\s/g,'_');}if(v[repeatingString+'_components']){submit[repeatingString+'_components']='COMPONENTS_'+v[repeatingString+'_components'].toUpperCase().trim().replace(/\s/g,'_');}if(v[repeatingString+'_duration']){var duration='';if(v[repeatingString+'_concentration']==='Yes'){duration+='CONCENTRATION_';}duration+=v[repeatingString+'_duration'].toUpperCase().trim().replace(/\s/g,'_');submit[repeatingString+'_duration']=duration;}if(submit[repeatingString+'_saving_throw_vs_ability']){submit[repeatingString+'_saving_throw_vs_ability']=v[repeatingString+'_saving_throw_vs_ability'].toUpperCase();}}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}}});}},{key:'spellLevelForCantrips',value:function spellLevelForCantrips(){(0,_utilities.getSetRepeatingItems)('upgrade.spellLevelForCantrips',{repeatingItems:['repeating_spell'],collectionArrayAddItems:['spell_level'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=repeatingStrings[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var repeatingString=_step8.value;if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_spell_level'])||v[repeatingString+'_spell_level']==='0'||v[repeatingString+'_spell_level']===0){submit[repeatingString+'_spell_level']='CANTRIP';}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}});}},{key:'classNamesTranslate',value:function classNamesTranslate(){(0,_utilities.getSetRepeatingItems)('upgrade.classNamesTranslate',{repeatingItems:['repeating_class'],collectionArrayAddItems:['name'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=repeatingStrings[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var repeatingString=_step9.value;if(v[repeatingString+'_name']){submit[repeatingString+'_name']=v[repeatingString+'_name'].toUpperCase();}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}});}},{key:'spellEffectsNaming',value:function spellEffectsNaming(){(0,_utilities.getSetRepeatingItems)('upgrade.spellEffectsNaming',{repeatingItems:['repeating_spell'],collectionArrayAddItems:['special_effects_toggle','type','color','points_of_origin'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=repeatingStrings[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var repeatingString=_step10.value;if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_special_effects_toggle'])){submit[repeatingString+'_special_effects_toggle']='{{fx=@{special_effects_type}-@{special_effects_color} @{special_effects_points_of_origin}}}';if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_type'])&&v[repeatingString+'_type']!=='Ranged'&&v[repeatingString+'_type']!=='Melee'){submit[repeatingString+'_special_effects_type']=v[repeatingString+'_type'];}if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_color'])){submit[repeatingString+'_special_effects_color']=v[repeatingString+'_color'];}if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_points_of_origin'])){submit[repeatingString+'_special_effects_points_of_origin']=v[repeatingString+'_points_of_origin'];}}}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}}});}},{key:'critDamage',value:function critDamage(){(0,_utilities.getSetRepeatingItems)('upgrade.critDamage',{repeatingItems:['repeating_attack','repeating_spell','repeating_trait','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'],collectionArrayAddItems:['damage','damage_crit','second_damage','second_damage_crit'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=repeatingStrings[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var repeatingString=_step11.value;if(!v[repeatingString+'_damage_crit']&&v[repeatingString+'_damage']){submit[repeatingString+'_damage_crit']=v[repeatingString+'_damage'];}else if(v[repeatingString+'_damage']&&v[repeatingString+'_damage_crit']){submit[repeatingString+'_damage_crit']=v[repeatingString+'_damage']+' + '+v[repeatingString+'_damage_crit'];}if(!v[repeatingString+'_second_damage_crit']&&v[repeatingString+'_second_damage']){submit[repeatingString+'_second_damage_crit']=v[repeatingString+'_second_damage'];}else if(v[repeatingString+'_second_damage']&&v[repeatingString+'_second_damage_crit']){submit[repeatingString+'_second_damage_crit']=v[repeatingString+'_second_damage']+' + '+v[repeatingString+'_second_damage_crit'];}}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}}});}},{key:'oldRepeatingValueToNew',value:function oldRepeatingValueToNew(v,submit,repeatingString,newRepeatingString,field){if(!(0,_utilities.isUndefined)(v[repeatingString+'_'+field])){submit[newRepeatingString+'_'+field]=v[repeatingString+'_'+field];}}},{key:'resourcesToTraits',value:function resourcesToTraits(){var _this4=this;(0,_utilities.getSetRepeatingItems)('upgrade.resourcesToTraits',{repeatingItems:['repeating_resource'],collectionArrayAddItems:['name','uses','uses_max','toggle_details','recharge','extras_toggle','freetext','freeform'],callback:function callback(v,submit,repeatingStrings){var fieldsToSwap=['name','uses','uses_max','toggle_details','recharge','extras_toggle','freetext','freeform'];var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=repeatingStrings[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var repeatingString=_step12.value;var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=fieldsToSwap[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var field=_step13.value;_this4.oldRepeatingValueToNew(v,submit,repeatingString,'repeating_trait_'+generateRowID(),field);}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}}});}},{key:'classFeaturesToTraits',value:function classFeaturesToTraits(){var _this5=this;(0,_utilities.getSetRepeatingItems)('upgrade.classFeaturesToTraits',{repeatingItems:['repeating_classfeature'],collectionArrayAddItems:['name','uses','uses_max','recharge','saving_throw_toggle','saving_throw_condition','saving_throw_ability','saving_throw_bonus','saving_throw_vs_ability','saving_throw_failure','saving_throw_success','damage_toggle','damage','damage_ability','damage_bonus','damage_type','second_damage_toggle','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','heal','heal_ability','heal_bonus','heal_query_toggle','extras_toggle','emote','freetext','freeform'],callback:function callback(v,submit,repeatingStrings){var fieldsToSwap=['name','uses','uses_max','recharge','saving_throw_toggle','saving_throw_condition','saving_throw_ability','saving_throw_bonus','saving_throw_vs_ability','saving_throw_failure','saving_throw_success','damage_toggle','damage','damage_ability','damage_bonus','damage_type','second_damage_toggle','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','heal','heal_ability','heal_bonus','heal_query_toggle','extras_toggle','emote','freetext','display_text','freeform'];var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=repeatingStrings[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var repeatingString=_step14.value;var _iteratorNormalCompletion15=true;var _didIteratorError15=false;var _iteratorError15=undefined;try{for(var _iterator15=fieldsToSwap[Symbol.iterator](),_step15;!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=true){var field=_step15.value;_this5.oldRepeatingValueToNew(v,submit,repeatingString,'repeating_trait_'+generateRowID(),field);}}catch(err){_didIteratorError15=true;_iteratorError15=err;}finally{try{if(!_iteratorNormalCompletion15&&_iterator15.return){_iterator15.return();}}finally{if(_didIteratorError15){throw _iteratorError15;}}}}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14.return){_iterator14.return();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}}});}},{key:'updateWarlockMaxLevelOrdinal',value:function updateWarlockMaxLevelOrdinal(){(0,_utilities.getSetItems)('upgrade.updateWarlockMaxLevelOrdinal',{collectionArray:['warlock_spells_max_level'],callback:function callback(v,submit){submit.warlock_spells_max_level=(0,_utilities.ordinalSpellLevel)((0,_utilities.getIntValue)(v.warlock_spells_max_level));}});}},{key:'setSpellcasterLevel',value:function setSpellcasterLevel(){(0,_utilities.getSetItems)('upgrade.setSpellcasterLevel',{collectionArray:['spellcaster_level','caster_level'],callback:function callback(v,submit){submit.spellcaster_level=(0,_utilities.ordinalSpellLevel)(v.caster_level);}});}},{key:'spellsToRepeatingSectionsForEachLevel',value:function spellsToRepeatingSectionsForEachLevel(){var _this6=this;var collectionArrayAddItems=spells.conversionArray;(0,_utilities.getSetRepeatingItems)('spells.spellsToRepeatingSectionsForEachLevel',{repeatingItems:['repeating_spell'],collectionArrayAddItems:collectionArrayAddItems,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion16=true;var _didIteratorError16=false;var _iteratorError16=undefined;try{for(var _iterator16=repeatingStrings[Symbol.iterator](),_step16;!(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done);_iteratorNormalCompletion16=true){var repeatingString=_step16.value;var spellName=v[repeatingString+'_name'];if(!spellName){removeRepeatingRow(repeatingString);continue;}var newLevel=(0,_utilities.getIntValue)(v[repeatingString+'_spell_level']);var newRepeatingString='repeating_spell'+newLevel+'_'+generateRowID();var _iteratorNormalCompletion17=true;var _didIteratorError17=false;var _iteratorError17=undefined;try{for(var _iterator17=collectionArrayAddItems[Symbol.iterator](),_step17;!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=true){var field=_step17.value;if(field==='is_prepared'){if(v[repeatingString+'_is_prepared']==='on'){submit[newRepeatingString+'_is_prepared']='Yes';}}else{_this6.oldRepeatingValueToNew(v,submit,repeatingString,newRepeatingString,field);}}}catch(err){_didIteratorError17=true;_iteratorError17=err;}finally{try{if(!_iteratorNormalCompletion17&&_iterator17.return){_iterator17.return();}}finally{if(_didIteratorError17){throw _iteratorError17;}}}removeRepeatingRow(repeatingString);}}catch(err){_didIteratorError16=true;_iteratorError16=err;}finally{try{if(!_iteratorNormalCompletion16&&_iterator16.return){_iterator16.return();}}finally{if(_didIteratorError16){throw _iteratorError16;}}}}});}},{key:'spellsTabShownForOldSheets',value:function spellsTabShownForOldSheets(){(0,_utilities.getSetItems)('upgrade.spellsTabShownForOldSheets',{collectionArray:['show_spells_tab'],callback:function callback(v,submit){submit.show_spells_tab=1;}});}},{key:'defaultAbilityToSpellAbility',value:function defaultAbilityToSpellAbility(){(0,_utilities.getSetItems)('upgrade.defaultAbilityToSpellAbility',{collectionArray:['default_ability'],callback:function callback(v,submit){if(!(0,_utilities.isUndefinedOrEmpty)(v.default_ability)&&(0,_utilities.isUndefinedOrEmpty)(v.spell_ability)){submit.spell_ability=v.default_ability;}}});}},{key:'spellsAllToAutoToggle',value:function spellsAllToAutoToggle(){(0,_utilities.getSetItems)('upgrade.spellsAllToAutoToggle',{collectionArray:['spell_slots_all','spell_level_filter','core_spell_level_filter','npc_spell_level_filter'],callback:function callback(v,submit){if(v.spell_slots_all==='on'){submit.spell_level_filter='all';submit.core_spell_level_filter='all';submit.npc_spell_level_filter='all';}else{if(v.spell_level_filter==='all'){submit.spell_level_filter='auto';}if(v.core_spell_level_filter==='all'){submit.core_spell_level_filter='auto';}if(v.npc_spell_level_filter==='all'){submit.npc_spell_level_filter='auto';}}}});}},{key:'changeOldRepeatingToNew',value:function changeOldRepeatingToNew(v,submit,repeatingString,field,oldValue,newValue){if(v[repeatingString+'_'+field]===oldValue){submit[repeatingString+'_'+field]=newValue;}}},{key:'removeRollInfo',value:function removeRollInfo(){var _this7=this;var repeatingItems=['repeating_attack','repeating_trait','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'];for(var level=0;level<=9;level+=1){repeatingItems.push('repeating_spell'+level);}(0,_utilities.getSetRepeatingItems)('upgrade.removeRollInfo2',{repeatingItems:['repeating_skill'],collectionArrayAddItems:['skill_d20'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion18=true;var _didIteratorError18=false;var _iteratorError18=undefined;try{for(var _iterator18=repeatingStrings[Symbol.iterator](),_step18;!(_iteratorNormalCompletion18=(_step18=_iterator18.next()).done);_iteratorNormalCompletion18=true){var repeatingString=_step18.value;_this7.changeOldRepeatingToNew(v,submit,repeatingString,'skill_d20','2d20@{d20_mod}kh1','2d20kh1');_this7.changeOldRepeatingToNew(v,submit,repeatingString,'skill_d20','2d20@{d20_mod}kl1','2d20kl1');}}catch(err){_didIteratorError18=true;_iteratorError18=err;}finally{try{if(!_iteratorNormalCompletion18&&_iterator18.return){_iterator18.return();}}finally{if(_didIteratorError18){throw _iteratorError18;}}}}});(0,_utilities.getSetItems)('upgrade.removeRollInfo3',{collectionArray:['initiative_roll','roll_setting'],callback:function callback(v,submit){_this7.changeOldToNew(v,submit,'initiative_roll','2d20@{d20_mod}kh1','2d20kh1');_this7.changeOldToNew(v,submit,'initiative_roll','2d20@{d20_mod}kl1','2d20kl1');if(v.roll_setting==='{{ignore=[[0'){submit.shaped_d20='d20';}if(v.roll_setting==='adv {{ignore=[[0'){submit.shaped_d20='2d20kh1';}if(v.roll_setting==='dis {{ignore=[[0'){submit.shaped_d20='2d20kl1';}if(v.roll_setting==='{{roll2=[[d20@{d20_mod}'){submit.shaped_d20='1d20';}}});}},{key:'toggleUpgrades',value:function toggleUpgrades(){var repeatingItems=['repeating_attack','repeating_trait','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'];for(var level=0;level<=9;level+=1){repeatingItems.push('repeating_spell'+level);}(0,_utilities.getSetRepeatingItems)('upgrade.toggleUpgrades',{repeatingItems:repeatingItems,collectionArrayAddItems:['roll_toggle','saving_throw_toggle','damage_toggle','second_damage_toggle','ammo_toggle','content_toggle','special_effects_toggle','extras_toggle'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion19=true;var _didIteratorError19=false;var _iteratorError19=undefined;try{for(var _iterator19=repeatingStrings[Symbol.iterator](),_step19;!(_iteratorNormalCompletion19=(_step19=_iterator19.next()).done);_iteratorNormalCompletion19=true){var repeatingString=_step19.value;var toggleVars=['roll_toggle','saving_throw_toggle','damage_toggle','second_damage_toggle','ammo_toggle','content_toggle','special_effects_toggle','extras_toggle'];var _iteratorNormalCompletion20=true;var _didIteratorError20=false;var _iteratorError20=undefined;try{for(var _iterator20=toggleVars[Symbol.iterator](),_step20;!(_iteratorNormalCompletion20=(_step20=_iterator20.next()).done);_iteratorNormalCompletion20=true){var toggleVar=_step20.value;if((0,_utilities.exists)(v[repeatingString+'_'+toggleVar])){if(toggleVar==='roll_toggle'&&repeatingString.indexOf('repeating_trait')!==-1){submit[repeatingString+'_'+toggleVar]='';}else{submit[repeatingString+'_'+toggleVar]=1;}}}}catch(err){_didIteratorError20=true;_iteratorError20=err;}finally{try{if(!_iteratorNormalCompletion20&&_iterator20.return){_iterator20.return();}}finally{if(_didIteratorError20){throw _iteratorError20;}}}}}catch(err){_didIteratorError19=true;_iteratorError19=err;}finally{try{if(!_iteratorNormalCompletion19&&_iterator19.return){_iterator19.return();}}finally{if(_didIteratorError19){throw _iteratorError19;}}}}});}},{key:'translateRecharge',value:function translateRecharge(){var rechargeShortRestRegex=/short/gi;var rechargeLongRestRegex=/long/gi;var rechargeDayRegex=/(\d+)\/Day/gi;var rechargeTurnRegex=/(\d+)\/Turn/gi;var rechargeRegex=/(\d+)-(\d+)/gi;var rechargeValueRegex=/(\d+)/gi;var repeatingItems=['repeating_trait','repeating_action','repeating_reaction','repeating_legendaryaction','repeating_lairaction','repeating_regionaleffect'];(0,_utilities.getSetRepeatingItems)('upgrade.translateRecharge',{repeatingItems:repeatingItems,collectionArrayAddItems:['recharge','uses','uses_max'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion21=true;var _didIteratorError21=false;var _iteratorError21=undefined;try{for(var _iterator21=repeatingStrings[Symbol.iterator](),_step21;!(_iteratorNormalCompletion21=(_step21=_iterator21.next()).done);_iteratorNormalCompletion21=true){var repeatingString=_step21.value;var rechargeShortRestResult=rechargeShortRestRegex.exec(v[repeatingString+'_recharge']);var rechargeLongRestResult=rechargeLongRestRegex.exec(v[repeatingString+'_recharge']);var rechargeDayResult=rechargeDayRegex.exec(v[repeatingString+'_recharge']);var rechargeTurnResult=rechargeTurnRegex.exec(v[repeatingString+'_recharge']);var rechargeRangeResult=rechargeRegex.exec(v[repeatingString+'_recharge']);var rechargeValueResult=rechargeValueRegex.exec(v[repeatingString+'_name']);if(rechargeShortRestResult){submit[repeatingString+'_recharge']='SHORT_OR_LONG_REST';if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=1;}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses_max'])){submit[repeatingString+'_uses_max']=1;}}else if(rechargeLongRestResult){submit[repeatingString+'_recharge']='LONG_REST';if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=1;}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses_max'])){submit[repeatingString+'_uses_max']=1;}}else if(rechargeDayResult&&rechargeDayResult[1]){submit[repeatingString+'_recharge']='LONG_REST';if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=rechargeDayResult[1];}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses_max'])){submit[repeatingString+'_uses_max']=rechargeDayResult[1];}}else if(rechargeTurnResult&&rechargeTurnResult[1]){submit[repeatingString+'_recharge']='TURN';if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=rechargeTurnResult[1];}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses_max'])){submit[repeatingString+'_uses_max']=rechargeTurnResult[1];}}else if(rechargeRangeResult&&rechargeRangeResult[1]&&rechargeRangeResult[2]){submit[repeatingString+'_recharge']='RECHARGE_'+rechargeRangeResult[1]+'_'+rechargeRangeResult[2];}else if(rechargeValueResult&&rechargeValueResult[1]){if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=1;}if((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses_max'])){submit[repeatingString+'_uses_max']=1;}submit[repeatingString+'_recharge']='RECHARGE_'+rechargeValueResult[1];}}}catch(err){_didIteratorError21=true;_iteratorError21=err;}finally{try{if(!_iteratorNormalCompletion21&&_iterator21.return){_iterator21.return();}}finally{if(_didIteratorError21){throw _iteratorError21;}}}}});}},{key:'sizeTranslations',value:function sizeTranslations(){(0,_utilities.getSetItems)('upgrade.sizeTranslations',{collectionArray:['size'],callback:function callback(v,submit){submit.size=v.size.toUpperCase();}});}},{key:'ammoPerUse',value:function ammoPerUse(){(0,_utilities.getSetRepeatingItems)('upgrade.ammoPerUse',{repeatingItems:['repeating_attack'],collectionArrayAddItems:['ammo_used'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion22=true;var _didIteratorError22=false;var _iteratorError22=undefined;try{for(var _iterator22=repeatingStrings[Symbol.iterator](),_step22;!(_iteratorNormalCompletion22=(_step22=_iterator22.next()).done);_iteratorNormalCompletion22=true){var repeatingString=_step22.value;if(v[repeatingString+'_ammo_used']){submit[repeatingString+'_ammo_per_use']=v[repeatingString+'_ammo_used'];}}}catch(err){_didIteratorError22=true;_iteratorError22=err;}finally{try{if(!_iteratorNormalCompletion22&&_iterator22.return){_iterator22.return();}}finally{if(_didIteratorError22){throw _iteratorError22;}}}}});}},{key:'versionCompare',value:function versionCompare(left,right){if(typeof left!=='string'||typeof right!=='string'){return false;}var a=left.split('.');var b=right.split('.');var len=Math.max(a.length,b.length);for(var i=0;i<len;i+=1){if(a[i]&&!b[i]&&(0,_utilities.getIntValue)(a[i])>0||(0,_utilities.getIntValue)(a[i])>(0,_utilities.getIntValue)(b[i])){return 1;}else if(b[i]&&!a[i]&&(0,_utilities.getIntValue)(b[i])>0||(0,_utilities.getIntValue)(a[i])<(0,_utilities.getIntValue)(b[i])){return-1;}}return 0;}},{key:'upgradeCheckAndExecute',value:function upgradeCheckAndExecute(upgrades,currentVersion,version,callback,notify){if(this.versionCompare(currentVersion,version)<0){upgrades[version]={callback:callback,notify:notify};}}},{key:'upgrade',value:function upgrade(sheetVersion){var _this8=this;var upgrades={};this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.0',function(){npc.updateChallenge();resistances.updateDamageVulnerabilities();resistances.updateDamageResistances();resistances.updateDamageImmunities();resistances.updateConditionImmunities();npc.updateLanguages();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.3',function(){npc.updateType();header.updateAlignment();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.5',function(){npc.updateAC();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.10',function(){savingThrows.update();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.13',function(){equipment.weigh();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.1.15',function(){_this8.displayTextForTraits();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.2.2',function(){_this8.resourcesToTraits();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.2.5',function(){equipment.weighAmmo();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.2.6',function(){_this8.extasToExtrasFix('repeating_attack');_this8.extasToExtrasFix('repeating_action');_this8.extasToExtrasFix('repeating_spell');});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.3.3',function(){attachers.update();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.4.2',function(){abilities.updateModifiers();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.4.3',function(){classes.set();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.4.7',function(){_this8.classFeaturesToTraits();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.4.8',function(){_this8.fixRollTwo();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'2.4.12',function(){_this8.armorPlusDexRemoval();equipment.updateArmor();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'3.1.0',function(){attacks.updateChatMacro();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'3.2.1',function(){_this8.critDamage();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'3.2.3',function(){resistances.updateDamageResistancesVar();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'3.5.1',function(){spells.updateSlots();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'3.6.1',function(){npc.updateHD();npc.switchTo();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'4.1.4',function(){_this8.armorAbility();_this8.actionComponents();_this8.skillAbility();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'4.2.0',function(){features.updateD20Mod();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'4.4.0',function(){savingThrows.updateCustomSavingThrows();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'4.4.1',function(){_this8.newAbilityDefaults();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'4.4.2',function(){spells.updateShowHide();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'5.0.0',function(){_this8.spellToTranslations();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'5.0.4',function(){_this8.defaultAbility();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'5.0.6',function(){_this8.spellLevelForCantrips();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'5.2.3',function(){_this8.hideFreetext();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'6.0.4',function(){_this8.spellEffectsNaming();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'6.1.3',function(){abilities.updateModifier('strength');});this.upgradeCheckAndExecute(upgrades,sheetVersion,'6.11.6',function(){spells.updateWarlockSlots();spells.updateHasSpellSlots();spells.updateHasSpellPoints();_this8.updateWarlockMaxLevelOrdinal();abilityChecks.updateInitiative();},true);this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.0.4',function(){_this8.spellsToRepeatingSectionsForEachLevel();},true);this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.0.6',function(){settings.updatePreparedMatters();spells.updateChatMacro();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.1.0',function(){_this8.spellsTabShownForOldSheets();_this8.defaultAbilityTranslate();_this8.classNamesTranslate();_this8.setSpellcasterLevel();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.2.1',function(){actions.parse('trait');spells.updateDCAndAttack();_this8.removeToggleVar();},true);this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.2.2',function(){_this8.defaultAbilityToSpellAbility();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.2.3',function(){_this8.spellsAllToAutoToggle();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.3.4',function(){var _iteratorNormalCompletion23=true;var _didIteratorError23=false;var _iteratorError23=undefined;try{for(var _iterator23=actionTypes[Symbol.iterator](),_step23;!(_iteratorNormalCompletion23=(_step23=_iterator23.next()).done);_iteratorNormalCompletion23=true){var type=_step23.value;actions.count(type);}}catch(err){_didIteratorError23=true;_iteratorError23=err;}finally{try{if(!_iteratorNormalCompletion23&&_iterator23.return){_iterator23.return();}}finally{if(_didIteratorError23){throw _iteratorError23;}}}});this.upgradeCheckAndExecute(upgrades,sheetVersion,'7.10.2',function(){spells.generateHigherLevelQueries();classes.updateLevels();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.0.0',function(){_this8.removeRollInfo();_this8.sizeTranslations();senses.update();speed.update();savingThrows.updateMacro();_this8.ammoPerUse();},true);this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.1.1',function(){equipment.updateArmor();abilityChecks.updateMacro();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.2.0',function(){settings.updateShapedD20();abilityChecks.updateSkill();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.3.0',function(){_this8.translateRecharge();});this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.4.0',function(){var _iteratorNormalCompletion24=true;var _didIteratorError24=false;var _iteratorError24=undefined;try{for(var _iterator24=actionTypes[Symbol.iterator](),_step24;!(_iteratorNormalCompletion24=(_step24=_iterator24.next()).done);_iteratorNormalCompletion24=true){var type=_step24.value;actions.updateChatMacro(type);}}catch(err){_didIteratorError24=true;_iteratorError24=err;}finally{try{if(!_iteratorNormalCompletion24&&_iterator24.return){_iterator24.return();}}finally{if(_didIteratorError24){throw _iteratorError24;}}}_this8.toggleUpgrades();actions.updateAll();attacks.update();},true);this.upgradeCheckAndExecute(upgrades,sheetVersion,'8.5.0',function(){spells.update();spells.count();});var upgradesKeys=Object.keys(upgrades).filter(function(key){return upgrades[key].notify;});(0,_utilities.addToProcessing)(upgradesKeys,function(){for(var version in upgrades){if(upgrades.hasOwnProperty(version)){console.info('version '+version+' upgrade');upgrades[version].callback();}}});}}]);return Upgrade;}();

},{"../classes/Classes":2,"../core/centerColumn/Attacks":4,"../core/centerColumn/Equipment":5,"../core/leftColumn/Abilities":6,"../core/leftColumn/AbilityChecks":7,"../core/leftColumn/SavingThrows":9,"../core/rightColumn/features/Features":10,"../header/Header":11,"../npc/Npc":12,"../npc/rightColumn/actions/Actions":13,"../resistances/Resistances":15,"../senses/Senses":23,"../settings/Settings":24,"../settings/attachers/Attachers":25,"../speed/Speed":26,"../spells/Spells":27,"./utilities":21}],19:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var ABILITIES=['strength','dexterity','constitution','intelligence','wisdom','charisma','honor','sanity'];var CLASS_DETAILS={barbarian:{hd:'d12'},bard:{cantrips:true,hd:'d8',spellcasting:'full'},cleric:{cantrips:true,hd:'d8',spellcasting:'full',preparedCasting:true},druid:{cantrips:true,hd:'d8',spellcasting:'full',preparedCasting:true},fighter:{hd:'d10'},monk:{hd:'d8'},paladin:{hd:'d10',spellcasting:'half',preparedCasting:true},psion:{cantrips:true,hd:'d6',spellcasting:'full-psionics',spellPoints:true},ranger:{hd:'d10',spellcasting:'half'},rogue:{hd:'d8'},sorcerer:{cantrips:true,hd:'d6',spellcasting:'full'},soulknife:{cantrips:true,hd:'d10',spellcasting:'half-psionics',spellPoints:true},summoner:{hd:'d6',spellcasting:'warlock'},warlock:{cantrips:true,hd:'d8',spellcasting:'warlock'},wizard:{cantrips:true,hd:'d6',spellcasting:'full',preparedCasting:true}};var CLASSES=['barbarian','bard','cleric','druid','fighter','monk','paladin','ranger','rogue','sorcerer','warlock','wizard'];var CUSTOM_SAVING_THROWS=['fortitude','reflex','will'];var SENSES=['blindsight','darkvision','tremorsense','truesight'];var SKILLS={ACROBATICS:'dexterity',ANIMALHANDLING:'wisdom',ARCANA:'intelligence',ATHLETICS:'strength',DECEPTION:'charisma',HISTORY:'intelligence',INSIGHT:'wisdom',INTIMIDATION:'charisma',INVESTIGATION:'intelligence',MEDICINE:'wisdom',NATURE:'intelligence',PERCEPTION:'wisdom',PERFORMANCE:'charisma',PERSUASION:'charisma',RELIGION:'intelligence',SLEIGHTOFHAND:'dexterity',STEALTH:'dexterity',SURVIVAL:'wisdom'};var SKILLS_CUSTOM={ACROBATICS:'dexterity',ARCANA:'intelligence',ATHLETICS:'strength',ENGINEERING:'intelligence',FINESSE:'dexterity',INFLUENCE:'charisma',INSIGHT:'wisdom',MEDICINE:'intelligence',NATURE:'wisdom',PERCEPTION:'wisdom',PERFORMANCE:'charisma',RELIGION:'intelligence',SOCIETY:'intelligence',STEALTH:'dexterity'};var SPEEDS=['speed','speed_burrow','speed_climb','speed_fly','speed_swim'];var HEAL_QUERY='?{Heal Bonus Amount|}';var XP_TABLE=[0,300,900,2700,6500,14000,23000,34000,48000,64000,85000,100000,120000,140000,165000,195000,225000,265000,305000,355000,385000,405000,435000,465000,495000,525000,555000,585000,605000,635000,665000];exports.ABILITIES=ABILITIES;exports.CLASS_DETAILS=CLASS_DETAILS;exports.CLASSES=CLASSES;exports.CUSTOM_SAVING_THROWS=CUSTOM_SAVING_THROWS;exports.SENSES=SENSES;exports.SKILLS=SKILLS;exports.SKILLS_CUSTOM=SKILLS_CUSTOM;exports.SPEEDS=SPEEDS;exports.HEAL_QUERY=HEAL_QUERY;exports.XP_TABLE=XP_TABLE;

},{}],20:[function(require,module,exports){
'use strict';var _Abilities=require('../core/leftColumn/Abilities');var _AbilityChecks=require('../core/leftColumn/AbilityChecks');var _Actions=require('../npc/rightColumn/actions/Actions');var _Attachers=require('../settings/attachers/Attachers');var _Attacks=require('../core/centerColumn/Attacks');var _Classes=require('../classes/Classes');var _Equipment=require('../core/centerColumn/Equipment');var _Features=require('../core/rightColumn/features/Features');var _Header=require('../header/Header');var _ImportData=require('./ImportData');var _Initialize=require('./Initialize');var _Npc=require('../npc/Npc');var _processing=require('../processing/processing');var _ProficiencyBonus=require('../core/leftColumn/ProficiencyBonus');var _Resistances=require('../resistances/Resistances');var _SavingThrows=require('../core/leftColumn/SavingThrows');var _Senses=require('../senses/Senses');var _Settings=require('../settings/Settings');var _Speed=require('../speed/Speed');var _Spells=require('../spells/Spells');var abilities=new _Abilities.Abilities();abilities.setup();var abilityChecks=new _AbilityChecks.AbilityChecks();abilityChecks.setup();var actions=new _Actions.Actions();actions.setup();var attachers=new _Attachers.Attachers();attachers.setup();var attacks=new _Attacks.Attacks();attacks.setup();var classes=new _Classes.Classes();classes.setup();var equipment=new _Equipment.Equipment();equipment.setup();var features=new _Features.Features();features.setup();var header=new _Header.Header();header.setup();var importData=new _ImportData.ImportData();importData.setup();var initialize=new _Initialize.Initialize();initialize.setup();var npc=new _Npc.Npc();npc.setup();var processing=new _processing.Processing();processing.setup();var proficiencyBonus=new _ProficiencyBonus.ProficiencyBonus();proficiencyBonus.setup();var resistances=new _Resistances.Resistances();resistances.setup();var savingThrows=new _SavingThrows.SavingThrows();savingThrows.setup();var senses=new _Senses.Senses();senses.setup();var settings=new _Settings.Settings();settings.setup();var speed=new _Speed.Speed();speed.setup();var spells=new _Spells.Spells();spells.setup();

},{"../classes/Classes":2,"../core/centerColumn/Attacks":4,"../core/centerColumn/Equipment":5,"../core/leftColumn/Abilities":6,"../core/leftColumn/AbilityChecks":7,"../core/leftColumn/ProficiencyBonus":8,"../core/leftColumn/SavingThrows":9,"../core/rightColumn/features/Features":10,"../header/Header":11,"../npc/Npc":12,"../npc/rightColumn/actions/Actions":13,"../processing/processing":14,"../resistances/Resistances":15,"../senses/Senses":23,"../settings/Settings":24,"../settings/attachers/Attachers":25,"../speed/Speed":26,"../spells/Spells":27,"./ImportData":16,"./Initialize":17}],21:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var isUndefined=function isUndefined(value){if(typeof value==='undefined'){return true;}return false;};var isUndefinedOrEmpty=function isUndefinedOrEmpty(value){if(isUndefined(value)||value===''){return true;}return false;};var capitalize=function capitalize(string){return string.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1);});};var camelize=function camelize(str){return str.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(match,index){if(+match===0)return'';return index===0?match.toLowerCase():match.toUpperCase();});};var firstThree=function firstThree(string){return string.substring(0,3);};var decimalAdjust=function decimalAdjust(type,value,exp){if(isUndefined(exp)||+exp===0){return Math[type](value);}value=+value;exp=+exp;if(isNaN(value)||!(typeof exp==='number'&&exp%1===0)){return NaN;}value=value.toString().split('e');value=Math[type](+(value[0]+'e'+(value[1]?+value[1]-exp:-exp)));value=value.toString().split('e');return+(value[0]+'e'+(value[1]?+value[1]+exp:exp));};var round=function round(value,exp){return decimalAdjust('round',value,exp);};var isEmpty=function isEmpty(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false;}}return true;};var exists=function exists(value){if(isUndefinedOrEmpty(value)||value===''||value==='0'||value===0){return false;}return true;};var getIntValue=function getIntValue(value,defaultValue){if(!defaultValue){defaultValue=0;}if(value===0||value==='0'){return 0;}return parseInt(value,10)||defaultValue;};var getFloatValue=function getFloatValue(value,defaultValue){if(!defaultValue){defaultValue=0;}return parseFloat(value)||defaultValue;};var getAbilityMod=function getAbilityMod(score){return Math.floor((getIntValue(score)-10)/2);};var getAbilityName=function getAbilityName(varName){if(!varName){return'strength';}else if(typeof varName==='string'){varName=varName.replace(/\W/g,'').toLowerCase();}return varName;};var getAbilityValue=function getAbilityValue(v,varName){if(exists(varName)){varName=getAbilityName(varName);return getIntValue(v[varName+'_mod'],0);}return 0;};var getAbilityShortName=function getAbilityShortName(varName,capital){if(!varName){return'Str';}varName=varName.replace(/\W/g,'');if(capital){varName=capitalize(varName);}return firstThree(varName);};var isNpc=function isNpc(v){if(exists(v.is_npc)){return true;}return false;};var getRepeatingInfo=function getRepeatingInfo(leadingString,eventInfo){var re=new RegExp(leadingString+'_(-[a-zA-Z0-9-]*)_(.*)');var match=eventInfo.sourceAttribute.match(re);var result=void 0;if(match&&match[1]&&match[2]){result={rowId:match[1],field:match[2]};}return result;};var setFinalAttrs=function setFinalAttrs(v,submit,name,options,callback){if(!isEmpty(submit)){for(var key in submit){if(submit.hasOwnProperty(key)){if(v[key]===submit[key]||isUndefinedOrEmpty(v[key])&&submit[key]===''){delete submit[key];}}}if(!isEmpty(submit)){console.info(name,'setFinalAttrs',submit);if(callback){setAttrs(submit,options,callback);}else{setAttrs(submit,options);}}}};var fromVOrSubmit=function fromVOrSubmit(v,submit,value){if(exists(submit[value])){return submit[value];}return v[value];};var addToRollFormula=function addToRollFormula(submit,repeatingString,value){if(!exists(submit[repeatingString+'_roll_formula'])){submit[repeatingString+'_roll_formula']=value;}else{submit[repeatingString+'_roll_formula']+=' '+value;}};var ordinalSpellLevel=function ordinalSpellLevel(level){var spellLevel='';level=getIntValue(level);if(level===0){spellLevel='CANTRIP';}else{var s=['TH','ST','ND','RD'];var v=level%100;spellLevel=level+(s[(v-20)%10]||s[v]||s[0])+'_LEVEL';}return spellLevel;};var addArithmeticOperator=function addArithmeticOperator(string,number){var value=number;if(string){if(number<0){value=' - '+Math.abs(number);}else{value=' + '+number;}}return value;};var showSign=function showSign(value){if(value>=0){value='+'+value;}return value;};var numberWithCommas=function numberWithCommas(x){var parts=x.toString().split('.');parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,',');return parts.join('.');};var lowercaseDamageTypes=function lowercaseDamageTypes(string){if(!string){string='';}return string.replace('Acid','acid').replace('Cold','cold').replace('Fire','fire').replace('Force','force').replace('Lightning','lightning').replace('Necrotic','necrotic').replace('Poison','poison').replace('Psychic','psychic').replace('Radiant','radiant').replace('Thunder','thunder').replace('Bludgeoning','bludgeoning').replace('Piercing','piercing').replace('Slashing','slashing').replace('And','and').replace('From','from').replace('Nonmagical','nonmagical').replace('Weapons','weapons').replace('That','that').replace('Aren\'t','aren\'t').replace('Silvered','silvered').replace('Adamantine','adamantine');};var getSetItems=function getSetItems(name,obj){var collectionArray=obj.collectionArray||[];var submit={};getAttrs(collectionArray,function(v){if(obj.callback){obj.callback(v,submit);}setFinalAttrs(v,submit,name,obj.options||{},function(){if(obj.setFinalAttrsCallback){obj.setFinalAttrsCallback();}});if(obj.returnCallback){obj.returnCallback();}});};var emptyRepeatingSection=function emptyRepeatingSection(obj){if(obj.repeatingItems){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{var _loop=function _loop(){var repeatingItem=_step.value;getSectionIDs(repeatingItem,function(ids){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=ids[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var id=_step2.value;removeRepeatingRow(repeatingItem+'_'+id);}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}});};for(var _iterator=obj.repeatingItems[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){_loop();}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}};var getSetRepeatingItemsDone=function getSetRepeatingItemsDone(v,name,obj,repeatingStrings){var submit={};if(obj.callback){obj.callback(v,submit,repeatingStrings);}setFinalAttrs(v,submit,name,obj.options||{},function(){if(obj.setFinalAttrsCallback){obj.setFinalAttrsCallback();}});if(obj.returnCallback){obj.returnCallback();}};var getSetRepeatingItems=function getSetRepeatingItems(name,obj){var collectionArray=obj.collectionArray||[];if(obj.repeatingItems){(function(){var v={};var getProcesses=[];var repeatingStrings=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{var _loop2=function _loop2(){var repeatingItem=_step3.value;getSectionIDs(repeatingItem,function(ids){if(obj.rowId){ids=[];ids.push(obj.rowId);}if(ids){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=ids[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var id=_step4.value;var repeatingString=repeatingItem+'_'+id;repeatingStrings.push(repeatingString);if(obj.collectionArrayAddItems){var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=obj.collectionArrayAddItems[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var addItem=_step5.value;collectionArray.push(repeatingString+'_'+addItem);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}if(obj.itemsToPush){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=obj.itemsToPush[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var itemToPush=_step6.value;collectionArray.push(repeatingString+'_'+itemToPush+'_'+obj.itemToPushSuffix);}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}collectionArray.push('processing');getAttrs(collectionArray,function(data){getProcesses.push(repeatingItem);v=Object.assign({},v,data);if(getProcesses.length===obj.repeatingItems.length){getSetRepeatingItemsDone(v,name,obj,repeatingStrings);}});});};for(var _iterator3=obj.repeatingItems[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){_loop2();}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}})();}};var sumRepeating=function sumRepeating(options,sumItems){var repeatingItem='repeating_'+options.collection;var collectionArray=[];var submit={};getSectionIDs(repeatingItem,function(ids){var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=ids[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var id=_step7.value;var repeatingString=repeatingItem+'_'+id;collectionArray.push(repeatingString+'_'+options.toggle);if(options.qty){collectionArray.push(repeatingString+'_'+options.qty);}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=sumItems[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var sumItem=_step11.value;collectionArray.push(sumItem.totalField);submit[sumItem.totalField]=0;if(sumItem.totalFieldBonus){collectionArray.push(sumItem.totalFieldBonus);}if(sumItem.totalFieldSecondary){collectionArray.push(sumItem.totalFieldSecondary);submit[sumItem.totalFieldSecondary]=0;}if(sumItem.totalFieldSecondaryBonus){collectionArray.push(sumItem.totalFieldSecondaryBonus);}collectionArray.push(repeatingString+'_'+sumItem.fieldToAdd);if(sumItem.bonus){collectionArray.push(repeatingString+'_'+sumItem.bonus);}if(sumItem.armorType){collectionArray.push(repeatingString+'_'+sumItem.armorType);}if(sumItem.itemTotal){collectionArray.push(repeatingString+'_'+sumItem.itemTotal);}}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}if(options.getExtraFields){collectionArray=collectionArray.concat(options.getExtraFields);}getAttrs(collectionArray,function(v){var dexMod=0;if(options.collection==='armor'){dexMod=getIntValue(v.dexterity_mod);}var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=ids[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var id=_step8.value;var repeatingString=repeatingItem+'_'+id;var qty=getIntValue(v[repeatingString+'_'+options.qty],1);var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=sumItems[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var sumItem=_step10.value;var fieldToAdd=getFloatValue(v[repeatingString+'_'+sumItem.fieldToAdd]);if(sumItem.bonus){fieldToAdd+=getFloatValue(v[repeatingString+'_'+sumItem.bonus]);}if(sumItem.armorType){if(!v[repeatingString+'_'+sumItem.armorType]||v[repeatingString+'_'+sumItem.armorType]==='Light Armor'){fieldToAdd+=dexMod;}else if(v[repeatingString+'_'+sumItem.armorType]==='Medium Armor'){var mediumArmorDexMod=getIntValue(v.medium_armor_max_dex,2);fieldToAdd+=Math.min(mediumArmorDexMod,dexMod);}}var itemTotal=round(qty*fieldToAdd,-2);if(sumItem.itemTotal){submit[repeatingString+'_'+sumItem.itemTotal]=itemTotal;}var toggle=v[repeatingString+'_'+options.toggle];if(toggle!==0&&toggle!=='0'){submit[sumItem.totalField]+=itemTotal;if(sumItem.armorType){if(v[repeatingString+'_'+sumItem.armorType]==='Shield'){submit[sumItem.totalFieldSecondary]+=itemTotal;}}}}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=sumItems[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var _sumItem=_step9.value;if(_sumItem.totalField&&!exists(submit[_sumItem.totalField])){submit[_sumItem.totalField]=0;}if(_sumItem.totalFieldSecondary&&!exists(submit[_sumItem.totalFieldSecondary])){submit[_sumItem.totalFieldSecondary]=0;}if(_sumItem.totalFieldBonus){submit[_sumItem.totalField+'_sum']=submit[_sumItem.totalField];submit[_sumItem.totalField]+=getIntValue(v[_sumItem.totalFieldBonus]);}if(submit[_sumItem.totalField]){submit[_sumItem.totalField]=round(submit[_sumItem.totalField],-2);}if(_sumItem.totalFieldSecondaryBonus){submit[_sumItem.totalFieldSecondary+'_sum']=submit[_sumItem.totalFieldSecondary];submit[_sumItem.totalFieldSecondary]+=getIntValue(v[_sumItem.totalFieldSecondaryBonus]);}if(submit[_sumItem.totalFieldSecondary]){submit[_sumItem.totalFieldSecondary]=round(submit[_sumItem.totalFieldSecondary],-2);}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}if(options.collection==='armor'&&!isNpc(v)&&isUndefinedOrEmpty(v.ac_srd)){submit.ac_unarmored_calc+=getIntValue(v.base_ac,10)+dexMod+getAbilityValue(v,v.ac_unarmored_ability);submit.AC=Math.max(submit.ac_armored_calc,submit.ac_unarmored_calc);}setFinalAttrs(v,submit,'sumRepeating',{});});});};var getRepeatingItemOfRepeatingString=function getRepeatingItemOfRepeatingString(repeatingString){return repeatingString.substring(0,repeatingString.lastIndexOf('_'));};var getIdOfRepeatingString=function getIdOfRepeatingString(repeatingString){return repeatingString.substring(repeatingString.lastIndexOf('_')+1);};var getLevelOfRepeatingString=function getLevelOfRepeatingString(repeatingString){var repeatingItem=getRepeatingItemOfRepeatingString(repeatingString);return getIntValue(repeatingItem.substr(repeatingItem.length-1));};var getSkillIdByStorageName=function getSkillIdByStorageName(v,repeatingStrings,prop){var returnId=void 0;var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=repeatingStrings[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var repeatingString=_step12.value;if(v[repeatingString+'_storage_name']===prop||v[repeatingString+'_storage_name']===camelize(prop)){returnId=getIdOfRepeatingString(repeatingString);break;}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}return returnId;};var setCritDamage=function setCritDamage(v,submit,repeatingString){if(!fromVOrSubmit(v,submit,repeatingString+'_damage_crit')&&v[repeatingString+'_damage']){submit[repeatingString+'_damage_crit']=v[repeatingString+'_damage'];}if(!fromVOrSubmit(v,submit,repeatingString+'_second_damage_crit')&&v[repeatingString+'_second_damage']){submit[repeatingString+'_second_damage_crit']=v[repeatingString+'_second_damage'];}};var updateHD=function updateHD(v,submit,hd){for(var key in hd){if(hd.hasOwnProperty(key)){if(hd[key]&&hd[key]!==0){if(isUndefinedOrEmpty(v['hd_'+key])){submit['hd_'+key]=hd[key];}submit['hd_'+key+'_max']=hd[key];submit['hd_'+key+'_query']='?{HD';for(var x=1;x<=hd[key];x+=1){submit['hd_'+key+'_query']+='|'+x;}submit['hd_'+key+'_query']+='}';submit['hd_'+key+'_toggle']=1;}else{if(!isUndefinedOrEmpty(v['hd_'+key])){submit['hd_'+key]=0;}if(!isUndefinedOrEmpty(v['hd_'+key+'_max'])){submit['hd_'+key+'_max']=0;}if(!isUndefinedOrEmpty(v['hd_'+key+'_query'])){submit['hd_'+key+'_query']='';}if(exists(v['hd_'+key+'_toggle'])){submit['hd_'+key+'_toggle']=0;}}}}};var uniqeArray=function uniqeArray(arrArg){return arrArg.filter(function(elem,pos,arr){return arr.indexOf(elem)===pos;});};var addToProcessing=function addToProcessing(name,addToProcessingCallback){getSetItems(name+' processing',{collectionArray:['processing'],callback:function callback(v,submit){if(!isUndefinedOrEmpty(v.processing)&&typeof v.processing==='string'){submit.processing=v.processing.split(', ');}else{submit.processing=[];}if(typeof name==='string'){if(submit.processing&&submit.processing.indexOf(name)===-1){submit.processing.push(name);}}else if(Array.isArray(name)){submit.processing=uniqeArray(submit.processing.concat(name));}submit.processing=submit.processing.join(', ');if(addToProcessingCallback){addToProcessingCallback();}}});};var removeFromProcessing=function removeFromProcessing(v,submit,name){if(!isUndefinedOrEmpty(v.processing)&&typeof v.processing==='string'){submit.processing=v.processing.split(', ');}else{submit.processing=[];}var index=submit.processing.indexOf(name);if(index>=0){submit.processing.splice(index,1);}if(submit.processing.length>0){submit.processing=submit.processing.join(', ');}else{submit.processing='';}};exports.addArithmeticOperator=addArithmeticOperator;exports.addToRollFormula=addToRollFormula;exports.addToProcessing=addToProcessing;exports.camelize=camelize;exports.capitalize=capitalize;exports.emptyRepeatingSection=emptyRepeatingSection;exports.exists=exists;exports.firstThree=firstThree;exports.fromVOrSubmit=fromVOrSubmit;exports.getAbilityMod=getAbilityMod;exports.getAbilityName=getAbilityName;exports.getAbilityValue=getAbilityValue;exports.getAbilityShortName=getAbilityShortName;exports.getFloatValue=getFloatValue;exports.getIdOfRepeatingString=getIdOfRepeatingString;exports.getIntValue=getIntValue;exports.getLevelOfRepeatingString=getLevelOfRepeatingString;exports.getRepeatingInfo=getRepeatingInfo;exports.getRepeatingItemOfRepeatingString=getRepeatingItemOfRepeatingString;exports.getSetItems=getSetItems;exports.getSetRepeatingItems=getSetRepeatingItems;exports.getSkillIdByStorageName=getSkillIdByStorageName;exports.isEmpty=isEmpty;exports.isNpc=isNpc;exports.isUndefined=isUndefined;exports.isUndefinedOrEmpty=isUndefinedOrEmpty;exports.lowercaseDamageTypes=lowercaseDamageTypes;exports.numberWithCommas=numberWithCommas;exports.ordinalSpellLevel=ordinalSpellLevel;exports.removeFromProcessing=removeFromProcessing;exports.round=round;exports.setCritDamage=setCritDamage;exports.setFinalAttrs=setFinalAttrs;exports.showSign=showSign;exports.sumRepeating=sumRepeating;exports.updateHD=updateHD;

},{}],22:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var currentVersion='8.5.0';exports.currentVersion=currentVersion;

},{}],23:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Senses=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../scripts/constants');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Senses=exports.Senses=function(){function Senses(){_classCallCheck(this,Senses);}_createClass(Senses,[{key:'parseFromSRD',value:function parseFromSRD(v,submit){if(v.senses){v.senses=v.senses.toLowerCase();var regex=/(blindsight|darkvision|tremorsense|truesight)\s+(\d+)/g;var senses=void 0;while((senses=regex.exec(v.senses))!==null){submit[senses[1]]=senses[2];}if(v.senses.indexOf('blind beyond')!==-1){submit.blindsight_blind_beyond=1;}submit.senses='';}}},{key:'update',value:function update(){var _this=this;(0,_utilities.getSetItems)('senses.update',{collectionArray:_constants.SENSES.concat(['distance_system','blindsight_blind_beyond','senses_exist','senses','senses_string']),callback:function callback(v,submit){var senses=[];var distance=v.distance_system==='meters'?getTranslationByKey('METERS_ABREVIATION'):getTranslationByKey('FEET_ABREVIATION');_this.parseFromSRD(v,submit);if(!(0,_utilities.isUndefinedOrEmpty)(v.blindsight)){senses.push(getTranslationByKey('BLINDSIGHT').toLowerCase()+' '+v.blindsight+' '+distance+((0,_utilities.exists)(v.blindsight_blind_beyond)?' ('+getTranslationByKey('BLIND_BEYOND').toLowerCase()+')':''));}if(!(0,_utilities.isUndefinedOrEmpty)(v.darkvision)){senses.push(getTranslationByKey('DARKVISION').toLowerCase()+' '+v.darkvision+' '+distance);}if(!(0,_utilities.isUndefinedOrEmpty)(v.tremorsense)){senses.push(getTranslationByKey('TREMORSENSE').toLowerCase()+' '+v.tremorsense+' '+distance);}if(!(0,_utilities.isUndefinedOrEmpty)(v.truesight)){senses.push(getTranslationByKey('TRUESIGHT').toLowerCase()+' '+v.truesight+' '+distance);}submit.senses_string=senses.join(', ');if(senses.length>0){submit.senses_exist=1;}else{submit.senses_exist=0;}}});}},{key:'changeDistanceSystem',value:function changeDistanceSystem(){var _this2=this;(0,_utilities.getSetItems)('senses.changeDistanceSystem',{collectionArray:_constants.SENSES.concat(['distance_system']),callback:function callback(v,submit){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.SENSES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var sense=_step.value;if(v[sense]&&v.distance_system==='feet'){submit[sense]=(0,_utilities.round)(v[sense]*3.280839895,0);}else if(v[sense]&&v.distance_system==='meters'){submit[sense]=(0,_utilities.round)(v[sense]*0.3048,-3);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}},setFinalAttrsCallback:function setFinalAttrsCallback(){_this2.update();}});}},{key:'setup',value:function setup(){var _this3=this;var sensesMap=_constants.SENSES.concat(['blindsight_blind_beyond','senses']).map(function(sense){return'change:'+sense;}).join(' ');on(sensesMap,function(){_this3.update();});on('change:distance_system',function(){_this3.changeDistanceSystem();});}}]);return Senses;}();

},{"../scripts/constants":19,"../scripts/utilities":21}],24:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Settings=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _AbilityChecks=require('../core/leftColumn/AbilityChecks');var _Actions=require('../npc/rightColumn/actions/Actions');var _Attacks=require('../core/centerColumn/Attacks');var _Spells=require('../spells/Spells');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var abilityChecks=new _AbilityChecks.AbilityChecks();var actions=new _Actions.Actions();var attacks=new _Attacks.Attacks();var spells=new _Spells.Spells();var Settings=exports.Settings=function(){function Settings(){_classCallCheck(this,Settings);}_createClass(Settings,[{key:'updateShapedD20',value:function updateShapedD20(){(0,_utilities.getSetItems)('settings.updateShapedD20',{collectionArray:['roll_setting','shaped_d20'],options:{silent:true},callback:function callback(v,submit){if(v.shaped_d20==='1d20'){submit.roll_setting='roll2';actions.update();attacks.update();spells.update();}else{submit.roll_setting='ignore';if(v.roll_setting==='roll2'){actions.updateAll();attacks.update();spells.update();}}}});}},{key:'updateWeightSystem',value:function updateWeightSystem(){(0,_utilities.getSetItems)('settings.updateWeightSystem',{collectionArray:['weight_system','weight_per_coin','carrying_capacity_multiplier','max_push_drag_lift_multiplier','encumbered_multiplier','heavily_encumbered_multiplier'],callback:function callback(v,submit){if(v.weight_system==='pounds'){submit.weight_per_coin=0.02;submit.carrying_capacity_multiplier=15;submit.max_push_drag_lift_multiplier=30;submit.encumbered_multiplier=5;submit.heavily_encumbered_multiplier=10;}else if(v.weight_system==='kilograms'){submit.weight_per_coin=0.00907;submit.carrying_capacity_multiplier=6.804;submit.max_push_drag_lift_multiplier=13.608;submit.encumbered_multiplier=2.268;submit.heavily_encumbered_multiplier=4.536;}}});}},{key:'updatePreparedMatters',value:function updatePreparedMatters(){(0,_utilities.getSetItems)('settings.updatePreparedMatters',{collectionArray:['prepared_matters','prepared_matters_var'],callback:function callback(v,submit){if((0,_utilities.getIntValue)(v.prepared_matters)){submit.prepared_matters_var=true;}else{submit.prepared_matters_var='';}}});}},{key:'setup',value:function setup(){var _this=this;on('change:shaped_d20',function(){_this.updateShapedD20();});on('change:weight_system',function(){_this.updateWeightSystem();});on('change:prepared_matters',function(){_this.updatePreparedMatters();});on('change:show_passive_skills',function(){abilityChecks.updateSkill();});}}]);return Settings;}();

},{"../core/centerColumn/Attacks":4,"../core/leftColumn/AbilityChecks":7,"../npc/rightColumn/actions/Actions":13,"../scripts/utilities":21,"../spells/Spells":27}],25:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Attachers=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../../scripts/constants');var _utilities=require('../../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Attachers=exports.Attachers=function(){function Attachers(){_classCallCheck(this,Attachers);}_createClass(Attachers,[{key:'update',value:function update(){var collectionArray=['initiative','death_saving_throw','hit_dice','attack','spell','skill','crit'];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.ABILITIES[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var ability=_step.value;collectionArray.push(ability+'_check');collectionArray.push(ability+'_saving_throw');}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.CUSTOM_SAVING_THROWS[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var customSavingThrow=_step2.value;collectionArray.push(customSavingThrow+'_saving_throw');}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}for(var level=0;level<=9;level+=1){collectionArray.push('spell_level_'+level);}var itemsToPush=collectionArray.slice(0);collectionArray=collectionArray.map(function(attacher){return'attacher_'+attacher;});(0,_utilities.getSetRepeatingItems)('attachers.update',{repeatingItems:['repeating_attacher'],collectionArray:collectionArray,collectionArrayAddItems:['name','freetext','freeform'],itemsToPush:itemsToPush,itemToPushSuffix:'attacher',callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=itemsToPush[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var itemToPush=_step3.value;submit['attacher_'+itemToPush]='';}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=itemsToPush[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _itemToPush=_step5.value;var attacher=v[repeatingString+'_'+_itemToPush+'_attacher'];if((0,_utilities.exists)(attacher)&&attacher==='on'){var attacherName=v[repeatingString+'_name']||'';var freeText=v[repeatingString+'_freetext'];if((0,_utilities.exists)(attacherName)&&(0,_utilities.exists)(freeText)){var critAttacher=v[repeatingString+'_crit_attacher'];if(critAttacher==='on'){submit['attacher_'+_itemToPush]+='{{crit_name='+attacherName+'}} ';submit['attacher_'+_itemToPush]+='{{crit_text='+freeText+'}} ';}else{submit['attacher_'+_itemToPush]+='{{'+attacherName+'='+freeText+'}} ';}}var freeForm=v[repeatingString+'_freeform'];if((0,_utilities.exists)(freeForm)){submit['attacher_'+_itemToPush]+=freeForm+' ';}}}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}});}},{key:'setup',value:function setup(){var _this=this;on('change:repeating_attacher remove:repeating_attacher',function(){_this.update();});}}]);return Attachers;}();

},{"../../scripts/constants":19,"../../scripts/utilities":21}],26:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Speed=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../scripts/constants');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Speed=exports.Speed=function(){function Speed(){_classCallCheck(this,Speed);}_createClass(Speed,[{key:'parseFromSRD',value:function parseFromSRD(v,submit){if(v.npc_speed){v.npc_speed=v.npc_speed.toLowerCase();var match=v.npc_speed.match(/^\s*(\d+)\s*ft/);if(match&&match[1]){submit.speed=match[1];}var regex=/(burrow|climb|fly|swim)\s+(\d+)/g;var speeds=void 0;while((speeds=regex.exec(v.npc_speed))!==null){submit['speed_'+speeds[1]]=speeds[2];}if(v.npc_speed.indexOf('hover')!==-1){submit.speed_fly_hover=1;}submit.npc_speed='';}}},{key:'update',value:function update(){var _this=this;(0,_utilities.getSetItems)('speed.update',{collectionArray:_constants.SPEEDS.concat(['distance_system','speed_fly_hover','npc_speed','speed_string']),callback:function callback(v,submit){var speed=[];var distance=v.distance_system==='meters'?getTranslationByKey('METERS_ABREVIATION'):getTranslationByKey('FEET_ABREVIATION');_this.parseFromSRD(v,submit);if(!(0,_utilities.isUndefinedOrEmpty)(v.speed)){speed.push(v.speed+' '+distance);}if(!(0,_utilities.isUndefinedOrEmpty)(v.speed_burrow)){speed.push(getTranslationByKey('BURROW').toLowerCase()+' '+v.speed_burrow+' '+distance);}if(!(0,_utilities.isUndefinedOrEmpty)(v.speed_climb)){speed.push(getTranslationByKey('CLIMB').toLowerCase()+' '+v.speed_climb+' '+distance);}if(!(0,_utilities.isUndefinedOrEmpty)(v.speed_fly)){speed.push(getTranslationByKey('FLY').toLowerCase()+' '+v.speed_fly+' '+distance+((0,_utilities.exists)(v.speed_fly_hover)?' ('+getTranslationByKey('HOVER').toLowerCase()+')':''));}if(!(0,_utilities.isUndefinedOrEmpty)(v.speed_swim)){speed.push(getTranslationByKey('SWIM').toLowerCase()+' '+v.speed_swim+' '+distance);}submit.speed_string=speed.join(', ');}});}},{key:'changeDistanceSystem',value:function changeDistanceSystem(){var _this2=this;(0,_utilities.getSetItems)('speed.changeDistanceSystem',{collectionArray:_constants.SPEEDS.concat(['distance_system']),callback:function callback(v,submit){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.SPEEDS[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var speed=_step.value;if(v[speed]&&v.distance_system==='feet'){submit[speed]=(0,_utilities.round)(v[speed]*3.280839895,0);}else if(v[speed]&&v.distance_system==='meters'){submit[speed]=(0,_utilities.round)(v[speed]*0.3048,-3);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}},setFinalAttrsCallback:function setFinalAttrsCallback(){_this2.update();}});}},{key:'setup',value:function setup(){var _this3=this;var speedsMap=_constants.SPEEDS.concat(['speed_fly_hover','npc_speed']).map(function(speed){return'change:'+speed;}).join(' ');on(speedsMap,function(){_this3.update();});on('change:distance_system',function(){_this3.changeDistanceSystem();});}}]);return Speed;}();

},{"../scripts/constants":19,"../scripts/utilities":21}],27:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Spells=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=require('../scripts/constants');var _updateToggles=require('./../actionComponents/updateToggles');var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Spells=exports.Spells=function(){function Spells(){_classCallCheck(this,Spells);this.conversionArray=['type','add_casting_modifier','add_second_casting_modifier','cast_as_level','name','spell_level','school','ritual','ritual_output','is_prepared','casting_time','range','components','materials','materials_show','duration','concentration','content_toggle','content','toggle_details','roll_toggle','proficiency','attack_ability','attack_bonus','crit_range','saving_throw_toggle','saving_throw_condition','saving_throw_ability','saving_throw_bonus','saving_throw_dc','saving_throw_vs_ability','saving_throw_failure','saving_throw_success','damage_formula','damage_crit_formula','damage_toggle','damage','damage_ability','damage_bonus','damage_type','damage_crit','second_damage_formula','second_damage_crit_formula','second_damage_toggle','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','second_damage_crit','heal_formula','heal_toggle','heal','heal_ability','heal_bonus','heal_query_toggle','higher_level_query','higher_level_toggle','higher_level_dice','higher_level_die','second_higher_level_dice','second_higher_level_die','higher_level_heal','extras_toggle','emote','freetext','freeform','special_effects_toggle','special_effects_type','special_effects_color','special_effects_points_of_origin','parsed'];}_createClass(Spells,[{key:'parseSRD',value:function parseSRD(v,submit,repeatingString){if(v[repeatingString+'_name']==='Magic Missile'&&v[repeatingString+'_spell_level_from_srd']){v[repeatingString+'_damage']='1d4 ';submit[repeatingString+'_damage']='1d4';submit[repeatingString+'_damage_crit']='1d4';submit[repeatingString+'_damage_bonus']=1;v[repeatingString+'_higher_level_dice']=null;submit[repeatingString+'_higher_level_dice']='';v[repeatingString+'_higher_level_die']=null;submit[repeatingString+'_higher_level_die']='';}if(v[repeatingString+'_spell_level_from_srd']){submit[repeatingString+'_spell_level']=(0,_utilities.ordinalSpellLevel)(v[repeatingString+'_spell_level_from_srd']);submit[repeatingString+'_spell_level_from_srd']='';}if(v[repeatingString+'_school_from_srd']){submit[repeatingString+'_school']=v[repeatingString+'_school_from_srd'].toUpperCase();submit[repeatingString+'_school_from_srd']='';}if(v[repeatingString+'_casting_time_from_srd']){submit[repeatingString+'_casting_time']=v[repeatingString+'_casting_time_from_srd'].toUpperCase().trim().replace(/\s/g,'_');submit[repeatingString+'_casting_time_from_srd']='';}if(v[repeatingString+'_components_from_srd']){submit[repeatingString+'_components']='COMPONENTS_'+v[repeatingString+'_components_from_srd'].toUpperCase().trim().replace(/\s/g,'_');submit[repeatingString+'_components_from_srd']='';}if(v[repeatingString+'_duration_from_srd']){var duration='';if(v[repeatingString+'_duration_from_srd'].toLowerCase().indexOf('up to')!==-1){duration+='CONCENTRATION_';}duration+=v[repeatingString+'_duration_from_srd'].toUpperCase().trim().replace(/\s/g,'_');submit[repeatingString+'_duration']=duration;submit[repeatingString+'_duration_from_srd']='';}if(v[repeatingString+'_damage_progression_from_srd']&&v[repeatingString+'_damage']){var damage='((@{level} + 1) / 6 + 0.5)'+v[repeatingString+'_damage'].replace('1d','d');submit[repeatingString+'_damage']=damage;submit[repeatingString+'_damage_crit']=damage;submit[repeatingString+'_damage_progression_from_srd']='';}if(v[repeatingString+'_saving_throw_vs_ability_from_srd']){submit[repeatingString+'_saving_throw_vs_ability']=v[repeatingString+'_saving_throw_vs_ability_from_srd'].toUpperCase();submit[repeatingString+'_saving_throw_vs_ability_from_srd']='';}if(v[repeatingString+'_content']){var cantripHigherLevelRegex=/(This spells damage increases.*)/gi;var cantripHigherLevelResult=cantripHigherLevelRegex.exec(v[repeatingString+'_content']);var spellHigherLevelRegex=/(At Higher Levels.*)/gi;var spellHigherLevelResult=spellHigherLevelRegex.exec(v[repeatingString+'_content']);if(cantripHigherLevelResult){submit[repeatingString+'_higher_level']=cantripHigherLevelResult[1];submit[repeatingString+'_content']=v[repeatingString+'_content'].replace(cantripHigherLevelResult[1],'').trim();}if(spellHigherLevelResult){submit[repeatingString+'_higher_level']=spellHigherLevelResult[1];submit[repeatingString+'_content']=v[repeatingString+'_content'].replace(spellHigherLevelResult[1],'').trim();}}}},{key:'updateSpellAbility',value:function updateSpellAbility(){var repeatingItems=[];for(var level=0;level<=9;level+=1){repeatingItems.push('repeating_spell'+level);}(0,_utilities.getSetRepeatingItems)('spells.updateSpellAbility',{repeatingItems:repeatingItems,collectionArray:['spell_ability'],collectionArrayAddItems:['name','attack_ability','damage_ability','second_damage_ability','saving_throw_ability','heal_ability'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=repeatingStrings[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var repeatingString=_step.value;var name=v[repeatingString+'_name'];if(!name){removeRepeatingRow(repeatingString);continue;}if(v.spell_ability){v.spell_ability=v.spell_ability.toLowerCase();submit[repeatingString+'_attack_ability']=v.spell_ability;if(v[repeatingString+'_damage_ability']){submit[repeatingString+'_damage_ability']=v.spell_ability;}if(v[repeatingString+'_second_damage_ability']){submit[repeatingString+'_second_damage_ability']=v.spell_ability;}submit[repeatingString+'_saving_throw_ability']=v.spell_ability;if(v[repeatingString+'_heal_ability']){submit[repeatingString+'_heal_ability']=v.spell_ability;}}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}});}},{key:'update',value:function update(obj){var _this=this;var collectionArray=['is_npc','pb','finesse_mod','global_spell_attack_bonus','global_spell_damage_bonus','global_spell_dc_bonus','global_spell_heal_bonus','spell_ability','caster_level','base_dc','shaped_d20'];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_constants.ABILITIES[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var ability=_step2.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var repeatingItems=[];if(!obj||!obj.hasOwnProperty('level')){for(var level=0;level<=9;level+=1){repeatingItems.push('repeating_spell'+level);}}else{repeatingItems.push('repeating_spell'+obj.level);}(0,_utilities.getSetRepeatingItems)('spells.update',{repeatingItems:repeatingItems,collectionArray:collectionArray,collectionArrayAddItems:['name','spell_level','spell_level_from_srd','school','school_from_srd','ritual','ritual_output','is_prepared','casting_time','casting_time_from_srd','components','components_from_srd','materials','materials_show','duration','duration_from_srd','damage_progression_from_srd','concentration','add_casting_modifier','add_second_casting_modifier','type','parsed','roll_formula','content_toggle','content','roll_toggle','to_hit','proficiency','attack_ability','attack_bonus','saving_throw_toggle','saving_throw_ability','saving_throw_vs_ability','saving_throw_vs_ability_from_srd','saving_throw_bonus','saving_throw_dc','damage_toggle','damage_formula','damage_crit_formula','damage','damage_ability','damage_bonus','damage_type','damage_crit','second_damage_formula','second_damage_toggle','second_damage_formula','second_damage_crit_formula','second_damage','second_damage_ability','second_damage_bonus','second_damage_type','second_damage_crit','damage_string','heal_toggle','heal','heal_ability','heal_bonus','heal_query_toggle','higher_level_toggle','higher_level','higher_level_dice','higher_level_die','second_higher_level_dice','second_higher_level_die','higher_level_heal','higher_level_query','extras_toggle','emote','freetext','freeform','special_effects_toggle'],rowId:obj?obj.rowId:null,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=repeatingStrings[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var repeatingString=_step3.value;var name=v[repeatingString+'_name'];if(!name){removeRepeatingRow(repeatingString);continue;}var _level=(0,_utilities.getLevelOfRepeatingString)(repeatingString);_this.parseSRD(v,submit,repeatingString);(0,_updateToggles.updateContentToggle)(v,submit,repeatingString);submit[repeatingString+'_higher_level_query']='@{cast_as_level_'+_level+'}';if(_level===0&&(0,_utilities.isUndefined)(v[repeatingString+'_is_prepared'])){submit[repeatingString+'_is_prepared']='Yes';submit[repeatingString+'_higher_level_query']='';}if(!(0,_utilities.isUndefined)((0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_duration'))&&(0,_utilities.fromVOrSubmit)(v,submit,repeatingString+'_duration').indexOf('CONCENTRATION')!==-1){submit[repeatingString+'_concentration']='Yes';}else{submit[repeatingString+'_concentration']='';}if(v[repeatingString+'_ritual']==='Yes'){submit[repeatingString+'_ritual_output']='?{Cast as|Ritual,{{ritual=1&#125;&#125;|Spell,}';}else{submit[repeatingString+'_ritual_output']='';}if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_materials'])){submit[repeatingString+'_materials_show']=1;}else if(!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_materials_show'])){submit[repeatingString+'_materials_show']=0;}var attackOptions={ability:v.spell_ability,attackAbility:true,globalAttackBonus:v.global_spell_attack_bonus,globalAttackBonusLabel:'global spell attack bonus',type:'spell'};(0,_updateToggles.updateAttackToggle)(v,submit,repeatingString,attackOptions);var savingThrowOptions={ability:v.spell_ability,bonusDC:v.global_spell_dc_bonus};(0,_updateToggles.updateSavingThrowToggle)(v,submit,repeatingString,savingThrowOptions);var damageOptions={ability:v.spell_ability,globalDamageBonus:v.global_spell_damage_bonus,globalDamageBonusLabel:'global spell damage bonus',type:'spell'};(0,_updateToggles.updateDamageToggle)(v,submit,repeatingString,damageOptions);if(v.damage_type){submit.damage_type=(0,_utilities.lowercaseDamageTypes)(v.damage_type);}if(v.second_damage_type){submit.second_damage_type=(0,_utilities.lowercaseDamageTypes)(v.second_damage_type);}(0,_utilities.setCritDamage)(v,submit,repeatingString);if((0,_utilities.isNpc)(v)&&v.caster_level&&v[repeatingString+'_damage']&&v[repeatingString+'_damage'].indexOf('@{level}')!==-1){submit[repeatingString+'_damage']=v[repeatingString+'_damage'].replace('@{level}','@{caster_level}');}var healOptions={ability:v.spell_ability};(0,_updateToggles.updateHealToggle)(v,submit,repeatingString,healOptions);(0,_updateToggles.updateHigherLevelToggle)(v,submit,repeatingString,_level);(0,_updateToggles.updateSpecialEffectsToggle)(v,submit,repeatingString);(0,_updateToggles.updateExtrasToggle)(v,submit,repeatingString);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}});}},{key:'oldValueToNew',value:function oldValueToNew(v,submit,repeatingString,newRepeatingString,field){if(!(0,_utilities.isUndefined)(_typeof(v[repeatingString+'_'+field]))){submit[newRepeatingString+'_'+field]=v[repeatingString+'_'+field];}}},{key:'changeLevel',value:function changeLevel(rowId,oldLevel){var _this2=this;var collectionArrayAddItems=this.conversionArray;var newLevel=void 0;(0,_utilities.getSetRepeatingItems)('spells.changeLevel',{repeatingItems:['repeating_spell'+oldLevel],collectionArrayAddItems:collectionArrayAddItems,rowId:rowId,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=repeatingStrings[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var repeatingString=_step4.value;newLevel=(0,_utilities.getIntValue)(v[repeatingString+'_spell_level']);if(oldLevel!==newLevel){var newRepeatingString='repeating_spell'+newLevel+'_'+generateRowID();var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=collectionArrayAddItems[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var field=_step5.value;_this2.oldValueToNew(v,submit,repeatingString,newRepeatingString,field);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}removeRepeatingRow(repeatingString);}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}},setFinalAttrsCallback:function setFinalAttrsCallback(){_this2.updateChatMacro([oldLevel,newLevel]);}});}},{key:'updateSlots',value:function updateSlots(){var collectionArray=['caster_level','caster_type'];var levels={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};for(var level in levels){if(levels.hasOwnProperty(level)){collectionArray.push('spell_slots_l'+level);collectionArray.push('spell_slots_l'+level+'_calc');collectionArray.push('spell_slots_l'+level+'_bonus');collectionArray.push('spell_slots_l'+level+'_max');}}(0,_utilities.getSetItems)('spells.updateSlots',{collectionArray:collectionArray,callback:function callback(v,submit){var casterLevel=(0,_utilities.getIntValue)(v.caster_level);var casterType=v.caster_type;if(casterType==='full'){if(casterLevel>=3){levels[1]=4;}else if(casterLevel===2){levels[1]=3;}else if(casterLevel===1){levels[1]=2;}if(casterLevel>=4){levels[2]=3;}else if(casterLevel===3){levels[2]=2;}if(casterLevel>=6){levels[3]=3;}else if(casterLevel===5){levels[3]=2;}if(casterLevel>=9){levels[4]=3;}else if(casterLevel===8){levels[4]=2;}else if(casterLevel===7){levels[4]=1;}if(casterLevel>=18){levels[5]=3;}else if(casterLevel>=10){levels[5]=2;}else if(casterLevel===9){levels[5]=1;}if(casterLevel>=19){levels[6]=2;}else if(casterLevel>=11){levels[6]=1;}if(casterLevel>=20){levels[7]=2;}else if(casterLevel>=13){levels[7]=1;}if(casterLevel>=15){levels[8]=1;}if(casterLevel>=17){levels[9]=1;}}if(casterType==='half'){if(casterLevel>=5){levels[1]=4;}else if(casterLevel>=3){levels[1]=3;}else if(casterLevel===2){levels[1]=2;}if(casterLevel>=7){levels[2]=3;}else if(casterLevel>=5){levels[2]=2;}if(casterLevel>=11){levels[3]=3;}else if(casterLevel>=9){levels[3]=2;}if(casterLevel>=17){levels[4]=3;}else if(casterLevel>=15){levels[4]=2;}else if(casterLevel>=13){levels[4]=1;}if(casterLevel>=19){levels[5]=2;}else if(casterLevel>=17){levels[5]=1;}}if(casterType==='third'){if(casterLevel>=7){levels[1]=4;}else if(casterLevel>=4){levels[1]=3;}else if(casterLevel===3){levels[1]=2;}if(casterLevel>=10){levels[2]=3;}else if(casterLevel>=7){levels[2]=2;}if(casterLevel>=16){levels[3]=3;}else if(casterLevel>=13){levels[3]=2;}if(casterLevel>=19){levels[4]=1;}}for(var _level2 in levels){if(levels.hasOwnProperty(_level2)){if(levels[_level2]>0||(0,_utilities.exists)(v['spell_slots_l'+_level2+'_calc'])){submit['spell_slots_l'+_level2+'_calc']=levels[_level2];}else if((0,_utilities.exists)(v['spell_slots_l'+_level2+'_calc'])){submit['spell_slots_l'+_level2+'_calc']='';}var spellSlotMax=levels[_level2]+(0,_utilities.getIntValue)(v['spell_slots_l'+_level2+'_bonus']);if(spellSlotMax>0){submit['spell_slots_l'+_level2+'_max']=spellSlotMax;if((0,_utilities.isUndefinedOrEmpty)(v['spell_slots_l'+_level2])){submit['spell_slots_l'+_level2]=spellSlotMax;}}else{if((0,_utilities.exists)(v['spell_slots_l'+_level2])){submit['spell_slots_l'+_level2]='';}if((0,_utilities.exists)(v['spell_slots_l'+_level2+'_max'])){submit['spell_slots_l'+_level2+'_max']=0;}}}}}});}},{key:'updateWarlockSlots',value:function updateWarlockSlots(){(0,_utilities.getSetItems)('spells.updateWarlockSlots',{collectionArray:['warlock_spell_slots','warlock_spell_slots_calc','warlock_spell_slots_bonus','warlock_spell_slots_max'],callback:function callback(v,submit){var warlockSlots=(0,_utilities.getIntValue)(v.warlock_spell_slots_calc)+(0,_utilities.getIntValue)(v.warlock_spell_slots_bonus);submit.warlock_spell_slots=warlockSlots;submit.warlock_spell_slots_max=warlockSlots;if(warlockSlots){submit.has_warlock_spell_slots=true;}else{submit.has_warlock_spell_slots='';}}});}},{key:'checkIfSpellHasHigherLevelSlots',value:function checkIfSpellHasHigherLevelSlots(v,spellLevel){var warlockSlots=(0,_utilities.getIntValue)(v.warlock_spell_slots);var warlockSpellsMaxLevel=(0,_utilities.getIntValue)(v.warlock_spells_max_level);var hasHigherLevelSlots=false;for(var level=spellLevel+1;level<=9;level+=1){var hasSlotsOrWarlockSlots=(0,_utilities.getIntValue)(v['spell_slots_l'+level])>0||warlockSlots&&level<=warlockSpellsMaxLevel;if(hasSlotsOrWarlockSlots){hasHigherLevelSlots=true;break;}}return hasHigherLevelSlots;}},{key:'updateChatMacro',value:function updateChatMacro(levelsToUpdate){var collectionArray=[];var repeatingItems=[];var chatMacro={};if(!levelsToUpdate){levelsToUpdate=[];for(var level=0;level<=9;level+=1){levelsToUpdate.push(level);}}var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=levelsToUpdate[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var _level5=_step6.value;collectionArray.push('spells_level_'+_level5+'_macro_var');repeatingItems.push('repeating_spell'+_level5);chatMacro[_level5]=[];}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}(0,_utilities.getSetRepeatingItems)('spells.updateChatMacro',{repeatingItems:repeatingItems,collectionArray:collectionArray,collectionArrayAddItems:['name','is_prepared'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=repeatingStrings[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var repeatingString=_step7.value;var name=v[repeatingString+'_name'];if(!name){removeRepeatingRow(repeatingString);continue;}var _level3=(0,_utilities.getLevelOfRepeatingString)(repeatingString);var classes=['spell-wrapper'];if(v[repeatingString+'_is_prepared']==='Yes'){classes.push('prepared');}classes=classes.map(function(className){return'sheet-'+className;}).join(' ');chatMacro[_level3].push('<span class="'+classes+'">['+name+'](~'+repeatingString+'_spell)</span>');}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=levelsToUpdate[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var _level4=_step8.value;submit['spells_level_'+_level4+'_macro_var']=chatMacro[_level4].join(', ');}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}});}},{key:'count',value:function count(){var collectionArray=['spells_known','spells_prepared'];var repeatingItems=[];for(var level=0;level<=9;level+=1){repeatingItems.push('repeating_spell'+level);}(0,_utilities.getSetRepeatingItems)('spells.updateChatMacro',{repeatingItems:repeatingItems,collectionArray:collectionArray,collectionArrayAddItems:['name','is_prepared'],callback:function callback(v,submit,repeatingStrings){submit.spells_known=0;submit.spells_prepared=0;var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=repeatingStrings[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var repeatingString=_step9.value;var name=v[repeatingString+'_name'];if(!name){removeRepeatingRow(repeatingString);continue;}var _level6=(0,_utilities.getLevelOfRepeatingString)(repeatingString);if(_level6>0){submit.spells_known+=1;if((0,_utilities.exists)(v[repeatingString+'_is_prepared'])){submit.spells_prepared+=1;}}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}});}},{key:'generateHigherLevelQueries',value:function generateHigherLevelQueries(){var collectionArray=['warlock_spell_slots','warlock_spells_max_level'];for(var level=1;level<=8;level+=1){collectionArray.push('cast_as_level_'+level);collectionArray.push('higher_level_query_'+level);}for(var _level7=1;_level7<=9;_level7+=1){collectionArray.push('spell_slots_l'+_level7);}(0,_utilities.getSetItems)('spells.generateHigherLevelQueries',{collectionArray:collectionArray,callback:function callback(v,submit){for(var _level8=1;_level8<=8;_level8+=1){var levels=[];var warlockSpellsMaxLevel=(0,_utilities.getIntValue)(v.warlock_spells_max_level);for(var j=_level8;j<=9;j+=1){if((0,_utilities.getIntValue)(v['spell_slots_l'+j])||j===warlockSpellsMaxLevel){levels.push(j);}}var higherLevelQuery=void 0;if(levels.length>1){higherLevelQuery='?{Spell Level|'+levels.join('|')+'}';}else if(levels.length===1){higherLevelQuery=levels[0];}else{higherLevelQuery=_level8;}submit['higher_level_query_'+_level8]=higherLevelQuery;submit['cast_as_level_'+_level8]=higherLevelQuery;}}});}},{key:'updateHasSpellSlots',value:function updateHasSpellSlots(){(0,_utilities.getSetItems)('spells.updateHasSpellSlots',{collectionArray:['spell_slots_toggle','has_spell_slots'],callback:function callback(v,submit){if(v.spell_slots_toggle==='on'){submit.has_spell_slots=true;}else{submit.has_spell_slots='';}}});}},{key:'updateHasSpellPoints',value:function updateHasSpellPoints(){(0,_utilities.getSetItems)('spells.updateHasSpellPoints',{collectionArray:['spell_points_toggle','has_spell_points'],callback:function callback(v,submit){if(v.spell_points_toggle==='on'){submit.has_spell_points=true;}else{submit.has_spell_points='';}}});}},{key:'updateDCAndAttack',value:function updateDCAndAttack(){var collectionArray=['pb','spell_ability','base_dc','spell_save_DC','spell_to_hit','finesse_mod','global_spell_attack_bonus','global_spell_dc_bonus'];var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=_constants.ABILITIES[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var ability=_step10.value;collectionArray.push(ability+'_mod');}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}(0,_utilities.getSetItems)('spells.updateDCAndAttackupdateDCAndAttack',{collectionArray:collectionArray,callback:function callback(v,submit){var baseDC=(0,_utilities.getIntValue)(v.base_dc,8);var pb=(0,_utilities.getIntValue)(v.pb);var abilityMod=(0,_utilities.getAbilityValue)(v,v.spell_ability);submit.spell_save_DC=baseDC+pb+abilityMod+(0,_utilities.getIntValue)(v.global_spell_dc_bonus);submit.spell_to_hit=(0,_utilities.showSign)(pb+abilityMod+(0,_utilities.getIntValue)(v.global_spell_attack_bonus));}});}},{key:'repeatingSectionChange',value:function repeatingSectionChange(){var _this3=this;var _loop=function _loop(level){on('change:repeating_spell'+level,function(eventInfo){var repeatingInfo=(0,_utilities.getRepeatingInfo)('repeating_spell'+level,eventInfo);if(repeatingInfo){if(repeatingInfo.field==='spell_level'){_this3.changeLevel(repeatingInfo.rowId,level);}if(repeatingInfo.field!=='spell_level'&&repeatingInfo.field!=='roll_formula'&&repeatingInfo.field!=='to_hit'&&repeatingInfo.field!=='damage_formula'&&repeatingInfo.field!=='damage_crit'&&repeatingInfo.field!=='second_damage_formula'&&repeatingInfo.field!=='second_damage_crit'&&repeatingInfo.field!=='damage_string'&&repeatingInfo.field!=='saving_throw_dc'&&repeatingInfo.field!=='heal_formula'&&repeatingInfo.field!=='higher_level_query'&&repeatingInfo.field!=='cast_as_level'&&repeatingInfo.field!=='parsed'){if(repeatingInfo.field!=='toggle_details'){_this3.update({level:level,rowId:repeatingInfo.rowId});}}if(repeatingInfo.field==='name'||repeatingInfo.field==='spell_level'){_this3.updateChatMacro([level]);}if(repeatingInfo.field==='name'||repeatingInfo.field==='is_prepared'){_this3.count();}}});on('remove:repeating_spell'+level,function(){console.info('spell removed at level',level);_this3.updateChatMacro([level]);_this3.count();});};for(var level=0;level<=9;level+=1){_loop(level);}}},{key:'updateShowHide',value:function updateShowHide(levelsToUpdate){var _this4=this;var collectionArray=['warlock_spell_slots','warlock_spells_max_level','spells_level_0_macro_var'];if(!levelsToUpdate){levelsToUpdate=[];for(var level=0;level<=9;level+=1){levelsToUpdate.push(level);}}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=levelsToUpdate[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var _level10=_step11.value;collectionArray.push('spell_slots_l'+_level10);collectionArray.push('spell_slots_l'+_level10+'_max');collectionArray.push('spells_level_'+_level10+'_macro_var');collectionArray.push('spells_level_'+_level10+'_show');}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}(0,_utilities.getSetItems)('spells.updateShowHide',{collectionArray:collectionArray,callback:function callback(v,submit){var hasCantrips=v.spells_level_0_macro_var;if(hasCantrips){submit.spells_level_0_show='true';}var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=levelsToUpdate[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var _level9=_step12.value;var hasSpells=v['spells_level_'+_level9+'_macro_var'];var hasSlots=(0,_utilities.getIntValue)(v['spell_slots_l'+_level9])>0;var hasSlotsMax=(0,_utilities.getIntValue)(v['spell_slots_l'+_level9+'_max'])>0;var hasHigherLevelSlots=_this4.checkIfSpellHasHigherLevelSlots(v,_level9);var warlockSlots=(0,_utilities.getIntValue)(v.warlock_spell_slots);var warlockSpellsMaxLevel=(0,_utilities.getIntValue)(v.warlock_spells_max_level);var hasSlotsOrWarlockSlots=hasSlots||warlockSlots&&_level9<=warlockSpellsMaxLevel;if(_level9===0&&hasSpells||_level9>0&&(hasSpells||hasSlotsOrWarlockSlots||hasSlotsMax||hasHigherLevelSlots)){submit['spells_level_'+_level9+'_show']='true';}else if(_level9>0){submit['spells_level_'+_level9+'_show']='';}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}}});}},{key:'watchForShowHideChanges',value:function watchForShowHideChanges(){var _this5=this;var watch=['warlock_spells_max_level','warlock_spell_slots'];var _loop2=function _loop2(level){on('change:spells_level_'+level+'_macro_var',function(){_this5.updateShowHide([level]);});watch.push('spell_slots_l'+level);watch.push('spell_slots_l'+level+'_max');};for(var level=0;level<=9;level+=1){_loop2(level);}watch=watch.map(function(item){return'change:'+item;}).join(' ');on(watch,function(){_this5.updateShowHide();});}},{key:'setup',value:function setup(){var _this6=this;this.repeatingSectionChange();this.watchForShowHideChanges();on('change:spell_ability',function(){_this6.updateSpellAbility();});on('change:pb change:global_spell_attack_bonus change:global_spell_damage_bonus change:global_spell_dc_bonus change:global_spell_heal_bonus',function(){_this6.update();});on('change:spell_slots_l1_bonus change:spell_slots_l2_bonus change:spell_slots_l3_bonus change:spell_slots_l4_bonus change:spell_slots_l5_bonus change:spell_slots_l6_bonus change:spell_slots_l7_bonus change:spell_slots_l8_bonus change:spell_slots_l9_bonus',function(){_this6.updateSlots();});on('change:warlock_spell_slots_calc change:warlock_spell_slots_bonus',function(){_this6.updateWarlockSlots();});on('change:spell_slots_toggle',function(){_this6.updateHasSpellSlots();});on('change:spell_points_toggle',function(){_this6.updateHasSpellPoints();});on('change:warlock_spell_slots change:warlock_spells_max_level change:spell_slots_l1 change:spell_slots_l2 change:spell_slots_l3 change:spell_slots_l4 change:spell_slots_l5 change:spell_slots_l6 change:spell_slots_l7 change:spell_slots_l8 change:spell_slots_l9',function(){_this6.generateHigherLevelQueries();});on('change:spell_ability change:pb change:base_dc change:global_spell_attack_bonus change:global_spell_dc_bonus',function(){_this6.updateDCAndAttack();});}}]);return Spells;}();

},{"../scripts/constants":19,"../scripts/utilities":21,"./../actionComponents/updateToggles":1}],28:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Traits=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utilities=require('../scripts/utilities');function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Traits=exports.Traits=function(){function Traits(){_classCallCheck(this,Traits);}_createClass(Traits,[{key:'calculatePercentDifference',value:function calculatePercentDifference(oldValue,newValue){return Math.abs((oldValue-newValue)/oldValue*100);}},{key:'set',value:function set(obj){var _this=this;if(!obj.name){obj.name=obj.storageName;}var collectionArrayAddItems=['storage_name','name','per_use','uses','freetext','saving_throw_toggle','damage_toggle','heal_toggle','extras_toggle','display_text','toggle_details'];for(var prop in obj){if(obj.hasOwnProperty(prop)){collectionArrayAddItems.push(prop);}}var itemId=void 0;(0,_utilities.getSetRepeatingItems)('traits.set',{repeatingItems:['repeating_trait'],collectionArrayAddItems:collectionArrayAddItems,callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=repeatingStrings[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _repeatingString=_step.value;if(v[_repeatingString+'_storage_name']===obj.storageName){itemId=(0,_utilities.getIdOfRepeatingString)(_repeatingString);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}if(!itemId){itemId=generateRowID();}var repeatingString='repeating_trait_'+itemId;if(!obj.clear&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_storage_name'])){submit[repeatingString+'_storage_name']=obj.storageName;}if(!obj.clear&&v[repeatingString+'_name']!==obj.name){submit[repeatingString+'_name']=obj.name;}delete obj.storageName;if(obj.clear){delete obj.clear;for(var _prop in obj){if(obj.hasOwnProperty(_prop)&&!(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_'+_prop])){submit[repeatingString+'_'+_prop]=obj[_prop];}}}else{for(var _prop2 in obj){if(obj.hasOwnProperty(_prop2)){if((_prop2==='name'||_prop2==='freetext')&&((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_'+_prop2])||_this.calculatePercentDifference(v[repeatingString+'_'+_prop2].length,obj[_prop2].length)<10)){submit[repeatingString+'_'+_prop2]=obj[_prop2];}else if(v[repeatingString+'_'+_prop2]!==obj[_prop2]){submit[repeatingString+'_'+_prop2]=obj[_prop2];}}}if(obj.type&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_type'])){submit[repeatingString+'_type']=obj.type;}if(obj.saving_throw_ability||obj.saving_throw_vs_ability||obj.saving_throw_failure){submit[repeatingString+'_saving_throw_toggle']=1;}if(obj.damage||obj.damage_ability||obj.damage_bonus){submit[repeatingString+'_damage_toggle']=1;}if(obj.heal||obj.heal_ability||obj.heal_bonus||obj.heal_query_toggle){submit[repeatingString+'_heal_toggle']=1;}if(obj.freetext&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_extras_toggle'])){submit[repeatingString+'_extras_toggle']=1;}if(obj.perUse&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_per_use'])){submit[repeatingString+'_per_use']=obj.perUse;}if(obj.uses_max&&!obj.uses&&(0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_uses'])){submit[repeatingString+'_uses']=obj.uses_max;}if(obj.freetext&&(0,_utilities.getRepeatingItemOfRepeatingString)(repeatingString)==='repeating_trait'&&((0,_utilities.isUndefinedOrEmpty)(v[repeatingString+'_display_text'])||_this.calculatePercentDifference(v[repeatingString+'_display_text'].length,obj.freetext.length)<10)){submit[repeatingString+'_display_text']=obj.freetext;}submit[repeatingString+'_toggle_details']=0;}},returnCallback:function returnCallback(){return itemId;}});}},{key:'remove',value:function remove(storageName){(0,_utilities.getSetRepeatingItems)('traits.set',{repeatingItems:['repeating_trait'],collectionArrayAddItems:['storage_name'],callback:function callback(v,submit,repeatingStrings){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=repeatingStrings[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var repeatingString=_step2.value;if(v[repeatingString+'_storage_name']===storageName){removeRepeatingRow(repeatingString);}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}});}}]);return Traits;}();

},{"../scripts/utilities":21}]},{},[20]);
</script>
<rolltemplate class="sheet-rolltemplate-5e-shaped">
  <div class="rt-card">
    <div class="sheet-tooltip-position-wrapper">
      {{#2d20kh1}}
        <div class="sheet-tooltip">
          <div class="tooltip-toggle-text advantage-circle advantage"></div>
          <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
            <span><span data-i18n="ADVANTAGE">Advantage</span></span>
          </div>
        </div>
      {{/2d20kh1}}
      {{#2d20kl1}}
        <div class="sheet-tooltip">
          <div class="tooltip-toggle-text advantage-circle disadvantage"></div>
          <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
            <span><span data-i18n="DISADVANTAGE">Disadvantage</span></span>
          </div>
        </div>
      {{/2d20kl1}}
    </div>
    <div class="rt-title-wrap">
      <span class="rt-title{{#action}} action{{/action}}{{#spell}} spell{{/spell}}{{#ability}} ability{{/ability}}{{#saving_throw}} saving-throw{{/saving_throw}}{{#death_saving_throw}} death-saving-throw{{/death_saving_throw}}">
        <span class="rt-title-name">{{title}}</span>
        {{#recharge}}
          <span class="recharge{{#hide_recharge}} gm-info-block{{/hide_recharge}}">
            {{recharge}}
          </span>
        {{/recharge}}
        {{#cost_exists}}
          <span class="cost{{#hide_cost}} gm-info-block{{/hide_cost}}">
            ({{cost}})
          </span>
        {{/cost_exists}}
      </span>
    </div>
    <div class="rt-subheader">
      {{#spell}}
        <div class="italic">
          {{spell_level}}{{#cast_as_level}} (<span class="lowercase" data-i18n="AS">as</span> {{cast_as_level}}){{/cast_as_level}}{{#school}} <span class="lowercase">{{school}}</span>{{/school}}{{#ritual}}
          (<span class="lowercase" data-i18n="RITUAL">ritual</span>){{/ritual}}
        </div>
      {{/spell}}
      {{#show_character_name}}
        <div class="rt-character-name">{{character_name}}</div>
      {{/show_character_name}}
      {{#subheader}}
        <div>{{subheader}}</div>
      {{/subheader}}
    </div>

    {{#emote}}
      <p class="rt-emote">{{character_name}} {{emote}}</p>
    {{/emote}}
    <div class="rt-content">
      {{#uses}}
        <div class="no-border">
          <div class="bold"><span data-i18n="USES">Uses</span>:</span> {{uses}} / {{uses_max}}</div>
        </div>
      {{/uses}}
      {{#casting_time}}
        <div class="no-border">
          <span class="bold"><span data-i18n="CASTING_TIME">Casting Time</span>:</span> <span>{{casting_time}}</span>
        </div>
      {{/casting_time}}
      {{#range}}
        <div class="no-border">
          <span class="bold"><span data-i18n="RANGE">Range</span>:</span> <span>{{range}}</span> <span></span> <span>{{#ammo}}{{ammo}}{{#ammo_name}}{{ammo_name}}{{/ammo_name}}{{^ammo_name}}<span class="lowercase" data-i18n="AMMO">ammo</span>{{/ammo_name}}{{/ammo}}</span>
        </div>
      {{/range}}
      {{#reach}}
        <div class="no-border">
          <span class="bold"><span data-i18n="REACH">Reach</span>:</span> <span>{{reach}}</span>
        </div>
      {{/reach}}
      {{#components}}
        <div class="no-border">
          <span class="bold"><span data-i18n="COMPONENTS">Components</span>:</span>
          {{components}}
          {{#materials}}({{materials}}){{/materials}}
        </div>
      {{/components}}
      {{#duration}}
        <div class="no-border">
          <span class="bold"><span data-i18n="DURATION">Duration</span>:</span>
          <span>{{duration}}</span>
        </div>
      {{/duration}}
      {{#content}}
        <div class="{{#hide_spell_content}}gm-info-block{{/hide_spell_content}}">{{content}}</div>
      {{/content}}
      {{#higher_level}}
        <div class="{{#hide_spell_content}}gm-info-block{{/hide_spell_content}}">{{higher_level}}</div>
      {{/higher_level}}
      {{#text_top}}
        <div class="output-small">{{text_top}}</div>
      {{/text_top}}
      {{#roll1}}
        <div>
          <div class="shaped-row{{^roll2}} center{{/roll2}}{{#attack}}{{#hide_attack}} gm-info-flex{{/hide_attack}}{{/attack}}{{#action}}{{#hide_attack}} gm-info-flex{{/hide_attack}}{{/action}}{{#ability}}{{#hide_ability_checks}} gm-info-flex{{/hide_ability_checks}}{{/ability}}{{#saving_throw}}{{#hide_saving_throws}} gm-info-flex{{/hide_saving_throws}}{{/saving_throw}}">
            <div class="outer-padding output{{#roll2}} col-50 right{{/roll2}}">{{roll1}}</div>
            {{#roll2}}
              <div class="col-50 outer-padding output border-left">{{roll2}}</div>
            {{/roll2}}
          </div>
          {{#vs_ac}}
            <div class="output-small-label center ">
              <span data-i18n="VS">vs</span>
              {{#targetName}}
                <span>{{targetName}}</span>
              {{/targetName}}
              <span data-i18n="AC">AC</span>
              {{#targetAC}}
                <span>{{targetAC}}</span>
              {{/targetAC}}
            </div>
          {{/vs_ac}}
        </div>
      {{/roll1}}
      {{#saving_throw_dc}}
        <div class="center">
          {{#saving_throw_condition}}
            <div class="output-small-label">{{saving_throw_condition}}</div>
          {{/saving_throw_condition}}
          {{#saving_throw_dc}}
            {{#targetName}}
              <div class="col-100 output-small-label">
                <span data-i18n="VS">vs</span>
                <span>{{targetName}}</span>
              </div>
            {{/targetName}}
            <div>
              <span class="output-small">
                <span class="{{#hide_saving_throw_dc}}gm-info-inline-block{{/hide_saving_throw_dc}}"><span data-i18n="DC">DC</span> {{saving_throw_dc}}</span>
                {{#saving_throw_vs_ability}}
                  <span>[<span data-i18n="{{saving_throw_vs_ability}}">{{saving_throw_vs_ability}}</span>](~target|shaped_{{saving_throw_vs_ability}}_saving_throw)</span>
                {{/saving_throw_vs_ability}}
                <span data-i18n="SAVING_THROW" class="lowercase">Saving throw</span>
              </span>
            </div>
          {{/saving_throw_dc}}
          {{#saving_throw_failure}}
            <div class="{{#hide_saving_throw_failure}}gm-info-block{{/hide_saving_throw_failure}}">
              <span class="bold italic"><span data-i18n="SAVE_FAILURE">Save Failure</span>.</span>
              {{saving_throw_failure}}
            </div>
          {{/saving_throw_failure}}
          {{#saving_throw_success}}
            <div class="{{#hide_saving_throw_success}}gm-info-block{{/hide_saving_throw_success}}">
              <span class="bold italic"><span data-i18n="SAVE_SUCCESS">Save Success</span>.</span>
              {{saving_throw_success}}
            </div>
          {{/saving_throw_success}}
        </div>
      {{/saving_throw_dc}}
      {{#damage}}
        <div class="shaped-row zebra center vert-center{{#hide_damage}} gm-info-flex{{/hide_damage}}">
          <div class="{{#second_damage}}col-45 right{{/second_damage}}">
            <div class="inline-block">
              <div class="output center">
                <span>{{damage}}</span>
                {{#rollWasCrit() roll1}}
                  <span>+ {{crit_damage}}</span>
                {{/rollWasCrit() roll1}}
                {{#^rollWasCrit() roll1}}
                  {{#rollWasCrit() roll2}}
                    <span>+ {{crit_damage}}</span>
                  {{/rollWasCrit() roll2}}
                {{/^rollWasCrit() roll1}}
              </div>
              <div class="output-small-label center">
                {{damage_type}}
                {{^damage_type}}
                  <span class="lowercase" data-i18n="DAMAGE">damage</span>
                {{/damage_type}}
              </div>
            </div>
          </div>
      {{/damage}}
      {{#second_damage}}
        {{#damage}}
          <div class="mar-l-md mar-r-md">
            <div class="output">+</div>
            <div class="height-one-em"></div>
          </div>
        {{/damage}}
        {{^damage}}
          <div class="shaped-row zebra vert-center">
        {{/damage}}
          <div class="{{#damage}}col-45 left{{/damage}}">
            <div class="inline-block">
              <div class="output center">
                <span>{{second_damage}}</span>
                {{#rollWasCrit() roll1}}
                  <span>+ {{second_crit_damage}}</span>
                {{/rollWasCrit() roll1}}
                {{#^rollWasCrit() roll1}}
                  {{#rollWasCrit() roll2}}
                    <span>+ {{second_crit_damage}}</span>
                  {{/rollWasCrit() roll2}}
                {{/^rollWasCrit() roll1}}
              </div>
              <div class="output-small-label center">
                {{second_damage_type}}
                {{^second_damage_type}}
                  <span class="lowercase" data-i18n="DAMAGE">damage</span>
                {{/second_damage_type}}
              </div>
            </div>
          </div>
        {{^damage}}
          </div>
        {{/damage}}
      {{/second_damage}}
      {{#damage}}
        </div>
      {{/damage}}
      {{#heal}}
        <div class="vert-center output-small"><span data-i18n="HEAL_FOR">Heal for</span> {{heal}} <span class="lowercase" data-i18n="HIT_POINTS">hit points</span></div>
      {{/heal}}
      {{#death_saving_throw_successes}}
        <div class="shaped-row space-around vert-center">
          <div>
            <span data-i18n="SUCCESSES">Successes</span> {{death_saving_throw_successes}} / 3
          </div>
          {{#death_saving_throw_failures}}
            <div>
              <span data-i18n="FAILURES">Failures</span> {{death_saving_throw_failures}} / 3
            </div>
          {{/death_saving_throw_failures}}
        </div>
      {{/death_saving_throw_successes}}
      {{#spell_list}}
        <div class="{{#spells_text_size}}output-small{{/spells_text_size}}{{#prepared_matters}} prepared-matters{{/prepared_matters}}">
          {{#has_spell_points}}
            <div class="rt-title spell-points">
              {{spell_points}}/{{spell_points_max}} <span data-i18n="POINTS">Points</span>{{#spell_points_limit}}, <span data-i18n="LIMIT" class="lowercase">limit</span> {{spell_points_limit}}{{/spell_points_limit}}
            </div>
          {{/has_spell_points}}
          {{#has_warlock_spell_slots}}
            <div>
              <span><span data-i18n="WARLOCK_SPELL_SLOTS">Warlock spell slots</span> ({{warlock_spell_slots}}/{{warlock_spell_slots_max}}):</span> {{warlock_spells_max_level}}
            </div>
          {{/has_warlock_spell_slots}}
          {{#cantrips}}
            <div>
              <span>
                <span data-i18n="CANTRIPS">Cantrips</span>
                <span>(<span data-i18n="AT_WILL">at will</span>):</span>
              </span>
              <span class="lowercase italic">{{cantrips}}</span>
            </div>
          {{/cantrips}}
          {{#spells_level_1_show}}
            <div>
              <span><span data-i18n="1ST_LEVEL">1st-level</span>{{#has_spell_slots}}{{#spells_level_1_uses}} ({{spells_level_1_uses}}){{/spells_level_1_uses}}{{/has_spell_slots}}{{#has_spell_points}} (2 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_1}}</span>
            </div>
          {{/spells_level_1_show}}
          {{#spells_level_2_show}}
            <div>
              <span><span data-i18n="2ND_LEVEL">2nd-level</span>{{#has_spell_slots}}{{#spells_level_2_uses}} ({{spells_level_2_uses}}){{/spells_level_2_uses}}{{/has_spell_slots}}{{#has_spell_points}} (3 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_2}}</span>
            </div>
          {{/spells_level_2_show}}
          {{#spells_level_3_show}}
            <div>
              <span><span data-i18n="3RD_LEVEL">3rd-level</span>{{#has_spell_slots}}{{#spells_level_3_uses}} ({{spells_level_3_uses}}){{/spells_level_3_uses}}{{/has_spell_slots}}{{#has_spell_points}} (5 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_3}}</span>
            </div>
          {{/spells_level_3_show}}
          {{#spells_level_4_show}}
            <div>
              <span><span data-i18n="4TH_LEVEL">4th-level</span>{{#has_spell_slots}}{{#spells_level_4_uses}} ({{spells_level_4_uses}}){{/spells_level_4_uses}}{{/has_spell_slots}}{{#has_spell_points}} (6 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_4}}</span>
            </div>
          {{/spells_level_4_show}}
          {{#spells_level_5_show}}
            <div>
              <span><span data-i18n="5TH_LEVEL">5th-level</span>{{#has_spell_slots}}{{#spells_level_5_uses}} ({{spells_level_5_uses}}){{/spells_level_5_uses}}{{/has_spell_slots}}{{#has_spell_points}} (7 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_5}}</span>
            </div>
          {{/spells_level_5_show}}
          {{#spells_level_6_show}}
            <div>
              <span><span data-i18n="6TH_LEVEL">6th-level</span>{{#has_spell_slots}}{{#spells_level_6_uses}} ({{spells_level_6_uses}}){{/spells_level_6_uses}}{{/has_spell_slots}}{{#has_spell_points}} (9 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_6}}</span>
            </div>
          {{/spells_level_6_show}}
          {{#spells_level_7_show}}
            <div>
              <span><span data-i18n="7TH_LEVEL">7th-level</span>{{#has_spell_slots}}{{#spells_level_7_uses}} ({{spells_level_7_uses}}){{/spells_level_7_uses}}{{/has_spell_slots}}{{#has_spell_points}} (10 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_7}}</span>
            </div>
          {{/spells_level_7_show}}
          {{#spells_level_8_show}}
            <div>
              <span><span data-i18n="8TH_LEVEL">8th-level</span>{{#has_spell_slots}}{{#spells_level_8_uses}} ({{spells_level_8_uses}}){{/spells_level_8_uses}}{{/has_spell_slots}}{{#has_spell_points}} (11 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_8}}</span>
            </div>
          {{/spells_level_8_show}}
          {{#spells_level_9_show}}
            <div>
              <span><span data-i18n="9TH_LEVEL">9th-level</span>{{#has_spell_slots}}{{#spells_level_9_uses}} ({{spells_level_9_uses}}){{/spells_level_9_uses}}{{/has_spell_slots}}{{#has_spell_points}} (13 <span data-i18n="POINTS" class="lowercase"></span>){{/has_spell_points}}:</span>
              <span class="lowercase italic">{{spells_level_9}}</span>
            </div>
          {{/spells_level_9_show}}
        </div>
      {{/spell_list}}

      {{#text_center}}
        <div class="center">{{text_center}}</div>
      {{/text_center}}
      {{#text}}
        <div>{{text}}</div>
      {{/text}}
      {{#text_big}}
        <div class="output-small">{{text_big}}</div>
      {{/text_big}}
      {{#macros}}
        <div class="center">{{macros}}</div>
      {{/macros}}
      {{#allprops() freetext text text_center text_big macros text_top character_name saving_throw title ignore d20 1d20 show_character_name subheader cost_exists cost per_use uses uses_max roll1 roll2 2d20kh1 2d20kl1 vs_ac ability emote death_saving_throw death_saving_throw_successes death_saving_throw_failures targetAC targetName action type crit_name crit_text damage damage_type crit_damage second_damage second_damage_type second_crit_damage ranged damage reach range ammo ammo_name spell spell_list prepared_matters saving_throw_condition saving_throw_dc saving_throw_vs_ability saving_throw_success saving_throw_failure spell_level school ritual content higher_level cast_as_level heal casting_time duration components materials hide_ability_checks hide_saving_throws hide_saving_throw_dc hide_spell_content hide_freetext hide_attack hide_damage hide_saving_throw_failure hide_saving_throw_success recharge hide_recharge fx trait armor equipment cantrips spells_level_1 spells_level_1_uses spells_level_1_show spells_level_2 spells_level_2_uses spells_level_2_show spells_level_3 spells_level_3_uses spells_level_3_show spells_level_4 spells_level_4_uses spells_level_4_show spells_level_5 spells_level_5_uses spells_level_5_show spells_level_6 spells_level_6_uses spells_level_6_show spells_level_7 spells_level_7_uses spells_level_7_show spells_level_8 spells_level_8_uses spells_level_8_show spells_level_9 spells_level_9_uses spells_level_9_show has_spell_slots has_spell_points spell_points spell_points_max spell_points_limit has_warlock_spell_slots warlock_spell_slots warlock_spell_slots_max warlock_spells_max_level spells_text_size}}
        <div>
          <span class="bold italic">{{key}}.</span>
          {{value}}
        </div>
      {{/allprops() freetext text text_center text_big macros text_top character_name saving_throw title ignore d20 1d20 show_character_name subheader cost_exists cost per_use uses uses_max roll1 roll2 2d20kh1 2d20kl1 vs_ac ability emote death_saving_throw death_saving_throw_successes death_saving_throw_failures targetAC targetName action type crit_name crit_text damage damage_type crit_damage second_damage second_damage_type second_crit_damage ranged damage reach range ammo ammo_name spell spell_list prepared_matters saving_throw_condition saving_throw_dc saving_throw_vs_ability saving_throw_success saving_throw_failure spell_level school ritual content higher_level cast_as_level heal casting_time duration components materials hide_ability_checks hide_saving_throws hide_saving_throw_dc hide_spell_content hide_freetext hide_attack hide_damage hide_saving_throw_failure hide_saving_throw_success recharge hide_recharge fx trait armor equipment cantrips spells_level_1 spells_level_1_uses spells_level_1_show spells_level_2 spells_level_2_uses spells_level_2_show spells_level_3 spells_level_3_uses spells_level_3_show spells_level_4 spells_level_4_uses spells_level_4_show spells_level_5 spells_level_5_uses spells_level_5_show spells_level_6 spells_level_6_uses spells_level_6_show spells_level_7 spells_level_7_uses spells_level_7_show spells_level_8 spells_level_8_uses spells_level_8_show spells_level_9 spells_level_9_uses spells_level_9_show has_spell_slots has_spell_points spell_points spell_points_max spell_points_limit has_warlock_spell_slots warlock_spell_slots warlock_spell_slots_max warlock_spells_max_level spells_text_size}}
      {{#freetext}}
        <div class="{{#hide_freetext}} gm-info-block{{/hide_freetext}}">{{freetext}}</div>
      {{/freetext}}
      {{#crit_name}}
        {{#rollWasCrit() roll1}}
          <div>
            <span class="bold italic">{{crit_name}}.</span>
            {{crit_text}}
          </div>
        {{/rollWasCrit() roll1}}
        {{#^rollWasCrit() roll1}}
          {{#rollWasCrit() roll2}}
            <div>
              <span class="bold italic">{{crit_name}}.</span>
              {{crit_text}}
            </div>
          {{/rollWasCrit() roll2}}
        {{/^rollWasCrit() roll1}}
      {{/crit_name}}
    </div>
  </div>
</rolltemplate>
